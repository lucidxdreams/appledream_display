(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zw(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var sp={exports:{}},Ru={};var K0;function Bw(){if(K0)return Ru;K0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:s,type:i,key:u,ref:a!==void 0?a:null,props:o}}return Ru.Fragment=t,Ru.jsx=e,Ru.jsxs=e,Ru}var X0;function jw(){return X0||(X0=1,sp.exports=Bw()),sp.exports}var F=jw(),ap={exports:{}},Rt={};var $0;function Fw(){if($0)return Rt;$0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=T&&q[T]||q["@@iterator"],typeof q=="function"?q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function O(q,tt,ut){this.props=q,this.context=tt,this.refs=A,this.updater=ut||S}O.prototype.isReactComponent={},O.prototype.setState=function(q,tt){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,tt,"setState")},O.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function L(){}L.prototype=O.prototype;function z(q,tt,ut){this.props=q,this.context=tt,this.refs=A,this.updater=ut||S}var B=z.prototype=new L;B.constructor=z,E(B,O.prototype),B.isPureReactComponent=!0;var I=Array.isArray;function k(){}var b={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(q,tt,ut){var ct=ut.ref;return{$$typeof:s,type:q,key:tt,ref:ct!==void 0?ct:null,props:ut}}function M(q,tt){return R(q.type,tt,q.props)}function N(q){return typeof q=="object"&&q!==null&&q.$$typeof===s}function P(q){var tt={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ut){return tt[ut]})}var V=/\/+/g;function nt(q,tt){return typeof q=="object"&&q!==null&&q.key!=null?P(""+q.key):tt.toString(36)}function it(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(k,k):(q.status="pending",q.then(function(tt){q.status==="pending"&&(q.status="fulfilled",q.value=tt)},function(tt){q.status==="pending"&&(q.status="rejected",q.reason=tt)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function G(q,tt,ut,ct,yt){var dt=typeof q;(dt==="undefined"||dt==="boolean")&&(q=null);var bt=!1;if(q===null)bt=!0;else switch(dt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(q.$$typeof){case s:case t:bt=!0;break;case m:return bt=q._init,G(bt(q._payload),tt,ut,ct,yt)}}if(bt)return yt=yt(q),bt=ct===""?"."+nt(q,0):ct,I(yt)?(ut="",bt!=null&&(ut=bt.replace(V,"$&/")+"/"),G(yt,tt,ut,"",function(qe){return qe})):yt!=null&&(N(yt)&&(yt=M(yt,ut+(yt.key==null||q&&q.key===yt.key?"":(""+yt.key).replace(V,"$&/")+"/")+bt)),tt.push(yt)),1;bt=0;var Vt=ct===""?".":ct+":";if(I(q))for(var Xt=0;Xt<q.length;Xt++)ct=q[Xt],dt=Vt+nt(ct,Xt),bt+=G(ct,tt,ut,dt,yt);else if(Xt=y(q),typeof Xt=="function")for(q=Xt.call(q),Xt=0;!(ct=q.next()).done;)ct=ct.value,dt=Vt+nt(ct,Xt++),bt+=G(ct,tt,ut,dt,yt);else if(dt==="object"){if(typeof q.then=="function")return G(it(q),tt,ut,ct,yt);throw tt=String(q),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return bt}function X(q,tt,ut){if(q==null)return q;var ct=[],yt=0;return G(q,ct,"","",function(dt){return tt.call(ut,dt,yt++)}),ct}function lt(q){if(q._status===-1){var tt=q._result;tt=tt(),tt.then(function(ut){(q._status===0||q._status===-1)&&(q._status=1,q._result=ut)},function(ut){(q._status===0||q._status===-1)&&(q._status=2,q._result=ut)}),q._status===-1&&(q._status=0,q._result=tt)}if(q._status===1)return q._result.default;throw q._result}var pt=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Et={map:X,forEach:function(q,tt,ut){X(q,function(){tt.apply(this,arguments)},ut)},count:function(q){var tt=0;return X(q,function(){tt++}),tt},toArray:function(q){return X(q,function(tt){return tt})||[]},only:function(q){if(!N(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Rt.Activity=v,Rt.Children=Et,Rt.Component=O,Rt.Fragment=e,Rt.Profiler=a,Rt.PureComponent=z,Rt.StrictMode=i,Rt.Suspense=h,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return b.H.useMemoCache(q)}},Rt.cache=function(q){return function(){return q.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(q,tt,ut){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ct=E({},q.props),yt=q.key;if(tt!=null)for(dt in tt.key!==void 0&&(yt=""+tt.key),tt)!x.call(tt,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&tt.ref===void 0||(ct[dt]=tt[dt]);var dt=arguments.length-2;if(dt===1)ct.children=ut;else if(1<dt){for(var bt=Array(dt),Vt=0;Vt<dt;Vt++)bt[Vt]=arguments[Vt+2];ct.children=bt}return R(q.type,yt,ct)},Rt.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},Rt.createElement=function(q,tt,ut){var ct,yt={},dt=null;if(tt!=null)for(ct in tt.key!==void 0&&(dt=""+tt.key),tt)x.call(tt,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(yt[ct]=tt[ct]);var bt=arguments.length-2;if(bt===1)yt.children=ut;else if(1<bt){for(var Vt=Array(bt),Xt=0;Xt<bt;Xt++)Vt[Xt]=arguments[Xt+2];yt.children=Vt}if(q&&q.defaultProps)for(ct in bt=q.defaultProps,bt)yt[ct]===void 0&&(yt[ct]=bt[ct]);return R(q,dt,yt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(q){return{$$typeof:f,render:q}},Rt.isValidElement=N,Rt.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:lt}},Rt.memo=function(q,tt){return{$$typeof:d,type:q,compare:tt===void 0?null:tt}},Rt.startTransition=function(q){var tt=b.T,ut={};b.T=ut;try{var ct=q(),yt=b.S;yt!==null&&yt(ut,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(k,pt)}catch(dt){pt(dt)}finally{tt!==null&&ut.types!==null&&(tt.types=ut.types),b.T=tt}},Rt.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},Rt.use=function(q){return b.H.use(q)},Rt.useActionState=function(q,tt,ut){return b.H.useActionState(q,tt,ut)},Rt.useCallback=function(q,tt){return b.H.useCallback(q,tt)},Rt.useContext=function(q){return b.H.useContext(q)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(q,tt){return b.H.useDeferredValue(q,tt)},Rt.useEffect=function(q,tt){return b.H.useEffect(q,tt)},Rt.useEffectEvent=function(q){return b.H.useEffectEvent(q)},Rt.useId=function(){return b.H.useId()},Rt.useImperativeHandle=function(q,tt,ut){return b.H.useImperativeHandle(q,tt,ut)},Rt.useInsertionEffect=function(q,tt){return b.H.useInsertionEffect(q,tt)},Rt.useLayoutEffect=function(q,tt){return b.H.useLayoutEffect(q,tt)},Rt.useMemo=function(q,tt){return b.H.useMemo(q,tt)},Rt.useOptimistic=function(q,tt){return b.H.useOptimistic(q,tt)},Rt.useReducer=function(q,tt,ut){return b.H.useReducer(q,tt,ut)},Rt.useRef=function(q){return b.H.useRef(q)},Rt.useState=function(q){return b.H.useState(q)},Rt.useSyncExternalStore=function(q,tt,ut){return b.H.useSyncExternalStore(q,tt,ut)},Rt.useTransition=function(){return b.H.useTransition()},Rt.version="19.2.4",Rt}var Z0;function xg(){return Z0||(Z0=1,ap.exports=Fw()),ap.exports}var mt=xg(),op={exports:{}},Cu={},lp={exports:{}},up={};var J0;function Hw(){return J0||(J0=1,(function(s){function t(G,X){var lt=G.length;G.push(X);t:for(;0<lt;){var pt=lt-1>>>1,Et=G[pt];if(0<a(Et,X))G[pt]=X,G[lt]=Et,lt=pt;else break t}}function e(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var X=G[0],lt=G.pop();if(lt!==X){G[0]=lt;t:for(var pt=0,Et=G.length,q=Et>>>1;pt<q;){var tt=2*(pt+1)-1,ut=G[tt],ct=tt+1,yt=G[ct];if(0>a(ut,lt))ct<Et&&0>a(yt,ut)?(G[pt]=yt,G[ct]=lt,pt=ct):(G[pt]=ut,G[tt]=lt,pt=tt);else if(ct<Et&&0>a(yt,lt))G[pt]=yt,G[ct]=lt,pt=ct;else break t}}return X}function a(G,X){var lt=G.sortIndex-X.sortIndex;return lt!==0?lt:G.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();s.unstable_now=function(){return u.now()-f}}var h=[],d=[],m=1,v=null,T=3,y=!1,S=!1,E=!1,A=!1,O=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function B(G){for(var X=e(d);X!==null;){if(X.callback===null)i(d);else if(X.startTime<=G)i(d),X.sortIndex=X.expirationTime,t(h,X);else break;X=e(d)}}function I(G){if(E=!1,B(G),!S)if(e(h)!==null)S=!0,k||(k=!0,P());else{var X=e(d);X!==null&&it(I,X.startTime-G)}}var k=!1,b=-1,x=5,R=-1;function M(){return A?!0:!(s.unstable_now()-R<x)}function N(){if(A=!1,k){var G=s.unstable_now();R=G;var X=!0;try{t:{S=!1,E&&(E=!1,L(b),b=-1),y=!0;var lt=T;try{e:{for(B(G),v=e(h);v!==null&&!(v.expirationTime>G&&M());){var pt=v.callback;if(typeof pt=="function"){v.callback=null,T=v.priorityLevel;var Et=pt(v.expirationTime<=G);if(G=s.unstable_now(),typeof Et=="function"){v.callback=Et,B(G),X=!0;break e}v===e(h)&&i(h),B(G)}else i(h);v=e(h)}if(v!==null)X=!0;else{var q=e(d);q!==null&&it(I,q.startTime-G),X=!1}}break t}finally{v=null,T=lt,y=!1}X=void 0}}finally{X?P():k=!1}}}var P;if(typeof z=="function")P=function(){z(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,nt=V.port2;V.port1.onmessage=N,P=function(){nt.postMessage(null)}}else P=function(){O(N,0)};function it(G,X){b=O(function(){G(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_next=function(G){switch(T){case 1:case 2:case 3:var X=3;break;default:X=T}var lt=T;T=X;try{return G()}finally{T=lt}},s.unstable_requestPaint=function(){A=!0},s.unstable_runWithPriority=function(G,X){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var lt=T;T=G;try{return X()}finally{T=lt}},s.unstable_scheduleCallback=function(G,X,lt){var pt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?pt+lt:pt):lt=pt,G){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=lt+Et,G={id:m++,callback:X,priorityLevel:G,startTime:lt,expirationTime:Et,sortIndex:-1},lt>pt?(G.sortIndex=lt,t(d,G),e(h)===null&&G===e(d)&&(E?(L(b),b=-1):E=!0,it(I,lt-pt))):(G.sortIndex=Et,t(h,G),S||y||(S=!0,k||(k=!0,P()))),G},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(G){var X=T;return function(){var lt=T;T=X;try{return G.apply(this,arguments)}finally{T=lt}}}})(up)),up}var W0;function qw(){return W0||(W0=1,lp.exports=Hw()),lp.exports}var cp={exports:{}},ln={};var t1;function Gw(){if(t1)return ln;t1=1;var s=xg();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:d,implementation:m}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(h,d,null,m)},ln.flushSync=function(h){var d=u.T,m=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=d,i.p=m,i.d.f()}},ln.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},ln.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},ln.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,v=f(m,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:y}):m==="script"&&i.d.X(h,{crossOrigin:v,integrity:T,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ln.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=f(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},ln.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,v=f(m,d.crossOrigin);i.d.L(h,m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ln.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=f(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},ln.requestFormReset=function(h){i.d.r(h)},ln.unstable_batchedUpdates=function(h,d){return h(d)},ln.useFormState=function(h,d,m){return u.H.useFormState(h,d,m)},ln.useFormStatus=function(){return u.H.useHostTransitionStatus()},ln.version="19.2.4",ln}var e1;function Yw(){if(e1)return cp.exports;e1=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),cp.exports=Gw(),cp.exports}var n1;function Qw(){if(n1)return Cu;n1=1;var s=qw(),t=xg(),e=Yw();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var r=n,l=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(l=r.return),n=r.return;while(n)}return r.tag===3?l:null}function u(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(i(188))}function d(n){var r=n.alternate;if(!r){if(r=o(n),r===null)throw Error(i(188));return r!==n?null:n}for(var l=n,c=r;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return h(g),n;if(_===c)return h(g),r;_=_.sibling}throw Error(i(188))}if(l.return!==c.return)l=g,c=_;else{for(var C=!1,U=g.child;U;){if(U===l){C=!0,l=g,c=_;break}if(U===c){C=!0,c=g,l=_;break}U=U.sibling}if(!C){for(U=_.child;U;){if(U===l){C=!0,l=_,c=g;break}if(U===c){C=!0,c=_,l=g;break}U=U.sibling}if(!C)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:r}function m(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=m(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),z=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var V=Symbol.for("react.client.reference");function nt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===V?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case O:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case k:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case z:return n.displayName||"Context";case L:return(n._context.displayName||"Context")+".Consumer";case B:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case b:return r=n.displayName||null,r!==null?r:nt(n.type)||"Memo";case x:r=n._payload,n=n._init;try{return nt(n(r))}catch{}}return null}var it=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},pt=[],Et=-1;function q(n){return{current:n}}function tt(n){0>Et||(n.current=pt[Et],pt[Et]=null,Et--)}function ut(n,r){Et++,pt[Et]=n.current,n.current=r}var ct=q(null),yt=q(null),dt=q(null),bt=q(null);function Vt(n,r){switch(ut(dt,r),ut(yt,n),ut(ct,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?g0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=g0(r),n=y0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}tt(ct),ut(ct,n)}function Xt(){tt(ct),tt(yt),tt(dt)}function qe(n){n.memoizedState!==null&&ut(bt,n);var r=ct.current,l=y0(r,n.type);r!==l&&(ut(yt,n),ut(ct,l))}function Ze(n){yt.current===n&&(tt(ct),tt(yt)),bt.current===n&&(tt(bt),Au._currentValue=lt)}var Ee,Kr;function Xn(n){if(Ee===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Ee=r&&r[1]||"",Kr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+n+Kr}var ra=!1;function Ii(n,r){if(!n||ra)return"";ra=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(et){var J=et}Reflect.construct(n,[],at)}else{try{at.call()}catch(et){J=et}n.call(at.prototype)}}else{try{throw Error()}catch(et){J=et}(at=n())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(et){if(et&&J&&typeof et.stack=="string")return[et.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),C=_[0],U=_[1];if(C&&U){var H=C.split(`
`),Z=U.split(`
`);for(g=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;g<Z.length&&!Z[g].includes("DetermineComponentFrameRoot");)g++;if(c===H.length||g===Z.length)for(c=H.length-1,g=Z.length-1;1<=c&&0<=g&&H[c]!==Z[g];)g--;for(;1<=c&&0<=g;c--,g--)if(H[c]!==Z[g]){if(c!==1||g!==1)do if(c--,g--,0>g||H[c]!==Z[g]){var rt=`
`+H[c].replace(" at new "," at ");return n.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",n.displayName)),rt}while(1<=c&&0<=g);break}}}finally{ra=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Xn(l):""}function Xr(n,r){switch(n.tag){case 26:case 27:case 5:return Xn(n.type);case 16:return Xn("Lazy");case 13:return n.child!==r&&r!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Ii(n.type,!1);case 11:return Ii(n.type.render,!1);case 1:return Ii(n.type,!0);case 31:return Xn("Activity");default:return""}}function gr(n){try{var r="",l=null;do r+=Xr(n,l),l=n,n=n.return;while(n);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var $t=Object.prototype.hasOwnProperty,ye=s.unstable_scheduleCallback,$n=s.unstable_cancelCallback,io=s.unstable_shouldYield,sa=s.unstable_requestPaint,Ge=s.unstable_now,Mi=s.unstable_getCurrentPriorityLevel,Di=s.unstable_ImmediatePriority,aa=s.unstable_UserBlockingPriority,Oi=s.unstable_NormalPriority,$r=s.unstable_LowPriority,yr=s.unstable_IdlePriority,_c=s.log,vc=s.unstable_setDisableYieldValue,di=null,Je=null;function Zn(n){if(typeof _c=="function"&&vc(n),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(di,n)}catch{}}var Se=Math.clz32?Math.clz32:Ec,Tc=Math.log,ro=Math.LN2;function Ec(n){return n>>>=0,n===0?32:31-(Tc(n)/ro|0)|0}var Ni=256,oa=262144,Ie=4194304;function Pi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Vi(n,r,l){var c=n.pendingLanes;if(c===0)return 0;var g=0,_=n.suspendedLanes,C=n.pingedLanes;n=n.warmLanes;var U=c&134217727;return U!==0?(c=U&~_,c!==0?g=Pi(c):(C&=U,C!==0?g=Pi(C):l||(l=U&~n,l!==0&&(g=Pi(l))))):(U=c&~_,U!==0?g=Pi(U):C!==0?g=Pi(C):l||(l=c&~n,l!==0&&(g=Pi(l)))),g===0?0:r!==0&&r!==g&&(r&_)===0&&(_=g&-g,l=r&-r,_>=l||_===32&&(l&4194048)!==0)?r:g}function mi(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ud(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sc(){var n=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),n}function ki(n){for(var r=[],l=0;31>l;l++)r.push(n);return r}function la(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function cd(n,r,l,c,g,_){var C=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var U=n.entanglements,H=n.expirationTimes,Z=n.hiddenUpdates;for(l=C&~l;0<l;){var rt=31-Se(l),at=1<<rt;U[rt]=0,H[rt]=-1;var J=Z[rt];if(J!==null)for(Z[rt]=null,rt=0;rt<J.length;rt++){var et=J[rt];et!==null&&(et.lane&=-536870913)}l&=~at}c!==0&&ua(n,c,0),_!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=_&~(C&~r))}function ua(n,r,l){n.pendingLanes|=r,n.suspendedLanes&=~r;var c=31-Se(r);n.entangledLanes|=r,n.entanglements[c]=n.entanglements[c]|1073741824|l&261930}function Cl(n,r){var l=n.entangledLanes|=r;for(n=n.entanglements;l;){var c=31-Se(l),g=1<<c;g&r|n[c]&r&&(n[c]|=r),l&=~g}}function Il(n,r){var l=r&-r;return l=(l&42)!==0?1:ca(l),(l&(n.suspendedLanes|r))!==0?0:l}function ca(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _r(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ac(){var n=X.p;return n!==0?n:(n=window.event,n===void 0?32:B0(n.type))}function pi(n,r){var l=X.p;try{return X.p=n,r()}finally{X.p=l}}var gi=Math.random().toString(36).slice(2),Me="__reactFiber$"+gi,Ye="__reactProps$"+gi,Li="__reactContainer$"+gi,so="__reactEvents$"+gi,fd="__reactListeners$"+gi,xc="__reactHandles$"+gi,wc="__reactResources$"+gi,Ui="__reactMarker$"+gi;function ao(n){delete n[Me],delete n[Ye],delete n[so],delete n[fd],delete n[xc]}function zi(n){var r=n[Me];if(r)return r;for(var l=n.parentNode;l;){if(r=l[Li]||l[Me]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(n=x0(n);n!==null;){if(l=n[Me])return l;n=x0(n)}return r}n=l,l=n.parentNode}return null}function Jn(n){if(n=n[Me]||n[Li]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Nn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function Bi(n){var r=n[wc];return r||(r=n[wc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function De(n){n[Ui]=!0}var Ml=new Set,Dl={};function ji(n,r){Fi(n,r),Fi(n+"Capture",r)}function Fi(n,r){for(Dl[n]=r,n=0;n<r.length;n++)Ml.add(r[n])}var Ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nl={},Pl={};function bc(n){return $t.call(Pl,n)?!0:$t.call(Nl,n)?!1:Ol.test(n)?Pl[n]=!0:(Nl[n]=!0,!1)}function oo(n,r,l){if(bc(r))if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+l)}}function Pn(n,r,l){if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+l)}}function Oe(n,r,l,c){if(c===null)n.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(r,l,""+c)}}function Qe(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Zr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Vl(n,r,l){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return g.call(this)},set:function(C){l=""+C,_.call(this,C)}}),Object.defineProperty(n,r,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Zt(n){if(!n._valueTracker){var r=Zr(n)?"checked":"value";n._valueTracker=Vl(n,r,""+n[r])}}function fa(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var l=r.getValue(),c="";return n&&(c=Zr(n)?n.checked?"true":"false":n.value),n=c,n!==l?(r.setValue(n),!0):!1}function Hi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ha=/[\n"\\]/g;function Tn(n){return n.replace(ha,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function lo(n,r,l,c,g,_,C,U){n.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.type=C:n.removeAttribute("type"),r!=null?C==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Qe(r)):n.value!==""+Qe(r)&&(n.value=""+Qe(r)):C!=="submit"&&C!=="reset"||n.removeAttribute("value"),r!=null?kl(n,C,Qe(r)):l!=null?kl(n,C,Qe(l)):c!=null&&n.removeAttribute("value"),g==null&&_!=null&&(n.defaultChecked=!!_),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?n.name=""+Qe(U):n.removeAttribute("name")}function Rc(n,r,l,c,g,_,C,U){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.type=_),r!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||r!=null)){Zt(n);return}l=l!=null?""+Qe(l):"",r=r!=null?""+Qe(r):l,U||r===n.value||(n.value=r),n.defaultValue=r}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=U?n.checked:!!c,n.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(n.name=C),Zt(n)}function kl(n,r,l){r==="number"&&Hi(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Jr(n,r,l,c){if(n=n.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=r.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&c&&(n[l].defaultSelected=!0)}else{for(l=""+Qe(l),r=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,c&&(n[g].defaultSelected=!0);return}r!==null||n[g].disabled||(r=n[g])}r!==null&&(r.selected=!0)}}function Cc(n,r,l){if(r!=null&&(r=""+Qe(r),r!==n.value&&(n.value=r),l==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=l!=null?""+Qe(l):""}function Wr(n,r,l,c){if(r==null){if(c!=null){if(l!=null)throw Error(i(92));if(it(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),r=l}l=Qe(r),n.defaultValue=l,c=n.textContent,c===l&&c!==""&&c!==null&&(n.value=c),Zt(n)}function En(n,r){if(r){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=r;return}}n.textContent=r}var Ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(n,r,l){var c=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":c?n.setProperty(r,l):typeof l!="number"||l===0||Ic.has(r)?r==="float"?n.cssFloat=l:n[r]=(""+l).trim():n[r]=l+"px"}function Ul(n,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var g in r)c=r[g],r.hasOwnProperty(g)&&l[g]!==c&&Ll(n,g,c)}else for(var _ in r)r.hasOwnProperty(_)&&Ll(n,_,r[_])}function uo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(n){return ts.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function yi(){}var zl=null;function Wn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var es=null,qi=null;function da(n){var r=Jn(n);if(r&&(n=r.stateNode)){var l=n[Ye]||null;t:switch(n=r.stateNode,r.type){case"input":if(lo(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Tn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var c=l[r];if(c!==n&&c.form===n.form){var g=c[Ye]||null;if(!g)throw Error(i(90));lo(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)c=l[r],c.form===n.form&&fa(c)}break t;case"textarea":Cc(n,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Jr(n,!!l.multiple,r,!1)}}}var fo=!1;function ns(n,r,l){if(fo)return n(r,l);fo=!0;try{var c=n(r);return c}finally{if(fo=!1,(es!==null||qi!==null)&&(xf(),es&&(r=es,n=qi,qi=es=null,da(r),n)))for(r=0;r<n.length;r++)da(n[r])}}function _i(n,r){var l=n.stateNode;if(l===null)return null;var c=l[Ye]||null;if(c===null)return null;l=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(ti)try{var te={};Object.defineProperty(te,"passive",{get:function(){ma=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{ma=!1}var Gi=null,Bl=null,pa=null;function jl(){if(pa)return pa;var n,r=Bl,l=r.length,c,g="value"in Gi?Gi.value:Gi.textContent,_=g.length;for(n=0;n<l&&r[n]===g[n];n++);var C=l-n;for(c=1;c<=C&&r[l-c]===g[_-c];c++);return pa=g.slice(n,1<c?1-c:void 0)}function ga(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function vr(){return!0}function vi(){return!1}function We(n){function r(l,c,g,_,C){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var U in n)n.hasOwnProperty(U)&&(l=n[U],this[U]=l?l(_):_[U]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?vr:vi,this.isPropagationStopped=vi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),r}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=We(Tr),is=v({},Tr,{view:0,detail:0}),Fl=We(is),rs,ho,Qi,mo=v({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qi&&(Qi&&n.type==="mousemove"?(rs=n.screenX-Qi.screenX,ho=n.screenY-Qi.screenY):ho=rs=0,Qi=n),rs)},movementY:function(n){return"movementY"in n?n.movementY:ho}}),Hl=We(mo),ya=v({},mo,{dataTransfer:0}),Dc=We(ya),Oc=v({},is,{relatedTarget:0}),_a=We(Oc),ql=v({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Nc=We(ql),po=v({},Tr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Pc=We(po),Vc=v({},Tr,{data:0}),Ki=We(Vc),kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zc(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Uc[n])?!!r[n]:!1}function ss(){return zc}var gn=v({},is,{key:function(n){if(n.key){var r=kc[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ga(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Lc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(n){return n.type==="keypress"?ga(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ga(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Bc=We(gn),jc=v({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Er=We(jc),p=v({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),w=We(p),D=v({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),j=We(D),K=v({},mo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),W=We(K),ft=v({},Tr,{newState:0,oldState:0}),Mt=We(ft),Ae=[9,13,27,32],Qt=ti&&"CompositionEvent"in window,ce=null;ti&&"documentMode"in document&&(ce=document.documentMode);var ei=ti&&"TextEvent"in window&&!ce,Xi=ti&&(!Qt||ce&&8<ce&&11>=ce),Ti=" ",Ei=!1;function va(n,r){switch(n){case"keyup":return Ae.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function go(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var yo=!1;function ux(n,r){switch(n){case"compositionend":return go(r);case"keypress":return r.which!==32?null:(Ei=!0,Ti);case"textInput":return n=r.data,n===Ti&&Ei?null:n;default:return null}}function cx(n,r){if(yo)return n==="compositionend"||!Qt&&va(n,r)?(n=jl(),pa=Bl=Gi=null,yo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Xi&&r.locale!=="ko"?null:r.data;default:return null}}var fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ry(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!fx[n.type]:r==="textarea"}function Cy(n,r,l,c){es?qi?qi.push(c):qi=[c]:es=c,r=Df(r,"onChange"),0<r.length&&(l=new Yi("onChange","change",null,l,c),n.push({event:l,listeners:r}))}var Gl=null,Yl=null;function hx(n){c0(n,0)}function Fc(n){var r=Nn(n);if(fa(r))return n}function Iy(n,r){if(n==="change")return r}var My=!1;if(ti){var hd;if(ti){var dd="oninput"in document;if(!dd){var Dy=document.createElement("div");Dy.setAttribute("oninput","return;"),dd=typeof Dy.oninput=="function"}hd=dd}else hd=!1;My=hd&&(!document.documentMode||9<document.documentMode)}function Oy(){Gl&&(Gl.detachEvent("onpropertychange",Ny),Yl=Gl=null)}function Ny(n){if(n.propertyName==="value"&&Fc(Yl)){var r=[];Cy(r,Yl,n,Wn(n)),ns(hx,r)}}function dx(n,r,l){n==="focusin"?(Oy(),Gl=r,Yl=l,Gl.attachEvent("onpropertychange",Ny)):n==="focusout"&&Oy()}function mx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fc(Yl)}function px(n,r){if(n==="click")return Fc(r)}function gx(n,r){if(n==="input"||n==="change")return Fc(r)}function yx(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Vn=typeof Object.is=="function"?Object.is:yx;function Ql(n,r){if(Vn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var l=Object.keys(n),c=Object.keys(r);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!$t.call(r,g)||!Vn(n[g],r[g]))return!1}return!0}function Py(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Vy(n,r){var l=Py(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=r&&c>=r)return{node:l,offset:r-n};n=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Py(l)}}function ky(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ky(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Ly(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Hi(n.document);r instanceof n.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)n=r.contentWindow;else break;r=Hi(n.document)}return r}function md(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var _x=ti&&"documentMode"in document&&11>=document.documentMode,_o=null,pd=null,Kl=null,gd=!1;function Uy(n,r,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gd||_o==null||_o!==Hi(c)||(c=_o,"selectionStart"in c&&md(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Kl&&Ql(Kl,c)||(Kl=c,c=Df(pd,"onSelect"),0<c.length&&(r=new Yi("onSelect","select",null,r,l),n.push({event:r,listeners:c}),r.target=_o)))}function Ta(n,r){var l={};return l[n.toLowerCase()]=r.toLowerCase(),l["Webkit"+n]="webkit"+r,l["Moz"+n]="moz"+r,l}var vo={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},yd={},zy={};ti&&(zy=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function Ea(n){if(yd[n])return yd[n];if(!vo[n])return n;var r=vo[n],l;for(l in r)if(r.hasOwnProperty(l)&&l in zy)return yd[n]=r[l];return n}var By=Ea("animationend"),jy=Ea("animationiteration"),Fy=Ea("animationstart"),vx=Ea("transitionrun"),Tx=Ea("transitionstart"),Ex=Ea("transitioncancel"),Hy=Ea("transitionend"),qy=new Map,_d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_d.push("scrollEnd");function Si(n,r){qy.set(n,r),ji(r,[n])}var Hc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ni=[],To=0,vd=0;function qc(){for(var n=To,r=vd=To=0;r<n;){var l=ni[r];ni[r++]=null;var c=ni[r];ni[r++]=null;var g=ni[r];ni[r++]=null;var _=ni[r];if(ni[r++]=null,c!==null&&g!==null){var C=c.pending;C===null?g.next=g:(g.next=C.next,C.next=g),c.pending=g}_!==0&&Gy(l,g,_)}}function Gc(n,r,l,c){ni[To++]=n,ni[To++]=r,ni[To++]=l,ni[To++]=c,vd|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Td(n,r,l,c){return Gc(n,r,l,c),Yc(n)}function Sa(n,r){return Gc(n,null,null,r),Yc(n)}function Gy(n,r,l){n.lanes|=l;var c=n.alternate;c!==null&&(c.lanes|=l);for(var g=!1,_=n.return;_!==null;)_.childLanes|=l,c=_.alternate,c!==null&&(c.childLanes|=l),_.tag===22&&(n=_.stateNode,n===null||n._visibility&1||(g=!0)),n=_,_=_.return;return n.tag===3?(_=n.stateNode,g&&r!==null&&(g=31-Se(l),n=_.hiddenUpdates,c=n[g],c===null?n[g]=[r]:c.push(r),r.lane=l|536870912),_):null}function Yc(n){if(50<gu)throw gu=0,Im=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Eo={};function Sx(n,r,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(n,r,l,c){return new Sx(n,r,l,c)}function Ed(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Sr(n,r){var l=n.alternate;return l===null?(l=kn(n.tag,r,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=r,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,r=n.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Yy(n,r){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,r=l.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Qc(n,r,l,c,g,_){var C=0;if(c=n,typeof n=="function")Ed(n)&&(C=1);else if(typeof n=="string")C=Rw(n,l,ct.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case R:return n=kn(31,l,r,g),n.elementType=R,n.lanes=_,n;case E:return Aa(l.children,g,_,r);case A:C=8,g|=24;break;case O:return n=kn(12,l,r,g|2),n.elementType=O,n.lanes=_,n;case I:return n=kn(13,l,r,g),n.elementType=I,n.lanes=_,n;case k:return n=kn(19,l,r,g),n.elementType=k,n.lanes=_,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:C=10;break t;case L:C=9;break t;case B:C=11;break t;case b:C=14;break t;case x:C=16,c=null;break t}C=29,l=Error(i(130,n===null?"null":typeof n,"")),c=null}return r=kn(C,l,r,g),r.elementType=n,r.type=c,r.lanes=_,r}function Aa(n,r,l,c){return n=kn(7,n,c,r),n.lanes=l,n}function Sd(n,r,l){return n=kn(6,n,null,r),n.lanes=l,n}function Qy(n){var r=kn(18,null,null,0);return r.stateNode=n,r}function Ad(n,r,l){return r=kn(4,n.children!==null?n.children:[],n.key,r),r.lanes=l,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ky=new WeakMap;function ii(n,r){if(typeof n=="object"&&n!==null){var l=Ky.get(n);return l!==void 0?l:(r={value:n,source:r,stack:gr(r)},Ky.set(n,r),r)}return{value:n,source:r,stack:gr(r)}}var So=[],Ao=0,Kc=null,Xl=0,ri=[],si=0,as=null,$i=1,Zi="";function Ar(n,r){So[Ao++]=Xl,So[Ao++]=Kc,Kc=n,Xl=r}function Xy(n,r,l){ri[si++]=$i,ri[si++]=Zi,ri[si++]=as,as=n;var c=$i;n=Zi;var g=32-Se(c)-1;c&=~(1<<g),l+=1;var _=32-Se(r)+g;if(30<_){var C=g-g%5;_=(c&(1<<C)-1).toString(32),c>>=C,g-=C,$i=1<<32-Se(r)+g|l<<g|c,Zi=_+n}else $i=1<<_|l<<g|c,Zi=n}function xd(n){n.return!==null&&(Ar(n,1),Xy(n,1,0))}function wd(n){for(;n===Kc;)Kc=So[--Ao],So[Ao]=null,Xl=So[--Ao],So[Ao]=null;for(;n===as;)as=ri[--si],ri[si]=null,Zi=ri[--si],ri[si]=null,$i=ri[--si],ri[si]=null}function $y(n,r){ri[si++]=$i,ri[si++]=Zi,ri[si++]=as,$i=r.id,Zi=r.overflow,as=n}var tn=null,oe=null,zt=!1,os=null,ai=!1,bd=Error(i(519));function ls(n){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(ii(r,n)),bd}function Zy(n){var r=n.stateNode,l=n.type,c=n.memoizedProps;switch(r[Me]=n,r[Ye]=c,l){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(l=0;l<_u.length;l++)Pt(_u[l],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Pt("invalid",r),Rc(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Pt("invalid",r);break;case"textarea":Pt("invalid",r),Wr(r,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||c.suppressHydrationWarning===!0||m0(r.textContent,l)?(c.popover!=null&&(Pt("beforetoggle",r),Pt("toggle",r)),c.onScroll!=null&&Pt("scroll",r),c.onScrollEnd!=null&&Pt("scrollend",r),c.onClick!=null&&(r.onclick=yi),r=!0):r=!1,r||ls(n,!0)}function Jy(n){for(tn=n.return;tn;)switch(tn.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:tn=tn.return}}function xo(n){if(n!==tn)return!1;if(!zt)return Jy(n),zt=!0,!1;var r=n.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||qm(n.type,n.memoizedProps)),l=!l),l&&oe&&ls(n),Jy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));oe=A0(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));oe=A0(n)}else r===27?(r=oe,Ss(n.type)?(n=Xm,Xm=null,oe=n):oe=r):oe=tn?li(n.stateNode.nextSibling):null;return!0}function xa(){oe=tn=null,zt=!1}function Rd(){var n=os;return n!==null&&(wn===null?wn=n:wn.push.apply(wn,n),os=null),n}function $l(n){os===null?os=[n]:os.push(n)}var Cd=q(null),wa=null,xr=null;function us(n,r,l){ut(Cd,r._currentValue),r._currentValue=l}function wr(n){n._currentValue=Cd.current,tt(Cd)}function Id(n,r,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===l)break;n=n.return}}function Md(n,r,l,c){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var _=g.dependencies;if(_!==null){var C=g.child;_=_.firstContext;t:for(;_!==null;){var U=_;_=g;for(var H=0;H<r.length;H++)if(U.context===r[H]){_.lanes|=l,U=_.alternate,U!==null&&(U.lanes|=l),Id(_.return,l,n),c||(C=null);break t}_=U.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(i(341));C.lanes|=l,_=C.alternate,_!==null&&(_.lanes|=l),Id(C,l,n),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===n){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function wo(n,r,l,c){n=null;for(var g=r,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var U=g.type;Vn(g.pendingProps.value,C.value)||(n!==null?n.push(U):n=[U])}}else if(g===bt.current){if(C=g.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Au):n=[Au])}g=g.return}n!==null&&Md(r,n,l,c),r.flags|=262144}function Xc(n){for(n=n.firstContext;n!==null;){if(!Vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ba(n){wa=n,xr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return Wy(wa,n)}function $c(n,r){return wa===null&&ba(n),Wy(n,r)}function Wy(n,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},xr===null){if(n===null)throw Error(i(308));xr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else xr=xr.next=r;return l}var Ax=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(l,c){n.push(c)}};this.abort=function(){r.aborted=!0,n.forEach(function(l){return l()})}},xx=s.unstable_scheduleCallback,wx=s.unstable_NormalPriority,Ne={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dd(){return{controller:new Ax,data:new Map,refCount:0}}function Zl(n){n.refCount--,n.refCount===0&&xx(wx,function(){n.controller.abort()})}var Jl=null,Od=0,bo=0,Ro=null;function bx(n,r){if(Jl===null){var l=Jl=[];Od=0,bo=Vm(),Ro={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Od++,r.then(t_,t_),r}function t_(){if(--Od===0&&Jl!==null){Ro!==null&&(Ro.status="fulfilled");var n=Jl;Jl=null,bo=0,Ro=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Rx(n,r){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){c.status="fulfilled",c.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var e_=G.S;G.S=function(n,r){Uv=Ge(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&bx(n,r),e_!==null&&e_(n,r)};var Ra=q(null);function Nd(){var n=Ra.current;return n!==null?n:re.pooledCache}function Zc(n,r){r===null?ut(Ra,Ra.current):ut(Ra,r.pool)}function n_(){var n=Nd();return n===null?null:{parent:Ne._currentValue,pool:n}}var Co=Error(i(460)),Pd=Error(i(474)),Jc=Error(i(542)),Wc={then:function(){}};function i_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function r_(n,r,l){switch(l=n[l],l===void 0?n.push(r):l!==r&&(r.then(yi,yi),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,a_(n),n;default:if(typeof r.status=="string")r.then(yi,yi);else{if(n=re,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(c){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=c}},function(c){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,a_(n),n}throw Ia=r,Co}}function Ca(n){try{var r=n._init;return r(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ia=l,Co):l}}var Ia=null;function s_(){if(Ia===null)throw Error(i(459));var n=Ia;return Ia=null,n}function a_(n){if(n===Co||n===Jc)throw Error(i(483))}var Io=null,Wl=0;function tf(n){var r=Wl;return Wl+=1,Io===null&&(Io=[]),r_(Io,n,r)}function tu(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function ef(n,r){throw r.$$typeof===T?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function o_(n){function r(Q,Y){if(n){var $=Q.deletions;$===null?(Q.deletions=[Y],Q.flags|=16):$.push(Y)}}function l(Q,Y){if(!n)return null;for(;Y!==null;)r(Q,Y),Y=Y.sibling;return null}function c(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function g(Q,Y){return Q=Sr(Q,Y),Q.index=0,Q.sibling=null,Q}function _(Q,Y,$){return Q.index=$,n?($=Q.alternate,$!==null?($=$.index,$<Y?(Q.flags|=67108866,Y):$):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function C(Q){return n&&Q.alternate===null&&(Q.flags|=67108866),Q}function U(Q,Y,$,st){return Y===null||Y.tag!==6?(Y=Sd($,Q.mode,st),Y.return=Q,Y):(Y=g(Y,$),Y.return=Q,Y)}function H(Q,Y,$,st){var St=$.type;return St===E?rt(Q,Y,$.props.children,st,$.key):Y!==null&&(Y.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===x&&Ca(St)===Y.type)?(Y=g(Y,$.props),tu(Y,$),Y.return=Q,Y):(Y=Qc($.type,$.key,$.props,null,Q.mode,st),tu(Y,$),Y.return=Q,Y)}function Z(Q,Y,$,st){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==$.containerInfo||Y.stateNode.implementation!==$.implementation?(Y=Ad($,Q.mode,st),Y.return=Q,Y):(Y=g(Y,$.children||[]),Y.return=Q,Y)}function rt(Q,Y,$,st,St){return Y===null||Y.tag!==7?(Y=Aa($,Q.mode,st,St),Y.return=Q,Y):(Y=g(Y,$),Y.return=Q,Y)}function at(Q,Y,$){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Sd(""+Y,Q.mode,$),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case y:return $=Qc(Y.type,Y.key,Y.props,null,Q.mode,$),tu($,Y),$.return=Q,$;case S:return Y=Ad(Y,Q.mode,$),Y.return=Q,Y;case x:return Y=Ca(Y),at(Q,Y,$)}if(it(Y)||P(Y))return Y=Aa(Y,Q.mode,$,null),Y.return=Q,Y;if(typeof Y.then=="function")return at(Q,tf(Y),$);if(Y.$$typeof===z)return at(Q,$c(Q,Y),$);ef(Q,Y)}return null}function J(Q,Y,$,st){var St=Y!==null?Y.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return St!==null?null:U(Q,Y,""+$,st);if(typeof $=="object"&&$!==null){switch($.$$typeof){case y:return $.key===St?H(Q,Y,$,st):null;case S:return $.key===St?Z(Q,Y,$,st):null;case x:return $=Ca($),J(Q,Y,$,st)}if(it($)||P($))return St!==null?null:rt(Q,Y,$,st,null);if(typeof $.then=="function")return J(Q,Y,tf($),st);if($.$$typeof===z)return J(Q,Y,$c(Q,$),st);ef(Q,$)}return null}function et(Q,Y,$,st,St){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Q=Q.get($)||null,U(Y,Q,""+st,St);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case y:return Q=Q.get(st.key===null?$:st.key)||null,H(Y,Q,st,St);case S:return Q=Q.get(st.key===null?$:st.key)||null,Z(Y,Q,st,St);case x:return st=Ca(st),et(Q,Y,$,st,St)}if(it(st)||P(st))return Q=Q.get($)||null,rt(Y,Q,st,St,null);if(typeof st.then=="function")return et(Q,Y,$,tf(st),St);if(st.$$typeof===z)return et(Q,Y,$,$c(Y,st),St);ef(Y,st)}return null}function _t(Q,Y,$,st){for(var St=null,Gt=null,vt=Y,Ot=Y=0,Lt=null;vt!==null&&Ot<$.length;Ot++){vt.index>Ot?(Lt=vt,vt=null):Lt=vt.sibling;var Yt=J(Q,vt,$[Ot],st);if(Yt===null){vt===null&&(vt=Lt);break}n&&vt&&Yt.alternate===null&&r(Q,vt),Y=_(Yt,Y,Ot),Gt===null?St=Yt:Gt.sibling=Yt,Gt=Yt,vt=Lt}if(Ot===$.length)return l(Q,vt),zt&&Ar(Q,Ot),St;if(vt===null){for(;Ot<$.length;Ot++)vt=at(Q,$[Ot],st),vt!==null&&(Y=_(vt,Y,Ot),Gt===null?St=vt:Gt.sibling=vt,Gt=vt);return zt&&Ar(Q,Ot),St}for(vt=c(vt);Ot<$.length;Ot++)Lt=et(vt,Q,Ot,$[Ot],st),Lt!==null&&(n&&Lt.alternate!==null&&vt.delete(Lt.key===null?Ot:Lt.key),Y=_(Lt,Y,Ot),Gt===null?St=Lt:Gt.sibling=Lt,Gt=Lt);return n&&vt.forEach(function(Rs){return r(Q,Rs)}),zt&&Ar(Q,Ot),St}function xt(Q,Y,$,st){if($==null)throw Error(i(151));for(var St=null,Gt=null,vt=Y,Ot=Y=0,Lt=null,Yt=$.next();vt!==null&&!Yt.done;Ot++,Yt=$.next()){vt.index>Ot?(Lt=vt,vt=null):Lt=vt.sibling;var Rs=J(Q,vt,Yt.value,st);if(Rs===null){vt===null&&(vt=Lt);break}n&&vt&&Rs.alternate===null&&r(Q,vt),Y=_(Rs,Y,Ot),Gt===null?St=Rs:Gt.sibling=Rs,Gt=Rs,vt=Lt}if(Yt.done)return l(Q,vt),zt&&Ar(Q,Ot),St;if(vt===null){for(;!Yt.done;Ot++,Yt=$.next())Yt=at(Q,Yt.value,st),Yt!==null&&(Y=_(Yt,Y,Ot),Gt===null?St=Yt:Gt.sibling=Yt,Gt=Yt);return zt&&Ar(Q,Ot),St}for(vt=c(vt);!Yt.done;Ot++,Yt=$.next())Yt=et(vt,Q,Ot,Yt.value,st),Yt!==null&&(n&&Yt.alternate!==null&&vt.delete(Yt.key===null?Ot:Yt.key),Y=_(Yt,Y,Ot),Gt===null?St=Yt:Gt.sibling=Yt,Gt=Yt);return n&&vt.forEach(function(Uw){return r(Q,Uw)}),zt&&Ar(Q,Ot),St}function ie(Q,Y,$,st){if(typeof $=="object"&&$!==null&&$.type===E&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case y:t:{for(var St=$.key;Y!==null;){if(Y.key===St){if(St=$.type,St===E){if(Y.tag===7){l(Q,Y.sibling),st=g(Y,$.props.children),st.return=Q,Q=st;break t}}else if(Y.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===x&&Ca(St)===Y.type){l(Q,Y.sibling),st=g(Y,$.props),tu(st,$),st.return=Q,Q=st;break t}l(Q,Y);break}else r(Q,Y);Y=Y.sibling}$.type===E?(st=Aa($.props.children,Q.mode,st,$.key),st.return=Q,Q=st):(st=Qc($.type,$.key,$.props,null,Q.mode,st),tu(st,$),st.return=Q,Q=st)}return C(Q);case S:t:{for(St=$.key;Y!==null;){if(Y.key===St)if(Y.tag===4&&Y.stateNode.containerInfo===$.containerInfo&&Y.stateNode.implementation===$.implementation){l(Q,Y.sibling),st=g(Y,$.children||[]),st.return=Q,Q=st;break t}else{l(Q,Y);break}else r(Q,Y);Y=Y.sibling}st=Ad($,Q.mode,st),st.return=Q,Q=st}return C(Q);case x:return $=Ca($),ie(Q,Y,$,st)}if(it($))return _t(Q,Y,$,st);if(P($)){if(St=P($),typeof St!="function")throw Error(i(150));return $=St.call($),xt(Q,Y,$,st)}if(typeof $.then=="function")return ie(Q,Y,tf($),st);if($.$$typeof===z)return ie(Q,Y,$c(Q,$),st);ef(Q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,Y!==null&&Y.tag===6?(l(Q,Y.sibling),st=g(Y,$),st.return=Q,Q=st):(l(Q,Y),st=Sd($,Q.mode,st),st.return=Q,Q=st),C(Q)):l(Q,Y)}return function(Q,Y,$,st){try{Wl=0;var St=ie(Q,Y,$,st);return Io=null,St}catch(vt){if(vt===Co||vt===Jc)throw vt;var Gt=kn(29,vt,null,Q.mode);return Gt.lanes=st,Gt.return=Q,Gt}}}var Ma=o_(!0),l_=o_(!1),cs=!1;function Vd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function fs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function hs(n,r,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Kt&2)!==0){var g=c.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),c.pending=r,r=Yc(n),Gy(n,null,l),r}return Gc(n,c,r,l),Yc(n)}function eu(n,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var c=r.lanes;c&=n.pendingLanes,l|=c,r.lanes=l,Cl(n,l)}}function Ld(n,r){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?g=_=C:_=_.next=C,l=l.next}while(l!==null);_===null?g=_=r:_=_.next=r}else g=_=r;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=r:n.next=r,l.lastBaseUpdate=r}var Ud=!1;function nu(){if(Ud){var n=Ro;if(n!==null)throw n}}function iu(n,r,l,c){Ud=!1;var g=n.updateQueue;cs=!1;var _=g.firstBaseUpdate,C=g.lastBaseUpdate,U=g.shared.pending;if(U!==null){g.shared.pending=null;var H=U,Z=H.next;H.next=null,C===null?_=Z:C.next=Z,C=H;var rt=n.alternate;rt!==null&&(rt=rt.updateQueue,U=rt.lastBaseUpdate,U!==C&&(U===null?rt.firstBaseUpdate=Z:U.next=Z,rt.lastBaseUpdate=H))}if(_!==null){var at=g.baseState;C=0,rt=Z=H=null,U=_;do{var J=U.lane&-536870913,et=J!==U.lane;if(et?(kt&J)===J:(c&J)===J){J!==0&&J===bo&&(Ud=!0),rt!==null&&(rt=rt.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});t:{var _t=n,xt=U;J=r;var ie=l;switch(xt.tag){case 1:if(_t=xt.payload,typeof _t=="function"){at=_t.call(ie,at,J);break t}at=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=xt.payload,J=typeof _t=="function"?_t.call(ie,at,J):_t,J==null)break t;at=v({},at,J);break t;case 2:cs=!0}}J=U.callback,J!==null&&(n.flags|=64,et&&(n.flags|=8192),et=g.callbacks,et===null?g.callbacks=[J]:et.push(J))}else et={lane:J,tag:U.tag,payload:U.payload,callback:U.callback,next:null},rt===null?(Z=rt=et,H=at):rt=rt.next=et,C|=J;if(U=U.next,U===null){if(U=g.shared.pending,U===null)break;et=U,U=et.next,et.next=null,g.lastBaseUpdate=et,g.shared.pending=null}}while(!0);rt===null&&(H=at),g.baseState=H,g.firstBaseUpdate=Z,g.lastBaseUpdate=rt,_===null&&(g.shared.lanes=0),ys|=C,n.lanes=C,n.memoizedState=at}}function u_(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function c_(n,r){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)u_(l[n],r)}var Mo=q(null),nf=q(0);function f_(n,r){n=Pr,ut(nf,n),ut(Mo,r),Pr=n|r.baseLanes}function zd(){ut(nf,Pr),ut(Mo,Mo.current)}function Bd(){Pr=nf.current,tt(Mo),tt(nf)}var Ln=q(null),oi=null;function ds(n){var r=n.alternate;ut(xe,xe.current&1),ut(Ln,n),oi===null&&(r===null||Mo.current!==null||r.memoizedState!==null)&&(oi=n)}function jd(n){ut(xe,xe.current),ut(Ln,n),oi===null&&(oi=n)}function h_(n){n.tag===22?(ut(xe,xe.current),ut(Ln,n),oi===null&&(oi=n)):ms()}function ms(){ut(xe,xe.current),ut(Ln,Ln.current)}function Un(n){tt(Ln),oi===n&&(oi=null),tt(xe)}var xe=q(0);function rf(n){for(var r=n;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Qm(l)||Km(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var br=0,Dt=null,ee=null,Pe=null,sf=!1,Do=!1,Da=!1,af=0,ru=0,Oo=null,Cx=0;function _e(){throw Error(i(321))}function Fd(n,r){if(r===null)return!1;for(var l=0;l<r.length&&l<n.length;l++)if(!Vn(n[l],r[l]))return!1;return!0}function Hd(n,r,l,c,g,_){return br=_,Dt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=n===null||n.memoizedState===null?X_:rm,Da=!1,_=l(c,g),Da=!1,Do&&(_=m_(r,l,c,g)),d_(n),_}function d_(n){G.H=ou;var r=ee!==null&&ee.next!==null;if(br=0,Pe=ee=Dt=null,sf=!1,ru=0,Oo=null,r)throw Error(i(300));n===null||Ve||(n=n.dependencies,n!==null&&Xc(n)&&(Ve=!0))}function m_(n,r,l,c){Dt=n;var g=0;do{if(Do&&(Oo=null),ru=0,Do=!1,25<=g)throw Error(i(301));if(g+=1,Pe=ee=null,n.updateQueue!=null){var _=n.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}G.H=$_,_=r(l,c)}while(Do);return _}function Ix(){var n=G.H,r=n.useState()[0];return r=typeof r.then=="function"?su(r):r,n=n.useState()[0],(ee!==null?ee.memoizedState:null)!==n&&(Dt.flags|=1024),r}function qd(){var n=af!==0;return af=0,n}function Gd(n,r,l){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~l}function Yd(n){if(sf){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}sf=!1}br=0,Pe=ee=Dt=null,Do=!1,ru=af=0,Oo=null}function yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Dt.memoizedState=Pe=n:Pe=Pe.next=n,Pe}function we(){if(ee===null){var n=Dt.alternate;n=n!==null?n.memoizedState:null}else n=ee.next;var r=Pe===null?Dt.memoizedState:Pe.next;if(r!==null)Pe=r,ee=n;else{if(n===null)throw Dt.alternate===null?Error(i(467)):Error(i(310));ee=n,n={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Pe===null?Dt.memoizedState=Pe=n:Pe=Pe.next=n}return Pe}function of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function su(n){var r=ru;return ru+=1,Oo===null&&(Oo=[]),n=r_(Oo,n,r),r=Dt,(Pe===null?r.memoizedState:Pe.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?X_:rm),n}function lf(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return su(n);if(n.$$typeof===z)return en(n)}throw Error(i(438,String(n)))}function Qd(n){var r=null,l=Dt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var c=Dt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=of(),Dt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(n),c=0;c<n;c++)l[c]=M;return r.index++,l}function Rr(n,r){return typeof r=="function"?r(n):r}function uf(n){var r=we();return Kd(r,ee,n)}function Kd(n,r,l){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var g=n.baseQueue,_=c.pending;if(_!==null){if(g!==null){var C=g.next;g.next=_.next,_.next=C}r.baseQueue=g=_,c.pending=null}if(_=n.baseState,g===null)n.memoizedState=_;else{r=g.next;var U=C=null,H=null,Z=r,rt=!1;do{var at=Z.lane&-536870913;if(at!==Z.lane?(kt&at)===at:(br&at)===at){var J=Z.revertLane;if(J===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),at===bo&&(rt=!0);else if((br&J)===J){Z=Z.next,J===bo&&(rt=!0);continue}else at={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(U=H=at,C=_):H=H.next=at,Dt.lanes|=J,ys|=J;at=Z.action,Da&&l(_,at),_=Z.hasEagerState?Z.eagerState:l(_,at)}else J={lane:at,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(U=H=J,C=_):H=H.next=J,Dt.lanes|=at,ys|=at;Z=Z.next}while(Z!==null&&Z!==r);if(H===null?C=_:H.next=U,!Vn(_,n.memoizedState)&&(Ve=!0,rt&&(l=Ro,l!==null)))throw l;n.memoizedState=_,n.baseState=C,n.baseQueue=H,c.lastRenderedState=_}return g===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Xd(n){var r=we(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var c=l.dispatch,g=l.pending,_=r.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do _=n(_,C.action),C=C.next;while(C!==g);Vn(_,r.memoizedState)||(Ve=!0),r.memoizedState=_,r.baseQueue===null&&(r.baseState=_),l.lastRenderedState=_}return[_,c]}function p_(n,r,l){var c=Dt,g=we(),_=zt;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=r();var C=!Vn((ee||g).memoizedState,l);if(C&&(g.memoizedState=l,Ve=!0),g=g.queue,Jd(__.bind(null,c,g,n),[n]),g.getSnapshot!==r||C||Pe!==null&&Pe.memoizedState.tag&1){if(c.flags|=2048,No(9,{destroy:void 0},y_.bind(null,c,g,l,r),null),re===null)throw Error(i(349));_||(br&127)!==0||g_(c,r,l)}return l}function g_(n,r,l){n.flags|=16384,n={getSnapshot:r,value:l},r=Dt.updateQueue,r===null?(r=of(),Dt.updateQueue=r,r.stores=[n]):(l=r.stores,l===null?r.stores=[n]:l.push(n))}function y_(n,r,l,c){r.value=l,r.getSnapshot=c,v_(r)&&T_(n)}function __(n,r,l){return l(function(){v_(r)&&T_(n)})}function v_(n){var r=n.getSnapshot;n=n.value;try{var l=r();return!Vn(n,l)}catch{return!0}}function T_(n){var r=Sa(n,2);r!==null&&bn(r,n,2)}function $d(n){var r=yn();if(typeof n=="function"){var l=n;if(n=l(),Da){Zn(!0);try{l()}finally{Zn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:n},r}function E_(n,r,l,c){return n.baseState=l,Kd(n,ee,typeof c=="function"?c:Rr)}function Mx(n,r,l,c,g){if(hf(n))throw Error(i(485));if(n=r.action,n!==null){var _={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){_.listeners.push(C)}};G.T!==null?l(!0):_.isTransition=!1,c(_),l=r.pending,l===null?(_.next=r.pending=_,S_(r,_)):(_.next=l.next,r.pending=l.next=_)}}function S_(n,r){var l=r.action,c=r.payload,g=n.state;if(r.isTransition){var _=G.T,C={};G.T=C;try{var U=l(g,c),H=G.S;H!==null&&H(C,U),A_(n,r,U)}catch(Z){Zd(n,r,Z)}finally{_!==null&&C.types!==null&&(_.types=C.types),G.T=_}}else try{_=l(g,c),A_(n,r,_)}catch(Z){Zd(n,r,Z)}}function A_(n,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){x_(n,r,c)},function(c){return Zd(n,r,c)}):x_(n,r,l)}function x_(n,r,l){r.status="fulfilled",r.value=l,w_(r),n.state=l,r=n.pending,r!==null&&(l=r.next,l===r?n.pending=null:(l=l.next,r.next=l,S_(n,l)))}function Zd(n,r,l){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=l,w_(r),r=r.next;while(r!==c)}n.action=null}function w_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function b_(n,r){return r}function R_(n,r){if(zt){var l=re.formState;if(l!==null){t:{var c=Dt;if(zt){if(oe){e:{for(var g=oe,_=ai;g.nodeType!==8;){if(!_){g=null;break e}if(g=li(g.nextSibling),g===null){g=null;break e}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){oe=li(g.nextSibling),c=g.data==="F!";break t}}ls(c)}c=!1}c&&(r=l[0])}}return l=yn(),l.memoizedState=l.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b_,lastRenderedState:r},l.queue=c,l=Y_.bind(null,Dt,c),c.dispatch=l,c=$d(!1),_=im.bind(null,Dt,!1,c.queue),c=yn(),g={state:r,dispatch:null,action:n,pending:null},c.queue=g,l=Mx.bind(null,Dt,g,_,l),g.dispatch=l,c.memoizedState=n,[r,l,!1]}function C_(n){var r=we();return I_(r,ee,n)}function I_(n,r,l){if(r=Kd(n,r,b_)[0],n=uf(Rr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=su(r)}catch(C){throw C===Co?Jc:C}else c=r;r=we();var g=r.queue,_=g.dispatch;return l!==r.memoizedState&&(Dt.flags|=2048,No(9,{destroy:void 0},Dx.bind(null,g,l),null)),[c,_,n]}function Dx(n,r){n.action=r}function M_(n){var r=we(),l=ee;if(l!==null)return I_(r,l,n);we(),r=r.memoizedState,l=we();var c=l.queue.dispatch;return l.memoizedState=n,[r,c,!1]}function No(n,r,l,c){return n={tag:n,create:l,deps:c,inst:r,next:null},r=Dt.updateQueue,r===null&&(r=of(),Dt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,r.lastEffect=n),n}function D_(){return we().memoizedState}function cf(n,r,l,c){var g=yn();Dt.flags|=n,g.memoizedState=No(1|r,{destroy:void 0},l,c===void 0?null:c)}function ff(n,r,l,c){var g=we();c=c===void 0?null:c;var _=g.memoizedState.inst;ee!==null&&c!==null&&Fd(c,ee.memoizedState.deps)?g.memoizedState=No(r,_,l,c):(Dt.flags|=n,g.memoizedState=No(1|r,_,l,c))}function O_(n,r){cf(8390656,8,n,r)}function Jd(n,r){ff(2048,8,n,r)}function Ox(n){Dt.flags|=4;var r=Dt.updateQueue;if(r===null)r=of(),Dt.updateQueue=r,r.events=[n];else{var l=r.events;l===null?r.events=[n]:l.push(n)}}function N_(n){var r=we().memoizedState;return Ox({ref:r,nextImpl:n}),function(){if((Kt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function P_(n,r){return ff(4,2,n,r)}function V_(n,r){return ff(4,4,n,r)}function k_(n,r){if(typeof r=="function"){n=n();var l=r(n);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function L_(n,r,l){l=l!=null?l.concat([n]):null,ff(4,4,k_.bind(null,r,n),l)}function Wd(){}function U_(n,r){var l=we();r=r===void 0?null:r;var c=l.memoizedState;return r!==null&&Fd(r,c[1])?c[0]:(l.memoizedState=[n,r],n)}function z_(n,r){var l=we();r=r===void 0?null:r;var c=l.memoizedState;if(r!==null&&Fd(r,c[1]))return c[0];if(c=n(),Da){Zn(!0);try{n()}finally{Zn(!1)}}return l.memoizedState=[c,r],c}function tm(n,r,l){return l===void 0||(br&1073741824)!==0&&(kt&261930)===0?n.memoizedState=r:(n.memoizedState=l,n=Bv(),Dt.lanes|=n,ys|=n,l)}function B_(n,r,l,c){return Vn(l,r)?l:Mo.current!==null?(n=tm(n,l,c),Vn(n,r)||(Ve=!0),n):(br&42)===0||(br&1073741824)!==0&&(kt&261930)===0?(Ve=!0,n.memoizedState=l):(n=Bv(),Dt.lanes|=n,ys|=n,r)}function j_(n,r,l,c,g){var _=X.p;X.p=_!==0&&8>_?_:8;var C=G.T,U={};G.T=U,im(n,!1,r,l);try{var H=g(),Z=G.S;if(Z!==null&&Z(U,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var rt=Rx(H,c);au(n,r,rt,jn(n))}else au(n,r,c,jn(n))}catch(at){au(n,r,{then:function(){},status:"rejected",reason:at},jn())}finally{X.p=_,C!==null&&U.types!==null&&(C.types=U.types),G.T=C}}function Nx(){}function em(n,r,l,c){if(n.tag!==5)throw Error(i(476));var g=F_(n).queue;j_(n,g,r,lt,l===null?Nx:function(){return H_(n),l(c)})}function F_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:lt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:l},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function H_(n){var r=F_(n);r.next===null&&(r=n.alternate.memoizedState),au(n,r.next.queue,{},jn())}function nm(){return en(Au)}function q_(){return we().memoizedState}function G_(){return we().memoizedState}function Px(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var l=jn();n=fs(l);var c=hs(r,n,l);c!==null&&(bn(c,r,l),eu(c,r,l)),r={cache:Dd()},n.payload=r;return}r=r.return}}function Vx(n,r,l){var c=jn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hf(n)?Q_(r,l):(l=Td(n,r,l,c),l!==null&&(bn(l,n,c),K_(l,r,c)))}function Y_(n,r,l){var c=jn();au(n,r,l,c)}function au(n,r,l,c){var g={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(hf(n))Q_(r,g);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=r.lastRenderedReducer,_!==null))try{var C=r.lastRenderedState,U=_(C,l);if(g.hasEagerState=!0,g.eagerState=U,Vn(U,C))return Gc(n,r,g,0),re===null&&qc(),!1}catch{}if(l=Td(n,r,g,c),l!==null)return bn(l,n,c),K_(l,r,c),!0}return!1}function im(n,r,l,c){if(c={lane:2,revertLane:Vm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},hf(n)){if(r)throw Error(i(479))}else r=Td(n,l,c,2),r!==null&&bn(r,n,2)}function hf(n){var r=n.alternate;return n===Dt||r!==null&&r===Dt}function Q_(n,r){Do=sf=!0;var l=n.pending;l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r}function K_(n,r,l){if((l&4194048)!==0){var c=r.lanes;c&=n.pendingLanes,l|=c,r.lanes=l,Cl(n,l)}}var ou={readContext:en,use:lf,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};ou.useEffectEvent=_e;var X_={readContext:en,use:lf,useCallback:function(n,r){return yn().memoizedState=[n,r===void 0?null:r],n},useContext:en,useEffect:O_,useImperativeHandle:function(n,r,l){l=l!=null?l.concat([n]):null,cf(4194308,4,k_.bind(null,r,n),l)},useLayoutEffect:function(n,r){return cf(4194308,4,n,r)},useInsertionEffect:function(n,r){cf(4,2,n,r)},useMemo:function(n,r){var l=yn();r=r===void 0?null:r;var c=n();if(Da){Zn(!0);try{n()}finally{Zn(!1)}}return l.memoizedState=[c,r],c},useReducer:function(n,r,l){var c=yn();if(l!==void 0){var g=l(r);if(Da){Zn(!0);try{l(r)}finally{Zn(!1)}}}else g=r;return c.memoizedState=c.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},c.queue=n,n=n.dispatch=Vx.bind(null,Dt,n),[c.memoizedState,n]},useRef:function(n){var r=yn();return n={current:n},r.memoizedState=n},useState:function(n){n=$d(n);var r=n.queue,l=Y_.bind(null,Dt,r);return r.dispatch=l,[n.memoizedState,l]},useDebugValue:Wd,useDeferredValue:function(n,r){var l=yn();return tm(l,n,r)},useTransition:function(){var n=$d(!1);return n=j_.bind(null,Dt,n.queue,!0,!1),yn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,l){var c=Dt,g=yn();if(zt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),re===null)throw Error(i(349));(kt&127)!==0||g_(c,r,l)}g.memoizedState=l;var _={value:l,getSnapshot:r};return g.queue=_,O_(__.bind(null,c,_,n),[n]),c.flags|=2048,No(9,{destroy:void 0},y_.bind(null,c,_,l,r),null),l},useId:function(){var n=yn(),r=re.identifierPrefix;if(zt){var l=Zi,c=$i;l=(c&~(1<<32-Se(c)-1)).toString(32)+l,r="_"+r+"R_"+l,l=af++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=Cx++,r="_"+r+"r_"+l.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:nm,useFormState:R_,useActionState:R_,useOptimistic:function(n){var r=yn();r.memoizedState=r.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=im.bind(null,Dt,!0,l),l.dispatch=r,[n,r]},useMemoCache:Qd,useCacheRefresh:function(){return yn().memoizedState=Px.bind(null,Dt)},useEffectEvent:function(n){var r=yn(),l={impl:n};return r.memoizedState=l,function(){if((Kt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},rm={readContext:en,use:lf,useCallback:U_,useContext:en,useEffect:Jd,useImperativeHandle:L_,useInsertionEffect:P_,useLayoutEffect:V_,useMemo:z_,useReducer:uf,useRef:D_,useState:function(){return uf(Rr)},useDebugValue:Wd,useDeferredValue:function(n,r){var l=we();return B_(l,ee.memoizedState,n,r)},useTransition:function(){var n=uf(Rr)[0],r=we().memoizedState;return[typeof n=="boolean"?n:su(n),r]},useSyncExternalStore:p_,useId:q_,useHostTransitionStatus:nm,useFormState:C_,useActionState:C_,useOptimistic:function(n,r){var l=we();return E_(l,ee,n,r)},useMemoCache:Qd,useCacheRefresh:G_};rm.useEffectEvent=N_;var $_={readContext:en,use:lf,useCallback:U_,useContext:en,useEffect:Jd,useImperativeHandle:L_,useInsertionEffect:P_,useLayoutEffect:V_,useMemo:z_,useReducer:Xd,useRef:D_,useState:function(){return Xd(Rr)},useDebugValue:Wd,useDeferredValue:function(n,r){var l=we();return ee===null?tm(l,n,r):B_(l,ee.memoizedState,n,r)},useTransition:function(){var n=Xd(Rr)[0],r=we().memoizedState;return[typeof n=="boolean"?n:su(n),r]},useSyncExternalStore:p_,useId:q_,useHostTransitionStatus:nm,useFormState:M_,useActionState:M_,useOptimistic:function(n,r){var l=we();return ee!==null?E_(l,ee,n,r):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Qd,useCacheRefresh:G_};$_.useEffectEvent=N_;function sm(n,r,l,c){r=n.memoizedState,l=l(c,r),l=l==null?r:v({},r,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var am={enqueueSetState:function(n,r,l){n=n._reactInternals;var c=jn(),g=fs(c);g.payload=r,l!=null&&(g.callback=l),r=hs(n,g,c),r!==null&&(bn(r,n,c),eu(r,n,c))},enqueueReplaceState:function(n,r,l){n=n._reactInternals;var c=jn(),g=fs(c);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=hs(n,g,c),r!==null&&(bn(r,n,c),eu(r,n,c))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var l=jn(),c=fs(l);c.tag=2,r!=null&&(c.callback=r),r=hs(n,c,l),r!==null&&(bn(r,n,l),eu(r,n,l))}};function Z_(n,r,l,c,g,_,C){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,_,C):r.prototype&&r.prototype.isPureReactComponent?!Ql(l,c)||!Ql(g,_):!0}function J_(n,r,l,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,c),r.state!==n&&am.enqueueReplaceState(r,r.state,null)}function Oa(n,r){var l=r;if("ref"in r){l={};for(var c in r)c!=="ref"&&(l[c]=r[c])}if(n=n.defaultProps){l===r&&(l=v({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function W_(n){Hc(n)}function tv(n){console.error(n)}function ev(n){Hc(n)}function df(n,r){try{var l=n.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function nv(n,r,l){try{var c=n.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function om(n,r,l){return l=fs(l),l.tag=3,l.payload={element:null},l.callback=function(){df(n,r)},l}function iv(n){return n=fs(n),n.tag=3,n}function rv(n,r,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var _=c.value;n.payload=function(){return g(_)},n.callback=function(){nv(r,l,c)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(n.callback=function(){nv(r,l,c),typeof g!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var U=c.stack;this.componentDidCatch(c.value,{componentStack:U!==null?U:""})})}function kx(n,r,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=l.alternate,r!==null&&wo(r,l,g,!0),l=Ln.current,l!==null){switch(l.tag){case 31:case 13:return oi===null?wf():l.alternate===null&&ve===0&&(ve=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===Wc?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([c]):r.add(c),Om(n,c,g)),!1;case 22:return l.flags|=65536,c===Wc?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([c]):l.add(c)),Om(n,c,g)),!1}throw Error(i(435,l.tag))}return Om(n,c,g),wf(),!1}if(zt)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,c!==bd&&(n=Error(i(422),{cause:c}),$l(ii(n,l)))):(c!==bd&&(r=Error(i(423),{cause:c}),$l(ii(r,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,c=ii(c,l),g=om(n.stateNode,c,g),Ld(n,g),ve!==4&&(ve=2)),!1;var _=Error(i(520),{cause:c});if(_=ii(_,l),pu===null?pu=[_]:pu.push(_),ve!==4&&(ve=2),r===null)return!0;c=ii(c,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=om(l.stateNode,c,n),Ld(l,n),!1;case 1:if(r=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(_s===null||!_s.has(_))))return l.flags|=65536,g&=-g,l.lanes|=g,g=iv(g),rv(g,n,l,c),Ld(l,g),!1}l=l.return}while(l!==null);return!1}var lm=Error(i(461)),Ve=!1;function nn(n,r,l,c){r.child=n===null?l_(r,null,l,c):Ma(r,n.child,l,c)}function sv(n,r,l,c,g){l=l.render;var _=r.ref;if("ref"in c){var C={};for(var U in c)U!=="ref"&&(C[U]=c[U])}else C=c;return ba(r),c=Hd(n,r,l,C,_,g),U=qd(),n!==null&&!Ve?(Gd(n,r,g),Cr(n,r,g)):(zt&&U&&xd(r),r.flags|=1,nn(n,r,c,g),r.child)}function av(n,r,l,c,g){if(n===null){var _=l.type;return typeof _=="function"&&!Ed(_)&&_.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=_,ov(n,r,_,c,g)):(n=Qc(l.type,null,c,r,r.mode,g),n.ref=r.ref,n.return=r,r.child=n)}if(_=n.child,!gm(n,g)){var C=_.memoizedProps;if(l=l.compare,l=l!==null?l:Ql,l(C,c)&&n.ref===r.ref)return Cr(n,r,g)}return r.flags|=1,n=Sr(_,c),n.ref=r.ref,n.return=r,r.child=n}function ov(n,r,l,c,g){if(n!==null){var _=n.memoizedProps;if(Ql(_,c)&&n.ref===r.ref)if(Ve=!1,r.pendingProps=c=_,gm(n,g))(n.flags&131072)!==0&&(Ve=!0);else return r.lanes=n.lanes,Cr(n,r,g)}return um(n,r,l,c,g)}function lv(n,r,l,c){var g=c.children,_=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,n!==null){for(c=r.child=n.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~_}else c=0,r.child=null;return uv(n,r,_,l,c)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Zc(r,_!==null?_.cachePool:null),_!==null?f_(r,_):zd(),h_(r);else return c=r.lanes=536870912,uv(n,r,_!==null?_.baseLanes|l:l,l,c)}else _!==null?(Zc(r,_.cachePool),f_(r,_),ms(),r.memoizedState=null):(n!==null&&Zc(r,null),zd(),ms());return nn(n,r,g,l),r.child}function lu(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function uv(n,r,l,c,g){var _=Nd();return _=_===null?null:{parent:Ne._currentValue,pool:_},r.memoizedState={baseLanes:l,cachePool:_},n!==null&&Zc(r,null),zd(),h_(r),n!==null&&wo(n,r,c,!0),r.childLanes=g,null}function mf(n,r){return r=gf({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function cv(n,r,l){return Ma(r,n.child,null,l),n=mf(r,r.pendingProps),n.flags|=2,Un(r),r.memoizedState=null,n}function Lx(n,r,l){var c=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(zt){if(c.mode==="hidden")return n=mf(r,c),r.lanes=536870912,lu(null,n);if(jd(r),(n=oe)?(n=S0(n,ai),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:as!==null?{id:$i,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},l=Qy(n),l.return=r,r.child=l,tn=r,oe=null)):n=null,n===null)throw ls(r);return r.lanes=536870912,null}return mf(r,c)}var _=n.memoizedState;if(_!==null){var C=_.dehydrated;if(jd(r),g)if(r.flags&256)r.flags&=-257,r=cv(n,r,l);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(i(558));else if(Ve||wo(n,r,l,!1),g=(l&n.childLanes)!==0,Ve||g){if(c=re,c!==null&&(C=Il(c,l),C!==0&&C!==_.retryLane))throw _.retryLane=C,Sa(n,C),bn(c,n,C),lm;wf(),r=cv(n,r,l)}else n=_.treeContext,oe=li(C.nextSibling),tn=r,zt=!0,os=null,ai=!1,n!==null&&$y(r,n),r=mf(r,c),r.flags|=4096;return r}return n=Sr(n.child,{mode:c.mode,children:c.children}),n.ref=r.ref,r.child=n,n.return=r,n}function pf(n,r){var l=r.ref;if(l===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(r.flags|=4194816)}}function um(n,r,l,c,g){return ba(r),l=Hd(n,r,l,c,void 0,g),c=qd(),n!==null&&!Ve?(Gd(n,r,g),Cr(n,r,g)):(zt&&c&&xd(r),r.flags|=1,nn(n,r,l,g),r.child)}function fv(n,r,l,c,g,_){return ba(r),r.updateQueue=null,l=m_(r,c,l,g),d_(n),c=qd(),n!==null&&!Ve?(Gd(n,r,_),Cr(n,r,_)):(zt&&c&&xd(r),r.flags|=1,nn(n,r,l,_),r.child)}function hv(n,r,l,c,g){if(ba(r),r.stateNode===null){var _=Eo,C=l.contextType;typeof C=="object"&&C!==null&&(_=en(C)),_=new l(c,_),r.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=am,r.stateNode=_,_._reactInternals=r,_=r.stateNode,_.props=c,_.state=r.memoizedState,_.refs={},Vd(r),C=l.contextType,_.context=typeof C=="object"&&C!==null?en(C):Eo,_.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(sm(r,l,C,c),_.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(C=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),C!==_.state&&am.enqueueReplaceState(_,_.state,null),iu(r,c,_,g),nu(),_.state=r.memoizedState),typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(n===null){_=r.stateNode;var U=r.memoizedProps,H=Oa(l,U);_.props=H;var Z=_.context,rt=l.contextType;C=Eo,typeof rt=="object"&&rt!==null&&(C=en(rt));var at=l.getDerivedStateFromProps;rt=typeof at=="function"||typeof _.getSnapshotBeforeUpdate=="function",U=r.pendingProps!==U,rt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(U||Z!==C)&&J_(r,_,c,C),cs=!1;var J=r.memoizedState;_.state=J,iu(r,c,_,g),nu(),Z=r.memoizedState,U||J!==Z||cs?(typeof at=="function"&&(sm(r,l,at,c),Z=r.memoizedState),(H=cs||Z_(r,l,H,c,J,Z,C))?(rt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Z),_.props=c,_.state=Z,_.context=C,c=H):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,kd(n,r),C=r.memoizedProps,rt=Oa(l,C),_.props=rt,at=r.pendingProps,J=_.context,Z=l.contextType,H=Eo,typeof Z=="object"&&Z!==null&&(H=en(Z)),U=l.getDerivedStateFromProps,(Z=typeof U=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==at||J!==H)&&J_(r,_,c,H),cs=!1,J=r.memoizedState,_.state=J,iu(r,c,_,g),nu();var et=r.memoizedState;C!==at||J!==et||cs||n!==null&&n.dependencies!==null&&Xc(n.dependencies)?(typeof U=="function"&&(sm(r,l,U,c),et=r.memoizedState),(rt=cs||Z_(r,l,rt,c,J,et,H)||n!==null&&n.dependencies!==null&&Xc(n.dependencies))?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,et,H),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,et,H)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&J===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&J===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=et),_.props=c,_.state=et,_.context=H,c=rt):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&J===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&J===n.memoizedState||(r.flags|=1024),c=!1)}return _=c,pf(n,r),c=(r.flags&128)!==0,_||c?(_=r.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:_.render(),r.flags|=1,n!==null&&c?(r.child=Ma(r,n.child,null,g),r.child=Ma(r,null,l,g)):nn(n,r,l,g),r.memoizedState=_.state,n=r.child):n=Cr(n,r,g),n}function dv(n,r,l,c){return xa(),r.flags|=256,nn(n,r,l,c),r.child}var cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fm(n){return{baseLanes:n,cachePool:n_()}}function hm(n,r,l){return n=n!==null?n.childLanes&~l:0,r&&(n|=Bn),n}function mv(n,r,l){var c=r.pendingProps,g=!1,_=(r.flags&128)!==0,C;if((C=_)||(C=n!==null&&n.memoizedState===null?!1:(xe.current&2)!==0),C&&(g=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,n===null){if(zt){if(g?ds(r):ms(),(n=oe)?(n=S0(n,ai),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:as!==null?{id:$i,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},l=Qy(n),l.return=r,r.child=l,tn=r,oe=null)):n=null,n===null)throw ls(r);return Km(n)?r.lanes=32:r.lanes=536870912,null}var U=c.children;return c=c.fallback,g?(ms(),g=r.mode,U=gf({mode:"hidden",children:U},g),c=Aa(c,g,l,null),U.return=r,c.return=r,U.sibling=c,r.child=U,c=r.child,c.memoizedState=fm(l),c.childLanes=hm(n,C,l),r.memoizedState=cm,lu(null,c)):(ds(r),dm(r,U))}var H=n.memoizedState;if(H!==null&&(U=H.dehydrated,U!==null)){if(_)r.flags&256?(ds(r),r.flags&=-257,r=mm(n,r,l)):r.memoizedState!==null?(ms(),r.child=n.child,r.flags|=128,r=null):(ms(),U=c.fallback,g=r.mode,c=gf({mode:"visible",children:c.children},g),U=Aa(U,g,l,null),U.flags|=2,c.return=r,U.return=r,c.sibling=U,r.child=c,Ma(r,n.child,null,l),c=r.child,c.memoizedState=fm(l),c.childLanes=hm(n,C,l),r.memoizedState=cm,r=lu(null,c));else if(ds(r),Km(U)){if(C=U.nextSibling&&U.nextSibling.dataset,C)var Z=C.dgst;C=Z,c=Error(i(419)),c.stack="",c.digest=C,$l({value:c,source:null,stack:null}),r=mm(n,r,l)}else if(Ve||wo(n,r,l,!1),C=(l&n.childLanes)!==0,Ve||C){if(C=re,C!==null&&(c=Il(C,l),c!==0&&c!==H.retryLane))throw H.retryLane=c,Sa(n,c),bn(C,n,c),lm;Qm(U)||wf(),r=mm(n,r,l)}else Qm(U)?(r.flags|=192,r.child=n.child,r=null):(n=H.treeContext,oe=li(U.nextSibling),tn=r,zt=!0,os=null,ai=!1,n!==null&&$y(r,n),r=dm(r,c.children),r.flags|=4096);return r}return g?(ms(),U=c.fallback,g=r.mode,H=n.child,Z=H.sibling,c=Sr(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,Z!==null?U=Sr(Z,U):(U=Aa(U,g,l,null),U.flags|=2),U.return=r,c.return=r,c.sibling=U,r.child=c,lu(null,c),c=r.child,U=n.child.memoizedState,U===null?U=fm(l):(g=U.cachePool,g!==null?(H=Ne._currentValue,g=g.parent!==H?{parent:H,pool:H}:g):g=n_(),U={baseLanes:U.baseLanes|l,cachePool:g}),c.memoizedState=U,c.childLanes=hm(n,C,l),r.memoizedState=cm,lu(n.child,c)):(ds(r),l=n.child,n=l.sibling,l=Sr(l,{mode:"visible",children:c.children}),l.return=r,l.sibling=null,n!==null&&(C=r.deletions,C===null?(r.deletions=[n],r.flags|=16):C.push(n)),r.child=l,r.memoizedState=null,l)}function dm(n,r){return r=gf({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function gf(n,r){return n=kn(22,n,null,r),n.lanes=0,n}function mm(n,r,l){return Ma(r,n.child,null,l),n=dm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function pv(n,r,l){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Id(n.return,r,l)}function pm(n,r,l,c,g,_){var C=n.memoizedState;C===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g,treeForkCount:_}:(C.isBackwards=r,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=l,C.tailMode=g,C.treeForkCount=_)}function gv(n,r,l){var c=r.pendingProps,g=c.revealOrder,_=c.tail;c=c.children;var C=xe.current,U=(C&2)!==0;if(U?(C=C&1|2,r.flags|=128):C&=1,ut(xe,C),nn(n,r,c,l),c=zt?Xl:0,!U&&n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&pv(n,l,r);else if(n.tag===19)pv(n,l,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=r.child,g=null;l!==null;)n=l.alternate,n!==null&&rf(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),pm(r,!1,g,l,_,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(n=g.alternate,n!==null&&rf(n)===null){r.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}pm(r,!0,l,null,_,c);break;case"together":pm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Cr(n,r,l){if(n!==null&&(r.dependencies=n.dependencies),ys|=r.lanes,(l&r.childLanes)===0)if(n!==null){if(wo(n,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,l=Sr(n,n.pendingProps),r.child=l,l.return=r;n.sibling!==null;)n=n.sibling,l=l.sibling=Sr(n,n.pendingProps),l.return=r;l.sibling=null}return r.child}function gm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Xc(n)))}function Ux(n,r,l){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),us(r,Ne,n.memoizedState.cache),xa();break;case 27:case 5:qe(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:us(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,jd(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ds(r),r.flags|=128,null):(l&r.child.childLanes)!==0?mv(n,r,l):(ds(r),n=Cr(n,r,l),n!==null?n.sibling:null);ds(r);break;case 19:var g=(n.flags&128)!==0;if(c=(l&r.childLanes)!==0,c||(wo(n,r,l,!1),c=(l&r.childLanes)!==0),g){if(c)return gv(n,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ut(xe,xe.current),c)break;return null;case 22:return r.lanes=0,lv(n,r,l,r.pendingProps);case 24:us(r,Ne,n.memoizedState.cache)}return Cr(n,r,l)}function yv(n,r,l){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ve=!0;else{if(!gm(n,l)&&(r.flags&128)===0)return Ve=!1,Ux(n,r,l);Ve=(n.flags&131072)!==0}else Ve=!1,zt&&(r.flags&1048576)!==0&&Xy(r,Xl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var c=r.pendingProps;if(n=Ca(r.elementType),r.type=n,typeof n=="function")Ed(n)?(c=Oa(n,c),r.tag=1,r=hv(null,r,n,c,l)):(r.tag=0,r=um(null,r,n,c,l));else{if(n!=null){var g=n.$$typeof;if(g===B){r.tag=11,r=sv(null,r,n,c,l);break t}else if(g===b){r.tag=14,r=av(null,r,n,c,l);break t}}throw r=nt(n)||n,Error(i(306,r,""))}}return r;case 0:return um(n,r,r.type,r.pendingProps,l);case 1:return c=r.type,g=Oa(c,r.pendingProps),hv(n,r,c,g,l);case 3:t:{if(Vt(r,r.stateNode.containerInfo),n===null)throw Error(i(387));c=r.pendingProps;var _=r.memoizedState;g=_.element,kd(n,r),iu(r,c,null,l);var C=r.memoizedState;if(c=C.cache,us(r,Ne,c),c!==_.cache&&Md(r,[Ne],l,!0),nu(),c=C.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=_,r.memoizedState=_,r.flags&256){r=dv(n,r,c,l);break t}else if(c!==g){g=ii(Error(i(424)),r),$l(g),r=dv(n,r,c,l);break t}else for(n=r.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,oe=li(n.firstChild),tn=r,zt=!0,os=null,ai=!0,l=l_(r,null,c,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(xa(),c===g){r=Cr(n,r,l);break t}nn(n,r,c,l)}r=r.child}return r;case 26:return pf(n,r),n===null?(l=C0(r.type,null,r.pendingProps,null))?r.memoizedState=l:zt||(l=r.type,n=r.pendingProps,c=Of(dt.current).createElement(l),c[Me]=r,c[Ye]=n,rn(c,l,n),De(c),r.stateNode=c):r.memoizedState=C0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return qe(r),n===null&&zt&&(c=r.stateNode=w0(r.type,r.pendingProps,dt.current),tn=r,ai=!0,g=oe,Ss(r.type)?(Xm=g,oe=li(c.firstChild)):oe=g),nn(n,r,r.pendingProps.children,l),pf(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&zt&&((g=c=oe)&&(c=mw(c,r.type,r.pendingProps,ai),c!==null?(r.stateNode=c,tn=r,oe=li(c.firstChild),ai=!1,g=!0):g=!1),g||ls(r)),qe(r),g=r.type,_=r.pendingProps,C=n!==null?n.memoizedProps:null,c=_.children,qm(g,_)?c=null:C!==null&&qm(g,C)&&(r.flags|=32),r.memoizedState!==null&&(g=Hd(n,r,Ix,null,null,l),Au._currentValue=g),pf(n,r),nn(n,r,c,l),r.child;case 6:return n===null&&zt&&((n=l=oe)&&(l=pw(l,r.pendingProps,ai),l!==null?(r.stateNode=l,tn=r,oe=null,n=!0):n=!1),n||ls(r)),null;case 13:return mv(n,r,l);case 4:return Vt(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Ma(r,null,c,l):nn(n,r,c,l),r.child;case 11:return sv(n,r,r.type,r.pendingProps,l);case 7:return nn(n,r,r.pendingProps,l),r.child;case 8:return nn(n,r,r.pendingProps.children,l),r.child;case 12:return nn(n,r,r.pendingProps.children,l),r.child;case 10:return c=r.pendingProps,us(r,r.type,c.value),nn(n,r,c.children,l),r.child;case 9:return g=r.type._context,c=r.pendingProps.children,ba(r),g=en(g),c=c(g),r.flags|=1,nn(n,r,c,l),r.child;case 14:return av(n,r,r.type,r.pendingProps,l);case 15:return ov(n,r,r.type,r.pendingProps,l);case 19:return gv(n,r,l);case 31:return Lx(n,r,l);case 22:return lv(n,r,l,r.pendingProps);case 24:return ba(r),c=en(Ne),n===null?(g=Nd(),g===null&&(g=re,_=Dd(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=l),g=_),r.memoizedState={parent:c,cache:g},Vd(r),us(r,Ne,g)):((n.lanes&l)!==0&&(kd(n,r),iu(r,null,null,l),nu()),g=n.memoizedState,_=r.memoizedState,g.parent!==c?(g={parent:c,cache:c},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),us(r,Ne,c)):(c=_.cache,us(r,Ne,c),c!==g.cache&&Md(r,[Ne],l,!0))),nn(n,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ir(n){n.flags|=4}function ym(n,r,l,c,g){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(qv())n.flags|=8192;else throw Ia=Wc,Pd}else n.flags&=-16777217}function _v(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!N0(r))if(qv())n.flags|=8192;else throw Ia=Wc,Pd}function yf(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Sc():536870912,n.lanes|=r,Lo|=r)}function uu(n,r){if(!zt)switch(n.tailMode){case"hidden":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function le(n){var r=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(r)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=c,n.childLanes=l,r}function zx(n,r,l){var c=r.pendingProps;switch(wd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(r),null;case 1:return le(r),null;case 3:return l=r.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),wr(Ne),Xt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(xo(r)?Ir(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Rd())),le(r),null;case 26:var g=r.type,_=r.memoizedState;return n===null?(Ir(r),_!==null?(le(r),_v(r,_)):(le(r),ym(r,g,null,c,l))):_?_!==n.memoizedState?(Ir(r),le(r),_v(r,_)):(le(r),r.flags&=-16777217):(n=n.memoizedProps,n!==c&&Ir(r),le(r),ym(r,g,n,c,l)),null;case 27:if(Ze(r),l=dt.current,g=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&Ir(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return le(r),null}n=ct.current,xo(r)?Zy(r):(n=w0(g,c,l),r.stateNode=n,Ir(r))}return le(r),null;case 5:if(Ze(r),g=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&Ir(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return le(r),null}if(_=ct.current,xo(r))Zy(r);else{var C=Of(dt.current);switch(_){case 1:_=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:_=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":_=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":_=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":_=C.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?_.multiple=!0:c.size&&(_.size=c.size);break;default:_=typeof c.is=="string"?C.createElement(g,{is:c.is}):C.createElement(g)}}_[Me]=r,_[Ye]=c;t:for(C=r.child;C!==null;){if(C.tag===5||C.tag===6)_.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===r)break t;for(;C.sibling===null;){if(C.return===null||C.return===r)break t;C=C.return}C.sibling.return=C.return,C=C.sibling}r.stateNode=_;t:switch(rn(_,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Ir(r)}}return le(r),ym(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,l),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==c&&Ir(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(n=dt.current,xo(r)){if(n=r.stateNode,l=r.memoizedProps,c=null,g=tn,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}n[Me]=r,n=!!(n.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||m0(n.nodeValue,l)),n||ls(r,!0)}else n=Of(n).createTextNode(c),n[Me]=r,r.stateNode=n}return le(r),null;case 31:if(l=r.memoizedState,n===null||n.memoizedState!==null){if(c=xo(r),l!==null){if(n===null){if(!c)throw Error(i(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Me]=r}else xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;le(r),n=!1}else l=Rd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return r.flags&256?(Un(r),r):(Un(r),null);if((r.flags&128)!==0)throw Error(i(558))}return le(r),null;case 13:if(c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=xo(r),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Me]=r}else xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;le(r),g=!1}else g=Rd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Un(r),r):(Un(r),null)}return Un(r),(r.flags&128)!==0?(r.lanes=l,r):(l=c!==null,n=n!==null&&n.memoizedState!==null,l&&(c=r.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),_=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==g&&(c.flags|=2048)),l!==n&&l&&(r.child.flags|=8192),yf(r,r.updateQueue),le(r),null);case 4:return Xt(),n===null&&zm(r.stateNode.containerInfo),le(r),null;case 10:return wr(r.type),le(r),null;case 19:if(tt(xe),c=r.memoizedState,c===null)return le(r),null;if(g=(r.flags&128)!==0,_=c.rendering,_===null)if(g)uu(c,!1);else{if(ve!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(_=rf(n),_!==null){for(r.flags|=128,uu(c,!1),n=_.updateQueue,r.updateQueue=n,yf(r,n),r.subtreeFlags=0,n=l,l=r.child;l!==null;)Yy(l,n),l=l.sibling;return ut(xe,xe.current&1|2),zt&&Ar(r,c.treeForkCount),r.child}n=n.sibling}c.tail!==null&&Ge()>Sf&&(r.flags|=128,g=!0,uu(c,!1),r.lanes=4194304)}else{if(!g)if(n=rf(_),n!==null){if(r.flags|=128,g=!0,n=n.updateQueue,r.updateQueue=n,yf(r,n),uu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!_.alternate&&!zt)return le(r),null}else 2*Ge()-c.renderingStartTime>Sf&&l!==536870912&&(r.flags|=128,g=!0,uu(c,!1),r.lanes=4194304);c.isBackwards?(_.sibling=r.child,r.child=_):(n=c.last,n!==null?n.sibling=_:r.child=_,c.last=_)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ge(),n.sibling=null,l=xe.current,ut(xe,g?l&1|2:l&1),zt&&Ar(r,c.treeForkCount),n):(le(r),null);case 22:case 23:return Un(r),Bd(),c=r.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(l&536870912)!==0&&(r.flags&128)===0&&(le(r),r.subtreeFlags&6&&(r.flags|=8192)):le(r),l=r.updateQueue,l!==null&&yf(r,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==l&&(r.flags|=2048),n!==null&&tt(Ra),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),wr(Ne),le(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function Bx(n,r){switch(wd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return wr(Ne),Xt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ze(r),null;case 31:if(r.memoizedState!==null){if(Un(r),r.alternate===null)throw Error(i(340));xa()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Un(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));xa()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return tt(xe),null;case 4:return Xt(),null;case 10:return wr(r.type),null;case 22:case 23:return Un(r),Bd(),n!==null&&tt(Ra),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return wr(Ne),null;case 25:return null;default:return null}}function vv(n,r){switch(wd(r),r.tag){case 3:wr(Ne),Xt();break;case 26:case 27:case 5:Ze(r);break;case 4:Xt();break;case 31:r.memoizedState!==null&&Un(r);break;case 13:Un(r);break;case 19:tt(xe);break;case 10:wr(r.type);break;case 22:case 23:Un(r),Bd(),n!==null&&tt(Ra);break;case 24:wr(Ne)}}function cu(n,r){try{var l=r.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&n)===n){c=void 0;var _=l.create,C=l.inst;c=_(),C.destroy=c}l=l.next}while(l!==g)}}catch(U){Wt(r,r.return,U)}}function ps(n,r,l){try{var c=r.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var _=g.next;c=_;do{if((c.tag&n)===n){var C=c.inst,U=C.destroy;if(U!==void 0){C.destroy=void 0,g=r;var H=l,Z=U;try{Z()}catch(rt){Wt(g,H,rt)}}}c=c.next}while(c!==_)}}catch(rt){Wt(r,r.return,rt)}}function Tv(n){var r=n.updateQueue;if(r!==null){var l=n.stateNode;try{c_(r,l)}catch(c){Wt(n,n.return,c)}}}function Ev(n,r,l){l.props=Oa(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(c){Wt(n,r,c)}}function fu(n,r){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof l=="function"?n.refCleanup=l(c):l.current=c}}catch(g){Wt(n,r,g)}}function Ji(n,r){var l=n.ref,c=n.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){Wt(n,r,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Wt(n,r,g)}else l.current=null}function Sv(n){var r=n.type,l=n.memoizedProps,c=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){Wt(n,n.return,g)}}function _m(n,r,l){try{var c=n.stateNode;lw(c,n.type,l,r),c[Ye]=r}catch(g){Wt(n,n.return,g)}}function Av(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ss(n.type)||n.tag===4}function vm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Av(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ss(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Tm(n,r,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(n),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=yi));else if(c!==4&&(c===27&&Ss(n.type)&&(l=n.stateNode,r=null),n=n.child,n!==null))for(Tm(n,r,l),n=n.sibling;n!==null;)Tm(n,r,l),n=n.sibling}function _f(n,r,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?l.insertBefore(n,r):l.appendChild(n);else if(c!==4&&(c===27&&Ss(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(_f(n,r,l),n=n.sibling;n!==null;)_f(n,r,l),n=n.sibling}function xv(n){var r=n.stateNode,l=n.memoizedProps;try{for(var c=n.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);rn(r,c,l),r[Me]=n,r[Ye]=l}catch(_){Wt(n,n.return,_)}}var Mr=!1,ke=!1,Em=!1,wv=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function jx(n,r){if(n=n.containerInfo,Fm=zf,n=Ly(n),md(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break t}var C=0,U=-1,H=-1,Z=0,rt=0,at=n,J=null;e:for(;;){for(var et;at!==l||g!==0&&at.nodeType!==3||(U=C+g),at!==_||c!==0&&at.nodeType!==3||(H=C+c),at.nodeType===3&&(C+=at.nodeValue.length),(et=at.firstChild)!==null;)J=at,at=et;for(;;){if(at===n)break e;if(J===l&&++Z===g&&(U=C),J===_&&++rt===c&&(H=C),(et=at.nextSibling)!==null)break;at=J,J=at.parentNode}at=et}l=U===-1||H===-1?null:{start:U,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(Hm={focusedElem:n,selectionRange:l},zf=!1,Ke=r;Ke!==null;)if(r=Ke,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Ke=n;else for(;Ke!==null;){switch(r=Ke,_=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&_!==null){n=void 0,l=r,g=_.memoizedProps,_=_.memoizedState,c=l.stateNode;try{var _t=Oa(l.type,g);n=c.getSnapshotBeforeUpdate(_t,_),c.__reactInternalSnapshotBeforeUpdate=n}catch(xt){Wt(l,l.return,xt)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,l=n.nodeType,l===9)Ym(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ym(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,Ke=n;break}Ke=r.return}}function bv(n,r,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Or(n,l),c&4&&cu(5,l);break;case 1:if(Or(n,l),c&4)if(n=l.stateNode,r===null)try{n.componentDidMount()}catch(C){Wt(l,l.return,C)}else{var g=Oa(l.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(g,r,n.__reactInternalSnapshotBeforeUpdate)}catch(C){Wt(l,l.return,C)}}c&64&&Tv(l),c&512&&fu(l,l.return);break;case 3:if(Or(n,l),c&64&&(n=l.updateQueue,n!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{c_(n,r)}catch(C){Wt(l,l.return,C)}}break;case 27:r===null&&c&4&&xv(l);case 26:case 5:Or(n,l),r===null&&c&4&&Sv(l),c&512&&fu(l,l.return);break;case 12:Or(n,l);break;case 31:Or(n,l),c&4&&Iv(n,l);break;case 13:Or(n,l),c&4&&Mv(n,l),c&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=$x.bind(null,l),gw(n,l))));break;case 22:if(c=l.memoizedState!==null||Mr,!c){r=r!==null&&r.memoizedState!==null||ke,g=Mr;var _=ke;Mr=c,(ke=r)&&!_?Nr(n,l,(l.subtreeFlags&8772)!==0):Or(n,l),Mr=g,ke=_}break;case 30:break;default:Or(n,l)}}function Rv(n){var r=n.alternate;r!==null&&(n.alternate=null,Rv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&ao(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var fe=null,Sn=!1;function Dr(n,r,l){for(l=l.child;l!==null;)Cv(n,r,l),l=l.sibling}function Cv(n,r,l){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(di,l)}catch{}switch(l.tag){case 26:ke||Ji(l,r),Dr(n,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ke||Ji(l,r);var c=fe,g=Sn;Ss(l.type)&&(fe=l.stateNode,Sn=!1),Dr(n,r,l),Tu(l.stateNode),fe=c,Sn=g;break;case 5:ke||Ji(l,r);case 6:if(c=fe,g=Sn,fe=null,Dr(n,r,l),fe=c,Sn=g,fe!==null)if(Sn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(l.stateNode)}catch(_){Wt(l,r,_)}else try{fe.removeChild(l.stateNode)}catch(_){Wt(l,r,_)}break;case 18:fe!==null&&(Sn?(n=fe,T0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Go(n)):T0(fe,l.stateNode));break;case 4:c=fe,g=Sn,fe=l.stateNode.containerInfo,Sn=!0,Dr(n,r,l),fe=c,Sn=g;break;case 0:case 11:case 14:case 15:ps(2,l,r),ke||ps(4,l,r),Dr(n,r,l);break;case 1:ke||(Ji(l,r),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Ev(l,r,c)),Dr(n,r,l);break;case 21:Dr(n,r,l);break;case 22:ke=(c=ke)||l.memoizedState!==null,Dr(n,r,l),ke=c;break;default:Dr(n,r,l)}}function Iv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Go(n)}catch(l){Wt(r,r.return,l)}}}function Mv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Go(n)}catch(l){Wt(r,r.return,l)}}function Fx(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new wv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new wv),r;default:throw Error(i(435,n.tag))}}function vf(n,r){var l=Fx(n);r.forEach(function(c){if(!l.has(c)){l.add(c);var g=Zx.bind(null,n,c);c.then(g,g)}})}function An(n,r){var l=r.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],_=n,C=r,U=C;t:for(;U!==null;){switch(U.tag){case 27:if(Ss(U.type)){fe=U.stateNode,Sn=!1;break t}break;case 5:fe=U.stateNode,Sn=!1;break t;case 3:case 4:fe=U.stateNode.containerInfo,Sn=!0;break t}U=U.return}if(fe===null)throw Error(i(160));Cv(_,C,g),fe=null,Sn=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Dv(r,n),r=r.sibling}var Ai=null;function Dv(n,r){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(r,n),xn(n),c&4&&(ps(3,n,n.return),cu(3,n),ps(5,n,n.return));break;case 1:An(r,n),xn(n),c&512&&(ke||l===null||Ji(l,l.return)),c&64&&Mr&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=Ai;if(An(r,n),xn(n),c&512&&(ke||l===null||Ji(l,l.return)),c&4){var _=l!==null?l.memoizedState:null;if(c=n.memoizedState,l===null)if(c===null)if(n.stateNode===null){t:{c=n.type,l=n.memoizedProps,g=g.ownerDocument||g;e:switch(c){case"title":_=g.getElementsByTagName("title")[0],(!_||_[Ui]||_[Me]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(c),g.head.insertBefore(_,g.querySelector("head > title"))),rn(_,c,l),_[Me]=n,De(_),c=_;break t;case"link":var C=D0("link","href",g).get(c+(l.href||""));if(C){for(var U=0;U<C.length;U++)if(_=C[U],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(U,1);break e}}_=g.createElement(c),rn(_,c,l),g.head.appendChild(_);break;case"meta":if(C=D0("meta","content",g).get(c+(l.content||""))){for(U=0;U<C.length;U++)if(_=C[U],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(U,1);break e}}_=g.createElement(c),rn(_,c,l),g.head.appendChild(_);break;default:throw Error(i(468,c))}_[Me]=n,De(_),c=_}n.stateNode=c}else O0(g,n.type,n.stateNode);else n.stateNode=M0(g,c,n.memoizedProps);else _!==c?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,c===null?O0(g,n.type,n.stateNode):M0(g,c,n.memoizedProps)):c===null&&n.stateNode!==null&&_m(n,n.memoizedProps,l.memoizedProps)}break;case 27:An(r,n),xn(n),c&512&&(ke||l===null||Ji(l,l.return)),l!==null&&c&4&&_m(n,n.memoizedProps,l.memoizedProps);break;case 5:if(An(r,n),xn(n),c&512&&(ke||l===null||Ji(l,l.return)),n.flags&32){g=n.stateNode;try{En(g,"")}catch(_t){Wt(n,n.return,_t)}}c&4&&n.stateNode!=null&&(g=n.memoizedProps,_m(n,g,l!==null?l.memoizedProps:g)),c&1024&&(Em=!0);break;case 6:if(An(r,n),xn(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,l=n.stateNode;try{l.nodeValue=c}catch(_t){Wt(n,n.return,_t)}}break;case 3:if(Vf=null,g=Ai,Ai=Nf(r.containerInfo),An(r,n),Ai=g,xn(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Go(r.containerInfo)}catch(_t){Wt(n,n.return,_t)}Em&&(Em=!1,Ov(n));break;case 4:c=Ai,Ai=Nf(n.stateNode.containerInfo),An(r,n),xn(n),Ai=c;break;case 12:An(r,n),xn(n);break;case 31:An(r,n),xn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,vf(n,c)));break;case 13:An(r,n),xn(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ef=Ge()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,vf(n,c)));break;case 22:g=n.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,Z=Mr,rt=ke;if(Mr=Z||g,ke=rt||H,An(r,n),ke=rt,Mr=Z,xn(n),c&8192)t:for(r=n.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||H||Mr||ke||Na(n)),l=null,r=n;;){if(r.tag===5||r.tag===26){if(l===null){H=l=r;try{if(_=H.stateNode,g)C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{U=H.stateNode;var at=H.memoizedProps.style,J=at!=null&&at.hasOwnProperty("display")?at.display:null;U.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(_t){Wt(H,H.return,_t)}}}else if(r.tag===6){if(l===null){H=r;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(_t){Wt(H,H.return,_t)}}}else if(r.tag===18){if(l===null){H=r;try{var et=H.stateNode;g?E0(et,!0):E0(H.stateNode,!1)}catch(_t){Wt(H,H.return,_t)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=n.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,vf(n,l))));break;case 19:An(r,n),xn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,vf(n,c)));break;case 30:break;case 21:break;default:An(r,n),xn(n)}}function xn(n){var r=n.flags;if(r&2){try{for(var l,c=n.return;c!==null;){if(Av(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,_=vm(n);_f(n,_,g);break;case 5:var C=l.stateNode;l.flags&32&&(En(C,""),l.flags&=-33);var U=vm(n);_f(n,U,C);break;case 3:case 4:var H=l.stateNode.containerInfo,Z=vm(n);Tm(n,Z,H);break;default:throw Error(i(161))}}catch(rt){Wt(n,n.return,rt)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Ov(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Ov(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Or(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)bv(n,r.alternate,r),r=r.sibling}function Na(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ps(4,r,r.return),Na(r);break;case 1:Ji(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Ev(r,r.return,l),Na(r);break;case 27:Tu(r.stateNode);case 26:case 5:Ji(r,r.return),Na(r);break;case 22:r.memoizedState===null&&Na(r);break;case 30:Na(r);break;default:Na(r)}n=n.sibling}}function Nr(n,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,g=n,_=r,C=_.flags;switch(_.tag){case 0:case 11:case 15:Nr(g,_,l),cu(4,_);break;case 1:if(Nr(g,_,l),c=_,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Z){Wt(c,c.return,Z)}if(c=_,g=c.updateQueue,g!==null){var U=c.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)u_(H[g],U)}catch(Z){Wt(c,c.return,Z)}}l&&C&64&&Tv(_),fu(_,_.return);break;case 27:xv(_);case 26:case 5:Nr(g,_,l),l&&c===null&&C&4&&Sv(_),fu(_,_.return);break;case 12:Nr(g,_,l);break;case 31:Nr(g,_,l),l&&C&4&&Iv(g,_);break;case 13:Nr(g,_,l),l&&C&4&&Mv(g,_);break;case 22:_.memoizedState===null&&Nr(g,_,l),fu(_,_.return);break;case 30:break;default:Nr(g,_,l)}r=r.sibling}}function Sm(n,r){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Zl(l))}function Am(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Zl(n))}function xi(n,r,l,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Nv(n,r,l,c),r=r.sibling}function Nv(n,r,l,c){var g=r.flags;switch(r.tag){case 0:case 11:case 15:xi(n,r,l,c),g&2048&&cu(9,r);break;case 1:xi(n,r,l,c);break;case 3:xi(n,r,l,c),g&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Zl(n)));break;case 12:if(g&2048){xi(n,r,l,c),n=r.stateNode;try{var _=r.memoizedProps,C=_.id,U=_.onPostCommit;typeof U=="function"&&U(C,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(H){Wt(r,r.return,H)}}else xi(n,r,l,c);break;case 31:xi(n,r,l,c);break;case 13:xi(n,r,l,c);break;case 23:break;case 22:_=r.stateNode,C=r.alternate,r.memoizedState!==null?_._visibility&2?xi(n,r,l,c):hu(n,r):_._visibility&2?xi(n,r,l,c):(_._visibility|=2,Po(n,r,l,c,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Sm(C,r);break;case 24:xi(n,r,l,c),g&2048&&Am(r.alternate,r);break;default:xi(n,r,l,c)}}function Po(n,r,l,c,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var _=n,C=r,U=l,H=c,Z=C.flags;switch(C.tag){case 0:case 11:case 15:Po(_,C,U,H,g),cu(8,C);break;case 23:break;case 22:var rt=C.stateNode;C.memoizedState!==null?rt._visibility&2?Po(_,C,U,H,g):hu(_,C):(rt._visibility|=2,Po(_,C,U,H,g)),g&&Z&2048&&Sm(C.alternate,C);break;case 24:Po(_,C,U,H,g),g&&Z&2048&&Am(C.alternate,C);break;default:Po(_,C,U,H,g)}r=r.sibling}}function hu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=n,c=r,g=c.flags;switch(c.tag){case 22:hu(l,c),g&2048&&Sm(c.alternate,c);break;case 24:hu(l,c),g&2048&&Am(c.alternate,c);break;default:hu(l,c)}r=r.sibling}}var du=8192;function Vo(n,r,l){if(n.subtreeFlags&du)for(n=n.child;n!==null;)Pv(n,r,l),n=n.sibling}function Pv(n,r,l){switch(n.tag){case 26:Vo(n,r,l),n.flags&du&&n.memoizedState!==null&&Cw(l,Ai,n.memoizedState,n.memoizedProps);break;case 5:Vo(n,r,l);break;case 3:case 4:var c=Ai;Ai=Nf(n.stateNode.containerInfo),Vo(n,r,l),Ai=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=du,du=16777216,Vo(n,r,l),du=c):Vo(n,r,l));break;default:Vo(n,r,l)}}function Vv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function mu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];Ke=c,Lv(c,n)}Vv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kv(n),n=n.sibling}function kv(n){switch(n.tag){case 0:case 11:case 15:mu(n),n.flags&2048&&ps(9,n,n.return);break;case 3:mu(n);break;case 12:mu(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Tf(n)):mu(n);break;default:mu(n)}}function Tf(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];Ke=c,Lv(c,n)}Vv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ps(8,r,r.return),Tf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Tf(r));break;default:Tf(r)}n=n.sibling}}function Lv(n,r){for(;Ke!==null;){var l=Ke;switch(l.tag){case 0:case 11:case 15:ps(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Zl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Ke=c;else t:for(l=n;Ke!==null;){c=Ke;var g=c.sibling,_=c.return;if(Rv(c),c===l){Ke=null;break t}if(g!==null){g.return=_,Ke=g;break t}Ke=_}}}var Hx={getCacheForType:function(n){var r=en(Ne),l=r.data.get(n);return l===void 0&&(l=n(),r.data.set(n,l)),l},cacheSignal:function(){return en(Ne).controller.signal}},qx=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,Nt=null,kt=0,Jt=0,zn=null,gs=!1,ko=!1,xm=!1,Pr=0,ve=0,ys=0,Pa=0,wm=0,Bn=0,Lo=0,pu=null,wn=null,bm=!1,Ef=0,Uv=0,Sf=1/0,Af=null,_s=null,je=0,vs=null,Uo=null,Vr=0,Rm=0,Cm=null,zv=null,gu=0,Im=null;function jn(){return(Kt&2)!==0&&kt!==0?kt&-kt:G.T!==null?Vm():Ac()}function Bv(){if(Bn===0)if((kt&536870912)===0||zt){var n=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),Bn=n}else Bn=536870912;return n=Ln.current,n!==null&&(n.flags|=32),Bn}function bn(n,r,l){(n===re&&(Jt===2||Jt===9)||n.cancelPendingCommit!==null)&&(zo(n,0),Ts(n,kt,Bn,!1)),la(n,l),((Kt&2)===0||n!==re)&&(n===re&&((Kt&2)===0&&(Pa|=l),ve===4&&Ts(n,kt,Bn,!1)),Wi(n))}function jv(n,r,l){if((Kt&6)!==0)throw Error(i(327));var c=!l&&(r&127)===0&&(r&n.expiredLanes)===0||mi(n,r),g=c?Qx(n,r):Dm(n,r,!0),_=c;do{if(g===0){ko&&!c&&Ts(n,r,0,!1);break}else{if(l=n.current.alternate,_&&!Gx(l)){g=Dm(n,r,!1),_=!1;continue}if(g===2){if(_=r,n.errorRecoveryDisabledLanes&_)var C=0;else C=n.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;t:{var U=n;g=pu;var H=U.current.memoizedState.isDehydrated;if(H&&(zo(U,C).flags|=256),C=Dm(U,C,!1),C!==2){if(xm&&!H){U.errorRecoveryDisabledLanes|=_,Pa|=_,g=4;break t}_=wn,wn=g,_!==null&&(wn===null?wn=_:wn.push.apply(wn,_))}g=C}if(_=!1,g!==2)continue}}if(g===1){zo(n,0),Ts(n,r,0,!0);break}t:{switch(c=n,_=g,_){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ts(c,r,Bn,!gs);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=Ef+300-Ge(),10<g)){if(Ts(c,r,Bn,!gs),Vi(c,0,!0)!==0)break t;Vr=r,c.timeoutHandle=_0(Fv.bind(null,c,l,wn,Af,bm,r,Bn,Pa,Lo,gs,_,"Throttled",-0,0),g);break t}Fv(c,l,wn,Af,bm,r,Bn,Pa,Lo,gs,_,null,-0,0)}}break}while(!0);Wi(n)}function Fv(n,r,l,c,g,_,C,U,H,Z,rt,at,J,et){if(n.timeoutHandle=-1,at=r.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yi},Pv(r,_,at);var _t=(_&62914560)===_?Ef-Ge():(_&4194048)===_?Uv-Ge():0;if(_t=Iw(at,_t),_t!==null){Vr=_,n.cancelPendingCommit=_t($v.bind(null,n,r,_,l,c,g,C,U,H,rt,at,null,J,et)),Ts(n,_,C,!Z);return}}$v(n,r,_,l,c,g,C,U,H)}function Gx(n){for(var r=n;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],_=g.getSnapshot;g=g.value;try{if(!Vn(_(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ts(n,r,l,c){r&=~wm,r&=~Pa,n.suspendedLanes|=r,n.pingedLanes&=~r,c&&(n.warmLanes|=r),c=n.expirationTimes;for(var g=r;0<g;){var _=31-Se(g),C=1<<_;c[_]=-1,g&=~C}l!==0&&ua(n,l,r)}function xf(){return(Kt&6)===0?(yu(0),!1):!0}function Mm(){if(Nt!==null){if(Jt===0)var n=Nt.return;else n=Nt,xr=wa=null,Yd(n),Io=null,Wl=0,n=Nt;for(;n!==null;)vv(n.alternate,n),n=n.return;Nt=null}}function zo(n,r){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,fw(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Vr=0,Mm(),re=n,Nt=l=Sr(n.current,null),kt=r,Jt=0,zn=null,gs=!1,ko=mi(n,r),xm=!1,Lo=Bn=wm=Pa=ys=ve=0,wn=pu=null,bm=!1,(r&8)!==0&&(r|=r&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=r;0<c;){var g=31-Se(c),_=1<<g;r|=n[g],c&=~_}return Pr=r,qc(),l}function Hv(n,r){Dt=null,G.H=ou,r===Co||r===Jc?(r=s_(),Jt=3):r===Pd?(r=s_(),Jt=4):Jt=r===lm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zn=r,Nt===null&&(ve=1,df(n,ii(r,n.current)))}function qv(){var n=Ln.current;return n===null?!0:(kt&4194048)===kt?oi===null:(kt&62914560)===kt||(kt&536870912)!==0?n===oi:!1}function Gv(){var n=G.H;return G.H=ou,n===null?ou:n}function Yv(){var n=G.A;return G.A=Hx,n}function wf(){ve=4,gs||(kt&4194048)!==kt&&Ln.current!==null||(ko=!0),(ys&134217727)===0&&(Pa&134217727)===0||re===null||Ts(re,kt,Bn,!1)}function Dm(n,r,l){var c=Kt;Kt|=2;var g=Gv(),_=Yv();(re!==n||kt!==r)&&(Af=null,zo(n,r)),r=!1;var C=ve;t:do try{if(Jt!==0&&Nt!==null){var U=Nt,H=zn;switch(Jt){case 8:Mm(),C=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var Z=Jt;if(Jt=0,zn=null,Bo(n,U,H,Z),l&&ko){C=0;break t}break;default:Z=Jt,Jt=0,zn=null,Bo(n,U,H,Z)}}Yx(),C=ve;break}catch(rt){Hv(n,rt)}while(!0);return r&&n.shellSuspendCounter++,xr=wa=null,Kt=c,G.H=g,G.A=_,Nt===null&&(re=null,kt=0,qc()),C}function Yx(){for(;Nt!==null;)Qv(Nt)}function Qx(n,r){var l=Kt;Kt|=2;var c=Gv(),g=Yv();re!==n||kt!==r?(Af=null,Sf=Ge()+500,zo(n,r)):ko=mi(n,r);t:do try{if(Jt!==0&&Nt!==null){r=Nt;var _=zn;e:switch(Jt){case 1:Jt=0,zn=null,Bo(n,r,_,1);break;case 2:case 9:if(i_(_)){Jt=0,zn=null,Kv(r);break}r=function(){Jt!==2&&Jt!==9||re!==n||(Jt=7),Wi(n)},_.then(r,r);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:i_(_)?(Jt=0,zn=null,Kv(r)):(Jt=0,zn=null,Bo(n,r,_,7));break;case 5:var C=null;switch(Nt.tag){case 26:C=Nt.memoizedState;case 5:case 27:var U=Nt;if(C?N0(C):U.stateNode.complete){Jt=0,zn=null;var H=U.sibling;if(H!==null)Nt=H;else{var Z=U.return;Z!==null?(Nt=Z,bf(Z)):Nt=null}break e}}Jt=0,zn=null,Bo(n,r,_,5);break;case 6:Jt=0,zn=null,Bo(n,r,_,6);break;case 8:Mm(),ve=6;break t;default:throw Error(i(462))}}Kx();break}catch(rt){Hv(n,rt)}while(!0);return xr=wa=null,G.H=c,G.A=g,Kt=l,Nt!==null?0:(re=null,kt=0,qc(),ve)}function Kx(){for(;Nt!==null&&!io();)Qv(Nt)}function Qv(n){var r=yv(n.alternate,n,Pr);n.memoizedProps=n.pendingProps,r===null?bf(n):Nt=r}function Kv(n){var r=n,l=r.alternate;switch(r.tag){case 15:case 0:r=fv(l,r,r.pendingProps,r.type,void 0,kt);break;case 11:r=fv(l,r,r.pendingProps,r.type.render,r.ref,kt);break;case 5:Yd(r);default:vv(l,r),r=Nt=Yy(r,Pr),r=yv(l,r,Pr)}n.memoizedProps=n.pendingProps,r===null?bf(n):Nt=r}function Bo(n,r,l,c){xr=wa=null,Yd(r),Io=null,Wl=0;var g=r.return;try{if(kx(n,g,r,l,kt)){ve=1,df(n,ii(l,n.current)),Nt=null;return}}catch(_){if(g!==null)throw Nt=g,_;ve=1,df(n,ii(l,n.current)),Nt=null;return}r.flags&32768?(zt||c===1?n=!0:ko||(kt&536870912)!==0?n=!1:(gs=n=!0,(c===2||c===9||c===3||c===6)&&(c=Ln.current,c!==null&&c.tag===13&&(c.flags|=16384))),Xv(r,n)):bf(r)}function bf(n){var r=n;do{if((r.flags&32768)!==0){Xv(r,gs);return}n=r.return;var l=zx(r.alternate,r,Pr);if(l!==null){Nt=l;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=n}while(r!==null);ve===0&&(ve=5)}function Xv(n,r){do{var l=Bx(n.alternate,n);if(l!==null){l.flags&=32767,Nt=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(n=n.sibling,n!==null)){Nt=n;return}Nt=n=l}while(n!==null);ve=6,Nt=null}function $v(n,r,l,c,g,_,C,U,H){n.cancelPendingCommit=null;do Rf();while(je!==0);if((Kt&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(_=r.lanes|r.childLanes,_|=vd,cd(n,l,_,C,U,H),n===re&&(Nt=re=null,kt=0),Uo=r,vs=n,Vr=l,Rm=_,Cm=g,zv=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Jx(Oi,function(){return e0(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,g=X.p,X.p=2,C=Kt,Kt|=4;try{jx(n,r,l)}finally{Kt=C,X.p=g,G.T=c}}je=1,Zv(),Jv(),Wv()}}function Zv(){if(je===1){je=0;var n=vs,r=Uo,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var c=X.p;X.p=2;var g=Kt;Kt|=4;try{Dv(r,n);var _=Hm,C=Ly(n.containerInfo),U=_.focusedElem,H=_.selectionRange;if(C!==U&&U&&U.ownerDocument&&ky(U.ownerDocument.documentElement,U)){if(H!==null&&md(U)){var Z=H.start,rt=H.end;if(rt===void 0&&(rt=Z),"selectionStart"in U)U.selectionStart=Z,U.selectionEnd=Math.min(rt,U.value.length);else{var at=U.ownerDocument||document,J=at&&at.defaultView||window;if(J.getSelection){var et=J.getSelection(),_t=U.textContent.length,xt=Math.min(H.start,_t),ie=H.end===void 0?xt:Math.min(H.end,_t);!et.extend&&xt>ie&&(C=ie,ie=xt,xt=C);var Q=Vy(U,xt),Y=Vy(U,ie);if(Q&&Y&&(et.rangeCount!==1||et.anchorNode!==Q.node||et.anchorOffset!==Q.offset||et.focusNode!==Y.node||et.focusOffset!==Y.offset)){var $=at.createRange();$.setStart(Q.node,Q.offset),et.removeAllRanges(),xt>ie?(et.addRange($),et.extend(Y.node,Y.offset)):($.setEnd(Y.node,Y.offset),et.addRange($))}}}}for(at=[],et=U;et=et.parentNode;)et.nodeType===1&&at.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<at.length;U++){var st=at[U];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}zf=!!Fm,Hm=Fm=null}finally{Kt=g,X.p=c,G.T=l}}n.current=r,je=2}}function Jv(){if(je===2){je=0;var n=vs,r=Uo,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var c=X.p;X.p=2;var g=Kt;Kt|=4;try{bv(n,r.alternate,r)}finally{Kt=g,X.p=c,G.T=l}}je=3}}function Wv(){if(je===4||je===3){je=0,sa();var n=vs,r=Uo,l=Vr,c=zv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?je=5:(je=0,Uo=vs=null,t0(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(_s=null),_r(l),r=r.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(di,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=G.T,g=X.p,X.p=2,G.T=null;try{for(var _=n.onRecoverableError,C=0;C<c.length;C++){var U=c[C];_(U.value,{componentStack:U.stack})}}finally{G.T=r,X.p=g}}(Vr&3)!==0&&Rf(),Wi(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===Im?gu++:(gu=0,Im=n):gu=0,yu(0)}}function t0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Zl(r)))}function Rf(){return Zv(),Jv(),Wv(),e0()}function e0(){if(je!==5)return!1;var n=vs,r=Rm;Rm=0;var l=_r(Vr),c=G.T,g=X.p;try{X.p=32>l?32:l,G.T=null,l=Cm,Cm=null;var _=vs,C=Vr;if(je=0,Uo=vs=null,Vr=0,(Kt&6)!==0)throw Error(i(331));var U=Kt;if(Kt|=4,kv(_.current),Nv(_,_.current,C,l),Kt=U,yu(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(di,_)}catch{}return!0}finally{X.p=g,G.T=c,t0(n,r)}}function n0(n,r,l){r=ii(l,r),r=om(n.stateNode,r,2),n=hs(n,r,2),n!==null&&(la(n,2),Wi(n))}function Wt(n,r,l){if(n.tag===3)n0(n,n,l);else for(;r!==null;){if(r.tag===3){n0(r,n,l);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_s===null||!_s.has(c))){n=ii(l,n),l=iv(2),c=hs(r,l,2),c!==null&&(rv(l,c,r,n),la(c,2),Wi(c));break}}r=r.return}}function Om(n,r,l){var c=n.pingCache;if(c===null){c=n.pingCache=new qx;var g=new Set;c.set(r,g)}else g=c.get(r),g===void 0&&(g=new Set,c.set(r,g));g.has(l)||(xm=!0,g.add(l),n=Xx.bind(null,n,r,l),r.then(n,n))}function Xx(n,r,l){var c=n.pingCache;c!==null&&c.delete(r),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,re===n&&(kt&l)===l&&(ve===4||ve===3&&(kt&62914560)===kt&&300>Ge()-Ef?(Kt&2)===0&&zo(n,0):wm|=l,Lo===kt&&(Lo=0)),Wi(n)}function i0(n,r){r===0&&(r=Sc()),n=Sa(n,r),n!==null&&(la(n,r),Wi(n))}function $x(n){var r=n.memoizedState,l=0;r!==null&&(l=r.retryLane),i0(n,l)}function Zx(n,r){var l=0;switch(n.tag){case 31:case 13:var c=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),i0(n,l)}function Jx(n,r){return ye(n,r)}var Cf=null,jo=null,Nm=!1,If=!1,Pm=!1,Es=0;function Wi(n){n!==jo&&n.next===null&&(jo===null?Cf=jo=n:jo=jo.next=n),If=!0,Nm||(Nm=!0,tw())}function yu(n,r){if(!Pm&&If){Pm=!0;do for(var l=!1,c=Cf;c!==null;){if(n!==0){var g=c.pendingLanes;if(g===0)var _=0;else{var C=c.suspendedLanes,U=c.pingedLanes;_=(1<<31-Se(42|n)+1)-1,_&=g&~(C&~U),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,o0(c,_))}else _=kt,_=Vi(c,c===re?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||mi(c,_)||(l=!0,o0(c,_));c=c.next}while(l);Pm=!1}}function Wx(){r0()}function r0(){If=Nm=!1;var n=0;Es!==0&&cw()&&(n=Es);for(var r=Ge(),l=null,c=Cf;c!==null;){var g=c.next,_=s0(c,r);_===0?(c.next=null,l===null?Cf=g:l.next=g,g===null&&(jo=l)):(l=c,(n!==0||(_&3)!==0)&&(If=!0)),c=g}je!==0&&je!==5||yu(n),Es!==0&&(Es=0)}function s0(n,r){for(var l=n.suspendedLanes,c=n.pingedLanes,g=n.expirationTimes,_=n.pendingLanes&-62914561;0<_;){var C=31-Se(_),U=1<<C,H=g[C];H===-1?((U&l)===0||(U&c)!==0)&&(g[C]=ud(U,r)):H<=r&&(n.expiredLanes|=U),_&=~U}if(r=re,l=kt,l=Vi(n,n===r?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,l===0||n===r&&(Jt===2||Jt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&$n(c),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||mi(n,l)){if(r=l&-l,r===n.callbackPriority)return r;switch(c!==null&&$n(c),_r(l)){case 2:case 8:l=aa;break;case 32:l=Oi;break;case 268435456:l=yr;break;default:l=Oi}return c=a0.bind(null,n),l=ye(l,c),n.callbackPriority=r,n.callbackNode=l,r}return c!==null&&c!==null&&$n(c),n.callbackPriority=2,n.callbackNode=null,2}function a0(n,r){if(je!==0&&je!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Rf()&&n.callbackNode!==l)return null;var c=kt;return c=Vi(n,n===re?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(jv(n,c,r),s0(n,Ge()),n.callbackNode!=null&&n.callbackNode===l?a0.bind(null,n):null)}function o0(n,r){if(Rf())return null;jv(n,r,!0)}function tw(){hw(function(){(Kt&6)!==0?ye(Di,Wx):r0()})}function Vm(){if(Es===0){var n=bo;n===0&&(n=Ni,Ni<<=1,(Ni&261888)===0&&(Ni=256)),Es=n}return Es}function l0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:co(""+n)}function u0(n,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,n.id&&l.setAttribute("form",n.id),r.parentNode.insertBefore(l,r),n=new FormData(n),l.parentNode.removeChild(l),n}function ew(n,r,l,c,g){if(r==="submit"&&l&&l.stateNode===g){var _=l0((g[Ye]||null).action),C=c.submitter;C&&(r=(r=C[Ye]||null)?l0(r.formAction):C.getAttribute("formAction"),r!==null&&(_=r,C=null));var U=new Yi("action","action",null,c,g);n.push({event:U,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Es!==0){var H=C?u0(g,C):new FormData(g);em(l,{pending:!0,data:H,method:g.method,action:_},null,H)}}else typeof _=="function"&&(U.preventDefault(),H=C?u0(g,C):new FormData(g),em(l,{pending:!0,data:H,method:g.method,action:_},_,H))},currentTarget:g}]})}}for(var km=0;km<_d.length;km++){var Lm=_d[km],nw=Lm.toLowerCase(),iw=Lm[0].toUpperCase()+Lm.slice(1);Si(nw,"on"+iw)}Si(By,"onAnimationEnd"),Si(jy,"onAnimationIteration"),Si(Fy,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(vx,"onTransitionRun"),Si(Tx,"onTransitionStart"),Si(Ex,"onTransitionCancel"),Si(Hy,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_u));function c0(n,r){r=(r&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],g=c.event;c=c.listeners;t:{var _=void 0;if(r)for(var C=c.length-1;0<=C;C--){var U=c[C],H=U.instance,Z=U.currentTarget;if(U=U.listener,H!==_&&g.isPropagationStopped())break t;_=U,g.currentTarget=Z;try{_(g)}catch(rt){Hc(rt)}g.currentTarget=null,_=H}else for(C=0;C<c.length;C++){if(U=c[C],H=U.instance,Z=U.currentTarget,U=U.listener,H!==_&&g.isPropagationStopped())break t;_=U,g.currentTarget=Z;try{_(g)}catch(rt){Hc(rt)}g.currentTarget=null,_=H}}}}function Pt(n,r){var l=r[so];l===void 0&&(l=r[so]=new Set);var c=n+"__bubble";l.has(c)||(f0(r,n,2,!1),l.add(c))}function Um(n,r,l){var c=0;r&&(c|=4),f0(l,n,c,r)}var Mf="_reactListening"+Math.random().toString(36).slice(2);function zm(n){if(!n[Mf]){n[Mf]=!0,Ml.forEach(function(l){l!=="selectionchange"&&(rw.has(l)||Um(l,!1,n),Um(l,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Mf]||(r[Mf]=!0,Um("selectionchange",!1,r))}}function f0(n,r,l,c){switch(B0(r)){case 2:var g=Ow;break;case 8:g=Nw;break;default:g=tp}l=g.bind(null,r,l,n),g=void 0,!ma||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),c?g!==void 0?n.addEventListener(r,l,{capture:!0,passive:g}):n.addEventListener(r,l,!0):g!==void 0?n.addEventListener(r,l,{passive:g}):n.addEventListener(r,l,!1)}function Bm(n,r,l,c,g){var _=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var U=c.stateNode.containerInfo;if(U===g)break;if(C===4)for(C=c.return;C!==null;){var H=C.tag;if((H===3||H===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;U!==null;){if(C=zi(U),C===null)return;if(H=C.tag,H===5||H===6||H===26||H===27){c=_=C;continue t}U=U.parentNode}}c=c.return}ns(function(){var Z=_,rt=Wn(l),at=[];t:{var J=qy.get(n);if(J!==void 0){var et=Yi,_t=n;switch(n){case"keypress":if(ga(l)===0)break t;case"keydown":case"keyup":et=Bc;break;case"focusin":_t="focus",et=_a;break;case"focusout":_t="blur",et=_a;break;case"beforeblur":case"afterblur":et=_a;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=w;break;case By:case jy:case Fy:et=Nc;break;case Hy:et=j;break;case"scroll":case"scrollend":et=Fl;break;case"wheel":et=W;break;case"copy":case"cut":case"paste":et=Pc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Er;break;case"toggle":case"beforetoggle":et=Mt}var xt=(r&4)!==0,ie=!xt&&(n==="scroll"||n==="scrollend"),Q=xt?J!==null?J+"Capture":null:J;xt=[];for(var Y=Z,$;Y!==null;){var st=Y;if($=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||$===null||Q===null||(st=_i(Y,Q),st!=null&&xt.push(vu(Y,st,$))),ie)break;Y=Y.return}0<xt.length&&(J=new et(J,_t,null,l,rt),at.push({event:J,listeners:xt}))}}if((r&7)===0){t:{if(J=n==="mouseover"||n==="pointerover",et=n==="mouseout"||n==="pointerout",J&&l!==zl&&(_t=l.relatedTarget||l.fromElement)&&(zi(_t)||_t[Li]))break t;if((et||J)&&(J=rt.window===rt?rt:(J=rt.ownerDocument)?J.defaultView||J.parentWindow:window,et?(_t=l.relatedTarget||l.toElement,et=Z,_t=_t?zi(_t):null,_t!==null&&(ie=o(_t),xt=_t.tag,_t!==ie||xt!==5&&xt!==27&&xt!==6)&&(_t=null)):(et=null,_t=Z),et!==_t)){if(xt=Hl,st="onMouseLeave",Q="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(xt=Er,st="onPointerLeave",Q="onPointerEnter",Y="pointer"),ie=et==null?J:Nn(et),$=_t==null?J:Nn(_t),J=new xt(st,Y+"leave",et,l,rt),J.target=ie,J.relatedTarget=$,st=null,zi(rt)===Z&&(xt=new xt(Q,Y+"enter",_t,l,rt),xt.target=$,xt.relatedTarget=ie,st=xt),ie=st,et&&_t)e:{for(xt=sw,Q=et,Y=_t,$=0,st=Q;st;st=xt(st))$++;st=0;for(var St=Y;St;St=xt(St))st++;for(;0<$-st;)Q=xt(Q),$--;for(;0<st-$;)Y=xt(Y),st--;for(;$--;){if(Q===Y||Y!==null&&Q===Y.alternate){xt=Q;break e}Q=xt(Q),Y=xt(Y)}xt=null}else xt=null;et!==null&&h0(at,J,et,xt,!1),_t!==null&&ie!==null&&h0(at,ie,_t,xt,!0)}}t:{if(J=Z?Nn(Z):window,et=J.nodeName&&J.nodeName.toLowerCase(),et==="select"||et==="input"&&J.type==="file")var Gt=Iy;else if(Ry(J))if(My)Gt=gx;else{Gt=mx;var vt=dx}else et=J.nodeName,!et||et.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&uo(Z.elementType)&&(Gt=Iy):Gt=px;if(Gt&&(Gt=Gt(n,Z))){Cy(at,Gt,l,rt);break t}vt&&vt(n,J,Z),n==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&kl(J,"number",J.value)}switch(vt=Z?Nn(Z):window,n){case"focusin":(Ry(vt)||vt.contentEditable==="true")&&(_o=vt,pd=Z,Kl=null);break;case"focusout":Kl=pd=_o=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,Uy(at,l,rt);break;case"selectionchange":if(_x)break;case"keydown":case"keyup":Uy(at,l,rt)}var Ot;if(Qt)t:{switch(n){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else yo?va(n,l)&&(Lt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Lt="onCompositionStart");Lt&&(Xi&&l.locale!=="ko"&&(yo||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&yo&&(Ot=jl()):(Gi=rt,Bl="value"in Gi?Gi.value:Gi.textContent,yo=!0)),vt=Df(Z,Lt),0<vt.length&&(Lt=new Ki(Lt,n,null,l,rt),at.push({event:Lt,listeners:vt}),Ot?Lt.data=Ot:(Ot=go(l),Ot!==null&&(Lt.data=Ot)))),(Ot=ei?ux(n,l):cx(n,l))&&(Lt=Df(Z,"onBeforeInput"),0<Lt.length&&(vt=new Ki("onBeforeInput","beforeinput",null,l,rt),at.push({event:vt,listeners:Lt}),vt.data=Ot)),ew(at,n,Z,l,rt)}c0(at,r)})}function vu(n,r,l){return{instance:n,listener:r,currentTarget:l}}function Df(n,r){for(var l=r+"Capture",c=[];n!==null;){var g=n,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=_i(n,l),g!=null&&c.unshift(vu(n,g,_)),g=_i(n,r),g!=null&&c.push(vu(n,g,_))),n.tag===3)return c;n=n.return}return[]}function sw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function h0(n,r,l,c,g){for(var _=r._reactName,C=[];l!==null&&l!==c;){var U=l,H=U.alternate,Z=U.stateNode;if(U=U.tag,H!==null&&H===c)break;U!==5&&U!==26&&U!==27||Z===null||(H=Z,g?(Z=_i(l,_),Z!=null&&C.unshift(vu(l,Z,H))):g||(Z=_i(l,_),Z!=null&&C.push(vu(l,Z,H)))),l=l.return}C.length!==0&&n.push({event:r,listeners:C})}var aw=/\r\n?/g,ow=/\u0000|\uFFFD/g;function d0(n){return(typeof n=="string"?n:""+n).replace(aw,`
`).replace(ow,"")}function m0(n,r){return r=d0(r),d0(n)===r}function ne(n,r,l,c,g,_){switch(l){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||En(n,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&En(n,""+c);break;case"className":Pn(n,"class",c);break;case"tabIndex":Pn(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(n,l,c);break;case"style":Ul(n,c,_);break;case"data":if(r!=="object"){Pn(n,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||l!=="href")){n.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=co(""+c),n.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(r!=="input"&&ne(n,r,"name",g.name,g,null),ne(n,r,"formEncType",g.formEncType,g,null),ne(n,r,"formMethod",g.formMethod,g,null),ne(n,r,"formTarget",g.formTarget,g,null)):(ne(n,r,"encType",g.encType,g,null),ne(n,r,"method",g.method,g,null),ne(n,r,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=co(""+c),n.setAttribute(l,c);break;case"onClick":c!=null&&(n.onclick=yi);break;case"onScroll":c!=null&&Pt("scroll",n);break;case"onScrollEnd":c!=null&&Pt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}l=co(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""+c):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":c===!0?n.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,c):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(l,c):n.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(l):n.setAttribute(l,c);break;case"popover":Pt("beforetoggle",n),Pt("toggle",n),oo(n,"popover",c);break;case"xlinkActuate":Oe(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Oe(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Oe(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Oe(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Oe(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Oe(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Oe(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Oe(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Oe(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":oo(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Mc.get(l)||l,oo(n,l,c))}}function jm(n,r,l,c,g,_){switch(l){case"style":Ul(n,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof c=="string"?En(n,c):(typeof c=="number"||typeof c=="bigint")&&En(n,""+c);break;case"onScroll":c!=null&&Pt("scroll",n);break;case"onScrollEnd":c!=null&&Pt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),_=n[Ye]||null,_=_!=null?_[l]:null,typeof _=="function"&&n.removeEventListener(r,_,g),typeof c=="function")){typeof _!="function"&&_!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(r,c,g);break t}l in n?n[l]=c:c===!0?n.setAttribute(l,""):oo(n,l,c)}}}function rn(n,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",n),Pt("load",n);var c=!1,g=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var C=l[_];if(C!=null)switch(_){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ne(n,r,_,C,l,null)}}g&&ne(n,r,"srcSet",l.srcSet,l,null),c&&ne(n,r,"src",l.src,l,null);return;case"input":Pt("invalid",n);var U=_=C=g=null,H=null,Z=null;for(c in l)if(l.hasOwnProperty(c)){var rt=l[c];if(rt!=null)switch(c){case"name":g=rt;break;case"type":C=rt;break;case"checked":H=rt;break;case"defaultChecked":Z=rt;break;case"value":_=rt;break;case"defaultValue":U=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,r));break;default:ne(n,r,c,rt,l,null)}}Rc(n,_,U,H,Z,C,g,!1);return;case"select":Pt("invalid",n),c=C=_=null;for(g in l)if(l.hasOwnProperty(g)&&(U=l[g],U!=null))switch(g){case"value":_=U;break;case"defaultValue":C=U;break;case"multiple":c=U;default:ne(n,r,g,U,l,null)}r=_,l=C,n.multiple=!!c,r!=null?Jr(n,!!c,r,!1):l!=null&&Jr(n,!!c,l,!0);return;case"textarea":Pt("invalid",n),_=g=c=null;for(C in l)if(l.hasOwnProperty(C)&&(U=l[C],U!=null))switch(C){case"value":c=U;break;case"defaultValue":g=U;break;case"children":_=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(91));break;default:ne(n,r,C,U,l,null)}Wr(n,c,g,_);return;case"option":for(H in l)l.hasOwnProperty(H)&&(c=l[H],c!=null)&&(H==="selected"?n.selected=c&&typeof c!="function"&&typeof c!="symbol":ne(n,r,H,c,l,null));return;case"dialog":Pt("beforetoggle",n),Pt("toggle",n),Pt("cancel",n),Pt("close",n);break;case"iframe":case"object":Pt("load",n);break;case"video":case"audio":for(c=0;c<_u.length;c++)Pt(_u[c],n);break;case"image":Pt("error",n),Pt("load",n);break;case"details":Pt("toggle",n);break;case"embed":case"source":case"link":Pt("error",n),Pt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(c=l[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ne(n,r,Z,c,l,null)}return;default:if(uo(r)){for(rt in l)l.hasOwnProperty(rt)&&(c=l[rt],c!==void 0&&jm(n,r,rt,c,l,void 0));return}}for(U in l)l.hasOwnProperty(U)&&(c=l[U],c!=null&&ne(n,r,U,c,l,null))}function lw(n,r,l,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,C=null,U=null,H=null,Z=null,rt=null;for(et in l){var at=l[et];if(l.hasOwnProperty(et)&&at!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":H=at;default:c.hasOwnProperty(et)||ne(n,r,et,null,c,at)}}for(var J in c){var et=c[J];if(at=l[J],c.hasOwnProperty(J)&&(et!=null||at!=null))switch(J){case"type":_=et;break;case"name":g=et;break;case"checked":Z=et;break;case"defaultChecked":rt=et;break;case"value":C=et;break;case"defaultValue":U=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,r));break;default:et!==at&&ne(n,r,J,et,c,at)}}lo(n,C,U,H,Z,rt,_,g);return;case"select":et=C=U=J=null;for(_ in l)if(H=l[_],l.hasOwnProperty(_)&&H!=null)switch(_){case"value":break;case"multiple":et=H;default:c.hasOwnProperty(_)||ne(n,r,_,null,c,H)}for(g in c)if(_=c[g],H=l[g],c.hasOwnProperty(g)&&(_!=null||H!=null))switch(g){case"value":J=_;break;case"defaultValue":U=_;break;case"multiple":C=_;default:_!==H&&ne(n,r,g,_,c,H)}r=U,l=C,c=et,J!=null?Jr(n,!!l,J,!1):!!c!=!!l&&(r!=null?Jr(n,!!l,r,!0):Jr(n,!!l,l?[]:"",!1));return;case"textarea":et=J=null;for(U in l)if(g=l[U],l.hasOwnProperty(U)&&g!=null&&!c.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:ne(n,r,U,null,c,g)}for(C in c)if(g=c[C],_=l[C],c.hasOwnProperty(C)&&(g!=null||_!=null))switch(C){case"value":J=g;break;case"defaultValue":et=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==_&&ne(n,r,C,g,c,_)}Cc(n,J,et);return;case"option":for(var _t in l)J=l[_t],l.hasOwnProperty(_t)&&J!=null&&!c.hasOwnProperty(_t)&&(_t==="selected"?n.selected=!1:ne(n,r,_t,null,c,J));for(H in c)J=c[H],et=l[H],c.hasOwnProperty(H)&&J!==et&&(J!=null||et!=null)&&(H==="selected"?n.selected=J&&typeof J!="function"&&typeof J!="symbol":ne(n,r,H,J,c,et));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in l)J=l[xt],l.hasOwnProperty(xt)&&J!=null&&!c.hasOwnProperty(xt)&&ne(n,r,xt,null,c,J);for(Z in c)if(J=c[Z],et=l[Z],c.hasOwnProperty(Z)&&J!==et&&(J!=null||et!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:ne(n,r,Z,J,c,et)}return;default:if(uo(r)){for(var ie in l)J=l[ie],l.hasOwnProperty(ie)&&J!==void 0&&!c.hasOwnProperty(ie)&&jm(n,r,ie,void 0,c,J);for(rt in c)J=c[rt],et=l[rt],!c.hasOwnProperty(rt)||J===et||J===void 0&&et===void 0||jm(n,r,rt,J,c,et);return}}for(var Q in l)J=l[Q],l.hasOwnProperty(Q)&&J!=null&&!c.hasOwnProperty(Q)&&ne(n,r,Q,null,c,J);for(at in c)J=c[at],et=l[at],!c.hasOwnProperty(at)||J===et||J==null&&et==null||ne(n,r,at,J,c,et)}function p0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var g=l[c],_=g.transferSize,C=g.initiatorType,U=g.duration;if(_&&U&&p0(C)){for(C=0,U=g.responseEnd,c+=1;c<l.length;c++){var H=l[c],Z=H.startTime;if(Z>U)break;var rt=H.transferSize,at=H.initiatorType;rt&&p0(at)&&(H=H.responseEnd,C+=rt*(H<U?1:(U-Z)/(H-Z)))}if(--c,r+=8*(_+C)/(g.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Fm=null,Hm=null;function Of(n){return n.nodeType===9?n:n.ownerDocument}function g0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function qm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gm=null;function cw(){var n=window.event;return n&&n.type==="popstate"?n===Gm?!1:(Gm=n,!0):(Gm=null,!1)}var _0=typeof setTimeout=="function"?setTimeout:void 0,fw=typeof clearTimeout=="function"?clearTimeout:void 0,v0=typeof Promise=="function"?Promise:void 0,hw=typeof queueMicrotask=="function"?queueMicrotask:typeof v0<"u"?function(n){return v0.resolve(null).then(n).catch(dw)}:_0;function dw(n){setTimeout(function(){throw n})}function Ss(n){return n==="head"}function T0(n,r){var l=r,c=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(c===0){n.removeChild(g),Go(r);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Tu(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,Tu(l);for(var _=l.firstChild;_;){var C=_.nextSibling,U=_.nodeName;_[Ui]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=C}}else l==="body"&&Tu(n.ownerDocument.body);l=g}while(l);Go(r)}function E0(n,r){var l=n;n=0;do{var c=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=c}while(l)}function Ym(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ym(l),ao(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function mw(n,r,l,c){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Ui])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(_=n.getAttribute("rel"),_==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(_!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(_=n.getAttribute("src"),(_!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===_)return n}else return n;if(n=li(n.nextSibling),n===null)break}return null}function pw(n,r,l){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=li(n.nextSibling),n===null))return null;return n}function S0(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=li(n.nextSibling),n===null))return null;return n}function Qm(n){return n.data==="$?"||n.data==="$~"}function Km(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function gw(n,r){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||l.readyState!=="loading")r();else{var c=function(){r(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function li(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Xm=null;function A0(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(r===0)return li(n.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}n=n.nextSibling}return null}function x0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return n;r--}else l!=="/$"&&l!=="/&"||r++}n=n.previousSibling}return null}function w0(n,r,l){switch(r=Of(l),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Tu(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);ao(n)}var ui=new Map,b0=new Set;function Nf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var kr=X.d;X.d={f:yw,r:_w,D:vw,C:Tw,L:Ew,m:Sw,X:xw,S:Aw,M:ww};function yw(){var n=kr.f(),r=xf();return n||r}function _w(n){var r=Jn(n);r!==null&&r.tag===5&&r.type==="form"?H_(r):kr.r(n)}var Fo=typeof document>"u"?null:document;function R0(n,r,l){var c=Fo;if(c&&typeof r=="string"&&r){var g=Tn(r);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),b0.has(g)||(b0.add(g),n={rel:n,crossOrigin:l,href:r},c.querySelector(g)===null&&(r=c.createElement("link"),rn(r,"link",n),De(r),c.head.appendChild(r)))}}function vw(n){kr.D(n),R0("dns-prefetch",n,null)}function Tw(n,r){kr.C(n,r),R0("preconnect",n,r)}function Ew(n,r,l){kr.L(n,r,l);var c=Fo;if(c&&n&&r){var g='link[rel="preload"][as="'+Tn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Tn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Tn(l.imageSizes)+'"]')):g+='[href="'+Tn(n)+'"]';var _=g;switch(r){case"style":_=Ho(n);break;case"script":_=qo(n)}ui.has(_)||(n=v({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:n,as:r},l),ui.set(_,n),c.querySelector(g)!==null||r==="style"&&c.querySelector(Eu(_))||r==="script"&&c.querySelector(Su(_))||(r=c.createElement("link"),rn(r,"link",n),De(r),c.head.appendChild(r)))}}function Sw(n,r){kr.m(n,r);var l=Fo;if(l&&n){var c=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+Tn(c)+'"][href="'+Tn(n)+'"]',_=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=qo(n)}if(!ui.has(_)&&(n=v({rel:"modulepreload",href:n},r),ui.set(_,n),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Su(_)))return}c=l.createElement("link"),rn(c,"link",n),De(c),l.head.appendChild(c)}}}function Aw(n,r,l){kr.S(n,r,l);var c=Fo;if(c&&n){var g=Bi(c).hoistableStyles,_=Ho(n);r=r||"default";var C=g.get(_);if(!C){var U={loading:0,preload:null};if(C=c.querySelector(Eu(_)))U.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},l),(l=ui.get(_))&&$m(n,l);var H=C=c.createElement("link");De(H),rn(H,"link",n),H._p=new Promise(function(Z,rt){H.onload=Z,H.onerror=rt}),H.addEventListener("load",function(){U.loading|=1}),H.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Pf(C,r,c)}C={type:"stylesheet",instance:C,count:1,state:U},g.set(_,C)}}}function xw(n,r){kr.X(n,r);var l=Fo;if(l&&n){var c=Bi(l).hoistableScripts,g=qo(n),_=c.get(g);_||(_=l.querySelector(Su(g)),_||(n=v({src:n,async:!0},r),(r=ui.get(g))&&Zm(n,r),_=l.createElement("script"),De(_),rn(_,"link",n),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(g,_))}}function ww(n,r){kr.M(n,r);var l=Fo;if(l&&n){var c=Bi(l).hoistableScripts,g=qo(n),_=c.get(g);_||(_=l.querySelector(Su(g)),_||(n=v({src:n,async:!0,type:"module"},r),(r=ui.get(g))&&Zm(n,r),_=l.createElement("script"),De(_),rn(_,"link",n),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(g,_))}}function C0(n,r,l,c){var g=(g=dt.current)?Nf(g):null;if(!g)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Ho(l.href),l=Bi(g).hoistableStyles,c=l.get(r),c||(c={type:"style",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Ho(l.href);var _=Bi(g).hoistableStyles,C=_.get(n);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(n,C),(_=g.querySelector(Eu(n)))&&!_._p&&(C.instance=_,C.state.loading=5),ui.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ui.set(n,l),_||bw(g,n,l,C.state))),r&&c===null)throw Error(i(528,""));return C}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=qo(l),l=Bi(g).hoistableScripts,c=l.get(r),c||(c={type:"script",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Ho(n){return'href="'+Tn(n)+'"'}function Eu(n){return'link[rel="stylesheet"]['+n+"]"}function I0(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function bw(n,r,l,c){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=n.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),rn(r,"link",l),De(r),n.head.appendChild(r))}function qo(n){return'[src="'+Tn(n)+'"]'}function Su(n){return"script[async]"+n}function M0(n,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var c=n.querySelector('style[data-href~="'+Tn(l.href)+'"]');if(c)return r.instance=c,De(c),c;var g=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),De(c),rn(c,"style",g),Pf(c,l.precedence,n),r.instance=c;case"stylesheet":g=Ho(l.href);var _=n.querySelector(Eu(g));if(_)return r.state.loading|=4,r.instance=_,De(_),_;c=I0(l),(g=ui.get(g))&&$m(c,g),_=(n.ownerDocument||n).createElement("link"),De(_);var C=_;return C._p=new Promise(function(U,H){C.onload=U,C.onerror=H}),rn(_,"link",c),r.state.loading|=4,Pf(_,l.precedence,n),r.instance=_;case"script":return _=qo(l.src),(g=n.querySelector(Su(_)))?(r.instance=g,De(g),g):(c=l,(g=ui.get(_))&&(c=v({},l),Zm(c,g)),n=n.ownerDocument||n,g=n.createElement("script"),De(g),rn(g,"link",c),n.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Pf(c,l.precedence,n));return r.instance}function Pf(n,r,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,_=g,C=0;C<c.length;C++){var U=c[C];if(U.dataset.precedence===r)_=U;else if(_!==g)break}_?_.parentNode.insertBefore(n,_.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(n,r.firstChild))}function $m(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Zm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Vf=null;function D0(n,r,l){if(Vf===null){var c=new Map,g=Vf=new Map;g.set(l,c)}else g=Vf,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(n))return c;for(c.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var _=l[g];if(!(_[Ui]||_[Me]||n==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var C=_.getAttribute(r)||"";C=n+C;var U=c.get(C);U?U.push(_):c.set(C,[_])}}return c}function O0(n,r,l){n=n.ownerDocument||n,n.head.insertBefore(l,r==="title"?n.querySelector("head > title"):null)}function Rw(n,r,l){if(l===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(n=r.disabled,typeof r.precedence=="string"&&n==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function N0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Cw(n,r,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Ho(c.href),_=r.querySelector(Eu(g));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=kf.bind(n),r.then(n,n)),l.state.loading|=4,l.instance=_,De(_);return}_=r.ownerDocument||r,c=I0(c),(g=ui.get(g))&&$m(c,g),_=_.createElement("link"),De(_);var C=_;C._p=new Promise(function(U,H){C.onload=U,C.onerror=H}),rn(_,"link",c),l.instance=_}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=kf.bind(n),r.addEventListener("load",l),r.addEventListener("error",l))}}var Jm=0;function Iw(n,r){return n.stylesheets&&n.count===0&&Uf(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var c=setTimeout(function(){if(n.stylesheets&&Uf(n,n.stylesheets),n.unsuspend){var _=n.unsuspend;n.unsuspend=null,_()}},6e4+r);0<n.imgBytes&&Jm===0&&(Jm=62500*uw());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Uf(n,n.stylesheets),n.unsuspend)){var _=n.unsuspend;n.unsuspend=null,_()}},(n.imgBytes>Jm?50:800)+r);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function kf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Lf=null;function Uf(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Lf=new Map,r.forEach(Mw,n),Lf=null,kf.call(n))}function Mw(n,r){if(!(r.state.loading&4)){var l=Lf.get(n);if(l)var c=l.get(null);else{l=new Map,Lf.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var C=g[_];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),c=C)}c&&l.set(null,c)}g=r.instance,C=g.getAttribute("data-precedence"),_=l.get(C)||c,_===c&&l.set(null,g),l.set(C,g),this.count++,c=kf.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),_?_.parentNode.insertBefore(g,_.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),r.state.loading|=4}}var Au={$$typeof:z,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function Dw(n,r,l,c,g,_,C,U,H){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function P0(n,r,l,c,g,_,C,U,H,Z,rt,at){return n=new Dw(n,r,l,C,H,Z,rt,at,U),r=1,_===!0&&(r|=24),_=kn(3,null,null,r),n.current=_,_.stateNode=n,r=Dd(),r.refCount++,n.pooledCache=r,r.refCount++,_.memoizedState={element:c,isDehydrated:l,cache:r},Vd(_),n}function V0(n){return n?(n=Eo,n):Eo}function k0(n,r,l,c,g,_){g=V0(g),c.context===null?c.context=g:c.pendingContext=g,c=fs(r),c.payload={element:l},_=_===void 0?null:_,_!==null&&(c.callback=_),l=hs(n,c,r),l!==null&&(bn(l,n,r),eu(l,n,r))}function L0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<r?l:r}}function Wm(n,r){L0(n,r),(n=n.alternate)&&L0(n,r)}function U0(n){if(n.tag===13||n.tag===31){var r=Sa(n,67108864);r!==null&&bn(r,n,67108864),Wm(n,67108864)}}function z0(n){if(n.tag===13||n.tag===31){var r=jn();r=ca(r);var l=Sa(n,r);l!==null&&bn(l,n,r),Wm(n,r)}}var zf=!0;function Ow(n,r,l,c){var g=G.T;G.T=null;var _=X.p;try{X.p=2,tp(n,r,l,c)}finally{X.p=_,G.T=g}}function Nw(n,r,l,c){var g=G.T;G.T=null;var _=X.p;try{X.p=8,tp(n,r,l,c)}finally{X.p=_,G.T=g}}function tp(n,r,l,c){if(zf){var g=ep(c);if(g===null)Bm(n,r,c,Bf,l),j0(n,c);else if(Vw(g,n,r,l,c))c.stopPropagation();else if(j0(n,c),r&4&&-1<Pw.indexOf(n)){for(;g!==null;){var _=Jn(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var C=Pi(_.pendingLanes);if(C!==0){var U=_;for(U.pendingLanes|=2,U.entangledLanes|=2;C;){var H=1<<31-Se(C);U.entanglements[1]|=H,C&=~H}Wi(_),(Kt&6)===0&&(Sf=Ge()+500,yu(0))}}break;case 31:case 13:U=Sa(_,2),U!==null&&bn(U,_,2),xf(),Wm(_,2)}if(_=ep(c),_===null&&Bm(n,r,c,Bf,l),_===g)break;g=_}g!==null&&c.stopPropagation()}else Bm(n,r,c,null,l)}}function ep(n){return n=Wn(n),np(n)}var Bf=null;function np(n){if(Bf=null,n=zi(n),n!==null){var r=o(n);if(r===null)n=null;else{var l=r.tag;if(l===13){if(n=u(r),n!==null)return n;n=null}else if(l===31){if(n=f(r),n!==null)return n;n=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Bf=n,null}function B0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mi()){case Di:return 2;case aa:return 8;case Oi:case $r:return 32;case yr:return 268435456;default:return 32}default:return 32}}var ip=!1,As=null,xs=null,ws=null,xu=new Map,wu=new Map,bs=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j0(n,r){switch(n){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":xu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(r.pointerId)}}function bu(n,r,l,c,g,_){return n===null||n.nativeEvent!==_?(n={blockedOn:r,domEventName:l,eventSystemFlags:c,nativeEvent:_,targetContainers:[g]},r!==null&&(r=Jn(r),r!==null&&U0(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),n)}function Vw(n,r,l,c,g){switch(r){case"focusin":return As=bu(As,n,r,l,c,g),!0;case"dragenter":return xs=bu(xs,n,r,l,c,g),!0;case"mouseover":return ws=bu(ws,n,r,l,c,g),!0;case"pointerover":var _=g.pointerId;return xu.set(_,bu(xu.get(_)||null,n,r,l,c,g)),!0;case"gotpointercapture":return _=g.pointerId,wu.set(_,bu(wu.get(_)||null,n,r,l,c,g)),!0}return!1}function F0(n){var r=zi(n.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){n.blockedOn=r,pi(n.priority,function(){z0(l)});return}}else if(r===31){if(r=f(l),r!==null){n.blockedOn=r,pi(n.priority,function(){z0(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function jf(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var l=ep(n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);zl=c,l.target.dispatchEvent(c),zl=null}else return r=Jn(l),r!==null&&U0(r),n.blockedOn=l,!1;r.shift()}return!0}function H0(n,r,l){jf(n)&&l.delete(r)}function kw(){ip=!1,As!==null&&jf(As)&&(As=null),xs!==null&&jf(xs)&&(xs=null),ws!==null&&jf(ws)&&(ws=null),xu.forEach(H0),wu.forEach(H0)}function Ff(n,r){n.blockedOn===r&&(n.blockedOn=null,ip||(ip=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,kw)))}var Hf=null;function q0(n){Hf!==n&&(Hf=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Hf===n&&(Hf=null);for(var r=0;r<n.length;r+=3){var l=n[r],c=n[r+1],g=n[r+2];if(typeof c!="function"){if(np(c||l)===null)continue;break}var _=Jn(l);_!==null&&(n.splice(r,3),r-=3,em(_,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function Go(n){function r(H){return Ff(H,n)}As!==null&&Ff(As,n),xs!==null&&Ff(xs,n),ws!==null&&Ff(ws,n),xu.forEach(r),wu.forEach(r);for(var l=0;l<bs.length;l++){var c=bs[l];c.blockedOn===n&&(c.blockedOn=null)}for(;0<bs.length&&(l=bs[0],l.blockedOn===null);)F0(l),l.blockedOn===null&&bs.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],_=l[c+1],C=g[Ye]||null;if(typeof _=="function")C||q0(l);else if(C){var U=null;if(_&&_.hasAttribute("formAction")){if(g=_,C=_[Ye]||null)U=C.formAction;else if(np(g)!==null)continue}else U=C.action;typeof U=="function"?l[c+1]=U:(l.splice(c,3),c-=3),q0(l)}}}function G0(){function n(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function rp(n){this._internalRoot=n}qf.prototype.render=rp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,c=jn();k0(l,c,n,r,null,null)},qf.prototype.unmount=rp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;k0(n.current,2,null,n,null,null),xf(),r[Li]=null}};function qf(n){this._internalRoot=n}qf.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ac();n={blockedOn:null,target:n,priority:r};for(var l=0;l<bs.length&&r!==0&&r<bs[l].priority;l++);bs.splice(l,0,n),l===0&&F0(n)}};var Y0=t.version;if(Y0!=="19.2.4")throw Error(i(527,Y0,"19.2.4"));X.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=d(r),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var Lw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{di=Gf.inject(Lw),Je=Gf}catch{}}return Cu.createRoot=function(n,r){if(!a(n))throw Error(i(299));var l=!1,c="",g=W_,_=tv,C=ev;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError)),r=P0(n,1,!1,null,null,l,c,null,g,_,C,G0),n[Li]=r.current,zm(n),new rp(r)},Cu.hydrateRoot=function(n,r,l){if(!a(n))throw Error(i(299));var c=!1,g="",_=W_,C=tv,U=ev,H=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(U=l.onRecoverableError),l.formState!==void 0&&(H=l.formState)),r=P0(n,1,!0,r,l??null,c,g,H,_,C,U,G0),r.context=V0(null),l=r.current,c=jn(),c=ca(c),g=fs(c),g.callback=null,hs(l,g,c),l=c,r.current.lanes=l,la(r,l),Wi(r),n[Li]=r.current,zm(n),new qf(r)},Cu.version="19.2.4",Cu}var i1;function Kw(){if(i1)return op.exports;i1=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),op.exports=Qw(),op.exports}var Xw=Kw();const $w=()=>{};var r1={};const lE=function(s){const t=[];let e=0;for(let i=0;i<s.length;i++){let a=s.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},Zw=function(s){const t=[];let e=0,i=0;for(;e<s.length;){const a=s[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=s[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=s[e++],u=s[e++],f=s[e++],h=((a&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const o=s[e++],u=s[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return t.join("")},uE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<s.length;a+=3){const o=s[a],u=a+1<s.length,f=u?s[a+1]:0,h=a+2<s.length,d=h?s[a+2]:0,m=o>>2,v=(o&3)<<4|f>>4;let T=(f&15)<<2|d>>6,y=d&63;h||(y=64,u||(T=64)),i.push(e[m],e[v],e[T],e[y])}return i.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(lE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Zw(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<s.length;){const o=e[s.charAt(a++)],f=a<s.length?e[s.charAt(a)]:0;++a;const d=a<s.length?e[s.charAt(a)]:64;++a;const v=a<s.length?e[s.charAt(a)]:64;if(++a,o==null||f==null||d==null||v==null)throw new Jw;const T=o<<2|f>>4;if(i.push(T),d!==64){const y=f<<4&240|d>>2;if(i.push(y),v!==64){const S=d<<6&192|v;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Jw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ww=function(s){const t=lE(s);return uE.encodeByteArray(t,!0)},ph=function(s){return Ww(s).replace(/\./g,"")},cE=function(s){try{return uE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function tb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eb=()=>tb().__FIREBASE_DEFAULTS__,nb=()=>{if(typeof process>"u"||typeof r1>"u")return;const s=r1.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ib=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&cE(s[1]);return t&&JSON.parse(t)},Fh=()=>{try{return $w()||eb()||nb()||ib()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},fE=s=>Fh()?.emulatorHosts?.[s],hE=s=>{const t=fE(s);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},dE=()=>Fh()?.config,mE=s=>Fh()?.[`_${s}`];class rb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Wa(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wg(s){return(await fetch(s,{credentials:"include"})).ok}function pE(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=s.iat||0,o=s.sub||s.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ph(JSON.stringify(e)),ph(JSON.stringify(u)),""].join(".")}const Uu={};function sb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Uu))Uu[t]?s.emulator.push(t):s.prod.push(t);return s}function ab(s){let t=document.getElementById(s),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),e=!0),{created:e,element:t}}let s1=!1;function bg(s,t){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||Uu[s]===t||Uu[s]||s1)return;Uu[s]=t;function e(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=sb().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function h(T,y){T.setAttribute("width","24"),T.setAttribute("id",y),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function d(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{s1=!0,u()},T}function m(T,y){T.setAttribute("id",y),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=ab(i),y=e("text"),S=document.getElementById(y)||document.createElement("span"),E=e("learnmore"),A=document.getElementById(E)||document.createElement("a"),O=e("preprendIcon"),L=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;f(z),m(A,E);const B=d();h(L,O),z.append(L,S,A,B),document.body.appendChild(z)}o?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ob(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function lb(){const s=Fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ub(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function fb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hb(){const s=pn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function db(){return!lb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mb(){try{return typeof indexedDB=="object"}catch{return!1}}function pb(){return new Promise((s,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),s(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const gb="FirebaseError";class mr extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=gb,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],u=o?yb(o,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new mr(a,f,i)}}function yb(s,t){return s.replace(_b,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const _b=/\{\$([^}]+)}/g;function vb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ka(s,t){if(s===t)return!0;const e=Object.keys(s),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=s[a],u=t[a];if(a1(o)&&a1(u)){if(!Ka(o,u))return!1}else if(o!==u)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function a1(s){return s!==null&&typeof s=="object"}function lc(s){const t=[];for(const[e,i]of Object.entries(s))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Tb(s,t){const e=new Eb(s,t);return e.subscribe.bind(e)}class Eb{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");Sb(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=fp),a.error===void 0&&(a.error=fp),a.complete===void 0&&(a.complete=fp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sb(s,t){if(typeof s!="object"||s===null)return!1;for(const e of t)if(e in s&&typeof s[e]=="function")return!0;return!1}function fp(){}function Ci(s){return s&&s._delegate?s._delegate:s}class Qs{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const La="[DEFAULT]";class Ab{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new rb;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wb(t))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=La){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=La){return this.instances.has(t)}getOptions(t=La){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);i===f&&u.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:xb(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=La){return this.component?this.component.multipleInstances?t:La:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xb(s){return s===La?void 0:s}function wb(s){return s.instantiationMode==="EAGER"}class bb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Ab(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const Rb={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},Cb=Ut.INFO,Ib={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},Mb=(s,t,...e)=>{if(t<s.logLevel)return;const i=new Date().toISOString(),a=Ib[t];if(a)console[a](`[${i}]  ${s.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rg{constructor(t){this.name=t,this._logLevel=Cb,this._logHandler=Mb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Rb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const Db=(s,t)=>t.some(e=>s instanceof e);let o1,l1;function Ob(){return o1||(o1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nb(){return l1||(l1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gE=new WeakMap,kp=new WeakMap,yE=new WeakMap,hp=new WeakMap,Cg=new WeakMap;function Pb(s){const t=new Promise((e,i)=>{const a=()=>{s.removeEventListener("success",o),s.removeEventListener("error",u)},o=()=>{e(zs(s.result)),a()},u=()=>{i(s.error),a()};s.addEventListener("success",o),s.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&gE.set(e,s)}).catch(()=>{}),Cg.set(t,s),t}function Vb(s){if(kp.has(s))return;const t=new Promise((e,i)=>{const a=()=>{s.removeEventListener("complete",o),s.removeEventListener("error",u),s.removeEventListener("abort",u)},o=()=>{e(),a()},u=()=>{i(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",o),s.addEventListener("error",u),s.addEventListener("abort",u)});kp.set(s,t)}let Lp={get(s,t,e){if(s instanceof IDBTransaction){if(t==="done")return kp.get(s);if(t==="objectStoreNames")return s.objectStoreNames||yE.get(s);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return zs(s[t])},set(s,t,e){return s[t]=e,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function kb(s){Lp=s(Lp)}function Lb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=s.call(dp(this),t,...e);return yE.set(i,t.sort?t.sort():[t]),zs(i)}:Nb().includes(s)?function(...t){return s.apply(dp(this),t),zs(gE.get(this))}:function(...t){return zs(s.apply(dp(this),t))}}function Ub(s){return typeof s=="function"?Lb(s):(s instanceof IDBTransaction&&Vb(s),Db(s,Ob())?new Proxy(s,Lp):s)}function zs(s){if(s instanceof IDBRequest)return Pb(s);if(hp.has(s))return hp.get(s);const t=Ub(s);return t!==s&&(hp.set(s,t),Cg.set(t,s)),t}const dp=s=>Cg.get(s);function zb(s,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const u=indexedDB.open(s,t),f=zs(u);return i&&u.addEventListener("upgradeneeded",h=>{i(zs(u.result),h.oldVersion,h.newVersion,zs(u.transaction),h)}),e&&u.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),f.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const Bb=["get","getKey","getAll","getAllKeys","count"],jb=["put","add","delete","clear"],mp=new Map;function u1(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(mp.get(t))return mp.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=jb.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Bb.includes(e)))return;const o=async function(u,...f){const h=this.transaction(u,a?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(f.shift())),(await Promise.all([d[e](...f),a&&h.done]))[0]};return mp.set(t,o),o}kb(s=>({...s,get:(t,e,i)=>u1(t,e)||s.get(t,e,i),has:(t,e)=>!!u1(t,e)||s.has(t,e)}));class Fb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Hb(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function Hb(s){return s.getComponent()?.type==="VERSION"}const Up="@firebase/app",c1="0.14.8";const jr=new Rg("@firebase/app"),qb="@firebase/app-compat",Gb="@firebase/analytics-compat",Yb="@firebase/analytics",Qb="@firebase/app-check-compat",Kb="@firebase/app-check",Xb="@firebase/auth",$b="@firebase/auth-compat",Zb="@firebase/database",Jb="@firebase/data-connect",Wb="@firebase/database-compat",tR="@firebase/functions",eR="@firebase/functions-compat",nR="@firebase/installations",iR="@firebase/installations-compat",rR="@firebase/messaging",sR="@firebase/messaging-compat",aR="@firebase/performance",oR="@firebase/performance-compat",lR="@firebase/remote-config",uR="@firebase/remote-config-compat",cR="@firebase/storage",fR="@firebase/storage-compat",hR="@firebase/firestore",dR="@firebase/ai",mR="@firebase/firestore-compat",pR="firebase",gR="12.9.0";const zp="[DEFAULT]",yR={[Up]:"fire-core",[qb]:"fire-core-compat",[Yb]:"fire-analytics",[Gb]:"fire-analytics-compat",[Kb]:"fire-app-check",[Qb]:"fire-app-check-compat",[Xb]:"fire-auth",[$b]:"fire-auth-compat",[Zb]:"fire-rtdb",[Jb]:"fire-data-connect",[Wb]:"fire-rtdb-compat",[tR]:"fire-fn",[eR]:"fire-fn-compat",[nR]:"fire-iid",[iR]:"fire-iid-compat",[rR]:"fire-fcm",[sR]:"fire-fcm-compat",[aR]:"fire-perf",[oR]:"fire-perf-compat",[lR]:"fire-rc",[uR]:"fire-rc-compat",[cR]:"fire-gcs",[fR]:"fire-gcs-compat",[hR]:"fire-fst",[mR]:"fire-fst-compat",[dR]:"fire-vertex","fire-js":"fire-js",[pR]:"fire-js-all"};const gh=new Map,_R=new Map,Bp=new Map;function f1(s,t){try{s.container.addComponent(t)}catch(e){jr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,e)}}function Xa(s){const t=s.name;if(Bp.has(t))return jr.debug(`There were multiple attempts to register component ${t}.`),!1;Bp.set(t,s);for(const e of gh.values())f1(e,s);for(const e of _R.values())f1(e,s);return!0}function Hh(s,t){const e=s.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),s.container.getProvider(t)}function wi(s){return s==null?!1:s.settings!==void 0}const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new oc("app","Firebase",vR);class TR{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}const to=gR;function _E(s,t={}){let e=s;typeof t!="object"&&(t={name:t});const i={name:zp,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Bs.create("bad-app-name",{appName:String(a)});if(e||(e=dE()),!e)throw Bs.create("no-options");const o=gh.get(a);if(o){if(Ka(e,o.options)&&Ka(i,o.config))return o;throw Bs.create("duplicate-app",{appName:a})}const u=new bb(a);for(const h of Bp.values())u.addComponent(h);const f=new TR(e,i,u);return gh.set(a,f),f}function Ig(s=zp){const t=gh.get(s);if(!t&&s===zp&&dE())return _E();if(!t)throw Bs.create("no-app",{appName:s});return t}function ar(s,t,e){let i=yR[s]??s;e&&(i+=`-${e}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),jr.warn(u.join(" "));return}Xa(new Qs(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const ER="firebase-heartbeat-database",SR=1,Qu="firebase-heartbeat-store";let pp=null;function vE(){return pp||(pp=zb(ER,SR,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Qu)}catch(e){console.warn(e)}}}}).catch(s=>{throw Bs.create("idb-open",{originalErrorMessage:s.message})})),pp}async function AR(s){try{const e=(await vE()).transaction(Qu),i=await e.objectStore(Qu).get(TE(s));return await e.done,i}catch(t){if(t instanceof mr)jr.warn(t.message);else{const e=Bs.create("idb-get",{originalErrorMessage:t?.message});jr.warn(e.message)}}}async function h1(s,t){try{const i=(await vE()).transaction(Qu,"readwrite");await i.objectStore(Qu).put(t,TE(s)),await i.done}catch(e){if(e instanceof mr)jr.warn(e.message);else{const i=Bs.create("idb-set",{originalErrorMessage:e?.message});jr.warn(i.message)}}}function TE(s){return`${s.name}!${s.options.appId}`}const xR=1024,wR=30;class bR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new CR(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=d1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>wR){const a=IR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){jr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=d1(),{heartbeatsToSend:e,unsentEntries:i}=RR(this._heartbeatsCache.heartbeats),a=ph(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return jr.warn(t),""}}}function d1(){return new Date().toISOString().substring(0,10)}function RR(s,t=xR){const e=[];let i=s.slice();for(const a of s){const o=e.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),m1(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),m1(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class CR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mb()?pb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await AR(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return h1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return h1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function m1(s){return ph(JSON.stringify({version:2,heartbeats:s})).length}function IR(s){if(s.length===0)return-1;let t=0,e=s[0].date;for(let i=1;i<s.length;i++)s[i].date<e&&(e=s[i].date,t=i);return t}function MR(s){Xa(new Qs("platform-logger",t=>new Fb(t),"PRIVATE")),Xa(new Qs("heartbeat",t=>new bR(t),"PRIVATE")),ar(Up,c1,s),ar(Up,c1,"esm2020"),ar("fire-js","")}MR("");var p1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var js,EE;(function(){var s;function t(b,x){function R(){}R.prototype=x.prototype,b.F=x.prototype,b.prototype=new R,b.prototype.constructor=b,b.D=function(M,N,P){for(var V=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)V[nt-2]=arguments[nt];return x.prototype[N].apply(M,V)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(b,x,R){R||(R=0);const M=Array(16);if(typeof x=="string")for(var N=0;N<16;++N)M[N]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=b.g[0],R=b.g[1],N=b.g[2];let P=b.g[3],V;V=x+(P^R&(N^P))+M[0]+3614090360&4294967295,x=R+(V<<7&4294967295|V>>>25),V=P+(N^x&(R^N))+M[1]+3905402710&4294967295,P=x+(V<<12&4294967295|V>>>20),V=N+(R^P&(x^R))+M[2]+606105819&4294967295,N=P+(V<<17&4294967295|V>>>15),V=R+(x^N&(P^x))+M[3]+3250441966&4294967295,R=N+(V<<22&4294967295|V>>>10),V=x+(P^R&(N^P))+M[4]+4118548399&4294967295,x=R+(V<<7&4294967295|V>>>25),V=P+(N^x&(R^N))+M[5]+1200080426&4294967295,P=x+(V<<12&4294967295|V>>>20),V=N+(R^P&(x^R))+M[6]+2821735955&4294967295,N=P+(V<<17&4294967295|V>>>15),V=R+(x^N&(P^x))+M[7]+4249261313&4294967295,R=N+(V<<22&4294967295|V>>>10),V=x+(P^R&(N^P))+M[8]+1770035416&4294967295,x=R+(V<<7&4294967295|V>>>25),V=P+(N^x&(R^N))+M[9]+2336552879&4294967295,P=x+(V<<12&4294967295|V>>>20),V=N+(R^P&(x^R))+M[10]+4294925233&4294967295,N=P+(V<<17&4294967295|V>>>15),V=R+(x^N&(P^x))+M[11]+2304563134&4294967295,R=N+(V<<22&4294967295|V>>>10),V=x+(P^R&(N^P))+M[12]+1804603682&4294967295,x=R+(V<<7&4294967295|V>>>25),V=P+(N^x&(R^N))+M[13]+4254626195&4294967295,P=x+(V<<12&4294967295|V>>>20),V=N+(R^P&(x^R))+M[14]+2792965006&4294967295,N=P+(V<<17&4294967295|V>>>15),V=R+(x^N&(P^x))+M[15]+1236535329&4294967295,R=N+(V<<22&4294967295|V>>>10),V=x+(N^P&(R^N))+M[1]+4129170786&4294967295,x=R+(V<<5&4294967295|V>>>27),V=P+(R^N&(x^R))+M[6]+3225465664&4294967295,P=x+(V<<9&4294967295|V>>>23),V=N+(x^R&(P^x))+M[11]+643717713&4294967295,N=P+(V<<14&4294967295|V>>>18),V=R+(P^x&(N^P))+M[0]+3921069994&4294967295,R=N+(V<<20&4294967295|V>>>12),V=x+(N^P&(R^N))+M[5]+3593408605&4294967295,x=R+(V<<5&4294967295|V>>>27),V=P+(R^N&(x^R))+M[10]+38016083&4294967295,P=x+(V<<9&4294967295|V>>>23),V=N+(x^R&(P^x))+M[15]+3634488961&4294967295,N=P+(V<<14&4294967295|V>>>18),V=R+(P^x&(N^P))+M[4]+3889429448&4294967295,R=N+(V<<20&4294967295|V>>>12),V=x+(N^P&(R^N))+M[9]+568446438&4294967295,x=R+(V<<5&4294967295|V>>>27),V=P+(R^N&(x^R))+M[14]+3275163606&4294967295,P=x+(V<<9&4294967295|V>>>23),V=N+(x^R&(P^x))+M[3]+4107603335&4294967295,N=P+(V<<14&4294967295|V>>>18),V=R+(P^x&(N^P))+M[8]+1163531501&4294967295,R=N+(V<<20&4294967295|V>>>12),V=x+(N^P&(R^N))+M[13]+2850285829&4294967295,x=R+(V<<5&4294967295|V>>>27),V=P+(R^N&(x^R))+M[2]+4243563512&4294967295,P=x+(V<<9&4294967295|V>>>23),V=N+(x^R&(P^x))+M[7]+1735328473&4294967295,N=P+(V<<14&4294967295|V>>>18),V=R+(P^x&(N^P))+M[12]+2368359562&4294967295,R=N+(V<<20&4294967295|V>>>12),V=x+(R^N^P)+M[5]+4294588738&4294967295,x=R+(V<<4&4294967295|V>>>28),V=P+(x^R^N)+M[8]+2272392833&4294967295,P=x+(V<<11&4294967295|V>>>21),V=N+(P^x^R)+M[11]+1839030562&4294967295,N=P+(V<<16&4294967295|V>>>16),V=R+(N^P^x)+M[14]+4259657740&4294967295,R=N+(V<<23&4294967295|V>>>9),V=x+(R^N^P)+M[1]+2763975236&4294967295,x=R+(V<<4&4294967295|V>>>28),V=P+(x^R^N)+M[4]+1272893353&4294967295,P=x+(V<<11&4294967295|V>>>21),V=N+(P^x^R)+M[7]+4139469664&4294967295,N=P+(V<<16&4294967295|V>>>16),V=R+(N^P^x)+M[10]+3200236656&4294967295,R=N+(V<<23&4294967295|V>>>9),V=x+(R^N^P)+M[13]+681279174&4294967295,x=R+(V<<4&4294967295|V>>>28),V=P+(x^R^N)+M[0]+3936430074&4294967295,P=x+(V<<11&4294967295|V>>>21),V=N+(P^x^R)+M[3]+3572445317&4294967295,N=P+(V<<16&4294967295|V>>>16),V=R+(N^P^x)+M[6]+76029189&4294967295,R=N+(V<<23&4294967295|V>>>9),V=x+(R^N^P)+M[9]+3654602809&4294967295,x=R+(V<<4&4294967295|V>>>28),V=P+(x^R^N)+M[12]+3873151461&4294967295,P=x+(V<<11&4294967295|V>>>21),V=N+(P^x^R)+M[15]+530742520&4294967295,N=P+(V<<16&4294967295|V>>>16),V=R+(N^P^x)+M[2]+3299628645&4294967295,R=N+(V<<23&4294967295|V>>>9),V=x+(N^(R|~P))+M[0]+4096336452&4294967295,x=R+(V<<6&4294967295|V>>>26),V=P+(R^(x|~N))+M[7]+1126891415&4294967295,P=x+(V<<10&4294967295|V>>>22),V=N+(x^(P|~R))+M[14]+2878612391&4294967295,N=P+(V<<15&4294967295|V>>>17),V=R+(P^(N|~x))+M[5]+4237533241&4294967295,R=N+(V<<21&4294967295|V>>>11),V=x+(N^(R|~P))+M[12]+1700485571&4294967295,x=R+(V<<6&4294967295|V>>>26),V=P+(R^(x|~N))+M[3]+2399980690&4294967295,P=x+(V<<10&4294967295|V>>>22),V=N+(x^(P|~R))+M[10]+4293915773&4294967295,N=P+(V<<15&4294967295|V>>>17),V=R+(P^(N|~x))+M[1]+2240044497&4294967295,R=N+(V<<21&4294967295|V>>>11),V=x+(N^(R|~P))+M[8]+1873313359&4294967295,x=R+(V<<6&4294967295|V>>>26),V=P+(R^(x|~N))+M[15]+4264355552&4294967295,P=x+(V<<10&4294967295|V>>>22),V=N+(x^(P|~R))+M[6]+2734768916&4294967295,N=P+(V<<15&4294967295|V>>>17),V=R+(P^(N|~x))+M[13]+1309151649&4294967295,R=N+(V<<21&4294967295|V>>>11),V=x+(N^(R|~P))+M[4]+4149444226&4294967295,x=R+(V<<6&4294967295|V>>>26),V=P+(R^(x|~N))+M[11]+3174756917&4294967295,P=x+(V<<10&4294967295|V>>>22),V=N+(x^(P|~R))+M[2]+718787259&4294967295,N=P+(V<<15&4294967295|V>>>17),V=R+(P^(N|~x))+M[9]+3951481745&4294967295,b.g[0]=b.g[0]+x&4294967295,b.g[1]=b.g[1]+(N+(V<<21&4294967295|V>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+P&4294967295}i.prototype.v=function(b,x){x===void 0&&(x=b.length);const R=x-this.blockSize,M=this.C;let N=this.h,P=0;for(;P<x;){if(N==0)for(;P<=R;)a(this,b,P),P+=this.blockSize;if(typeof b=="string"){for(;P<x;)if(M[N++]=b.charCodeAt(P++),N==this.blockSize){a(this,M),N=0;break}}else for(;P<x;)if(M[N++]=b[P++],N==this.blockSize){a(this,M),N=0;break}}this.h=N,this.o+=x},i.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var x=1;x<b.length-8;++x)b[x]=0;x=this.o*8;for(var R=b.length-8;R<b.length;++R)b[R]=x&255,x/=256;for(this.v(b),b=Array(16),x=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)b[x++]=this.g[R]>>>M&255;return b};function o(b,x){var R=f;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=x(b)}function u(b,x){this.h=x;const R=[];let M=!0;for(let N=b.length-1;N>=0;N--){const P=b[N]|0;M&&P==x||(R[N]=P,M=!1)}this.g=R}var f={};function h(b){return-128<=b&&b<128?o(b,function(x){return new u([x|0],x<0?-1:0)}):new u([b|0],b<0?-1:0)}function d(b){if(isNaN(b)||!isFinite(b))return v;if(b<0)return A(d(-b));const x=[];let R=1;for(let M=0;b>=R;M++)x[M]=b/R|0,R*=4294967296;return new u(x,0)}function m(b,x){if(b.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(b.charAt(0)=="-")return A(m(b.substring(1),x));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=d(Math.pow(x,8));let M=v;for(let P=0;P<b.length;P+=8){var N=Math.min(8,b.length-P);const V=parseInt(b.substring(P,P+N),x);N<8?(N=d(Math.pow(x,N)),M=M.j(N).add(d(V))):(M=M.j(R),M=M.add(d(V)))}return M}var v=h(0),T=h(1),y=h(16777216);s=u.prototype,s.m=function(){if(E(this))return-A(this).m();let b=0,x=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);b+=(M>=0?M:4294967296+M)*x,x*=4294967296}return b},s.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(E(this))return"-"+A(this).toString(b);const x=d(Math.pow(b,6));var R=this;let M="";for(;;){const N=B(R,x).g;R=O(R,N.j(x));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(b);if(R=N,S(R))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},s.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(let x=0;x<b.g.length;x++)if(b.g[x]!=0)return!1;return!0}function E(b){return b.h==-1}s.l=function(b){return b=O(this,b),E(b)?-1:S(b)?0:1};function A(b){const x=b.g.length,R=[];for(let M=0;M<x;M++)R[M]=~b.g[M];return new u(R,~b.h).add(T)}s.abs=function(){return E(this)?A(this):this},s.add=function(b){const x=Math.max(this.g.length,b.g.length),R=[];let M=0;for(let N=0;N<=x;N++){let P=M+(this.i(N)&65535)+(b.i(N)&65535),V=(P>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);M=V>>>16,P&=65535,V&=65535,R[N]=V<<16|P}return new u(R,R[R.length-1]&-2147483648?-1:0)};function O(b,x){return b.add(A(x))}s.j=function(b){if(S(this)||S(b))return v;if(E(this))return E(b)?A(this).j(A(b)):A(A(this).j(b));if(E(b))return A(this.j(A(b)));if(this.l(y)<0&&b.l(y)<0)return d(this.m()*b.m());const x=this.g.length+b.g.length,R=[];for(var M=0;M<2*x;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<b.g.length;N++){const P=this.i(M)>>>16,V=this.i(M)&65535,nt=b.i(N)>>>16,it=b.i(N)&65535;R[2*M+2*N]+=V*it,L(R,2*M+2*N),R[2*M+2*N+1]+=P*it,L(R,2*M+2*N+1),R[2*M+2*N+1]+=V*nt,L(R,2*M+2*N+1),R[2*M+2*N+2]+=P*nt,L(R,2*M+2*N+2)}for(b=0;b<x;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=x;b<2*x;b++)R[b]=0;return new u(R,0)};function L(b,x){for(;(b[x]&65535)!=b[x];)b[x+1]+=b[x]>>>16,b[x]&=65535,x++}function z(b,x){this.g=b,this.h=x}function B(b,x){if(S(x))throw Error("division by zero");if(S(b))return new z(v,v);if(E(b))return x=B(A(b),x),new z(A(x.g),A(x.h));if(E(x))return x=B(b,A(x)),new z(A(x.g),x.h);if(b.g.length>30){if(E(b)||E(x))throw Error("slowDivide_ only works with positive integers.");for(var R=T,M=x;M.l(b)<=0;)R=I(R),M=I(M);var N=k(R,1),P=k(M,1);for(M=k(M,2),R=k(R,2);!S(M);){var V=P.add(M);V.l(b)<=0&&(N=N.add(R),P=V),M=k(M,1),R=k(R,1)}return x=O(b,N.j(x)),new z(N,x)}for(N=v;b.l(x)>=0;){for(R=Math.max(1,Math.floor(b.m()/x.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=d(R),V=P.j(x);E(V)||V.l(b)>0;)R-=M,P=d(R),V=P.j(x);S(P)&&(P=T),N=N.add(P),b=O(b,V)}return new z(N,b)}s.B=function(b){return B(this,b).h},s.and=function(b){const x=Math.max(this.g.length,b.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)&b.i(M);return new u(R,this.h&b.h)},s.or=function(b){const x=Math.max(this.g.length,b.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)|b.i(M);return new u(R,this.h|b.h)},s.xor=function(b){const x=Math.max(this.g.length,b.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)^b.i(M);return new u(R,this.h^b.h)};function I(b){const x=b.g.length+1,R=[];for(let M=0;M<x;M++)R[M]=b.i(M)<<1|b.i(M-1)>>>31;return new u(R,b.h)}function k(b,x){const R=x>>5;x%=32;const M=b.g.length-R,N=[];for(let P=0;P<M;P++)N[P]=x>0?b.i(P+R)>>>x|b.i(P+R+1)<<32-x:b.i(P+R);return new u(N,b.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,EE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=m,js=u}).apply(typeof p1<"u"?p1:typeof self<"u"?self:typeof window<"u"?window:{});var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var SE,Ou,AE,eh,jp,xE,wE,bE;(function(){var s,t=Object.defineProperty;function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yf=="object"&&Yf];for(var w=0;w<p.length;++w){var D=p[w];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var i=e(this);function a(p,w){if(w)t:{var D=i;p=p.split(".");for(var j=0;j<p.length-1;j++){var K=p[j];if(!(K in D))break t;D=D[K]}p=p[p.length-1],j=D[p],w=w(j),w!=j&&w!=null&&t(D,p,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(w){var D=[],j;for(j in w)Object.prototype.hasOwnProperty.call(w,j)&&D.push([j,w[j]]);return D}});var o=o||{},u=this||self;function f(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function h(p,w,D){return p.call.apply(p.bind,arguments)}function d(p,w,D){return d=h,d.apply(null,arguments)}function m(p,w){var D=Array.prototype.slice.call(arguments,1);return function(){var j=D.slice();return j.push.apply(j,arguments),p.apply(this,j)}}function v(p,w){function D(){}D.prototype=w.prototype,p.Z=w.prototype,p.prototype=new D,p.prototype.constructor=p,p.Ob=function(j,K,W){for(var ft=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)ft[Mt-2]=arguments[Mt];return w.prototype[K].apply(j,ft)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function y(p){const w=p.length;if(w>0){const D=Array(w);for(let j=0;j<w;j++)D[j]=p[j];return D}return[]}function S(p,w){for(let j=1;j<arguments.length;j++){const K=arguments[j];var D=typeof K;if(D=D!="object"?D:K?Array.isArray(K)?"array":D:"null",D=="array"||D=="object"&&typeof K.length=="number"){D=p.length||0;const W=K.length||0;p.length=D+W;for(let ft=0;ft<W;ft++)p[D+ft]=K[ft]}else p.push(K)}}class E{constructor(w,D){this.i=w,this.j=D,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function A(p){u.setTimeout(()=>{throw p},0)}function O(){var p=b;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class L{constructor(){this.h=this.g=null}add(w,D){const j=z.get();j.set(w,D),this.h?this.h.next=j:this.g=j,this.h=j}}var z=new E(()=>new B,p=>p.reset());class B{constructor(){this.next=this.g=this.h=null}set(w,D){this.h=w,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let I,k=!1,b=new L,x=()=>{const p=Promise.resolve(void 0);I=()=>{p.then(R)}};function R(){for(var p;p=O();){try{p.h.call(p.g)}catch(D){A(D)}var w=z;w.j(p),w.h<100&&(w.h++,p.next=w.g,w.g=p)}k=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const D=()=>{};u.addEventListener("test",D,w),u.removeEventListener("test",D,w)}catch{}return p})();function V(p){return/^[\s\xa0]*$/.test(p)}function nt(p,w){N.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,w)}v(nt,N),nt.prototype.init=function(p,w){const D=this.type=p.type,j=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget,w||(D=="mouseover"?w=p.fromElement:D=="mouseout"&&(w=p.toElement)),this.relatedTarget=w,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var it="closure_listenable_"+(Math.random()*1e6|0),G=0;function X(p,w,D,j,K){this.listener=p,this.proxy=null,this.src=w,this.type=D,this.capture=!!j,this.ha=K,this.key=++G,this.da=this.fa=!1}function lt(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function pt(p,w,D){for(const j in p)w.call(D,p[j],j,p)}function Et(p,w){for(const D in p)w.call(void 0,p[D],D,p)}function q(p){const w={};for(const D in p)w[D]=p[D];return w}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(p,w){let D,j;for(let K=1;K<arguments.length;K++){j=arguments[K];for(D in j)p[D]=j[D];for(let W=0;W<tt.length;W++)D=tt[W],Object.prototype.hasOwnProperty.call(j,D)&&(p[D]=j[D])}}function ct(p){this.src=p,this.g={},this.h=0}ct.prototype.add=function(p,w,D,j,K){const W=p.toString();p=this.g[W],p||(p=this.g[W]=[],this.h++);const ft=dt(p,w,j,K);return ft>-1?(w=p[ft],D||(w.fa=!1)):(w=new X(w,this.src,W,!!j,K),w.fa=D,p.push(w)),w};function yt(p,w){const D=w.type;if(D in p.g){var j=p.g[D],K=Array.prototype.indexOf.call(j,w,void 0),W;(W=K>=0)&&Array.prototype.splice.call(j,K,1),W&&(lt(w),p.g[D].length==0&&(delete p.g[D],p.h--))}}function dt(p,w,D,j){for(let K=0;K<p.length;++K){const W=p[K];if(!W.da&&W.listener==w&&W.capture==!!D&&W.ha==j)return K}return-1}var bt="closure_lm_"+(Math.random()*1e6|0),Vt={};function Xt(p,w,D,j,K){if(Array.isArray(w)){for(let W=0;W<w.length;W++)Xt(p,w[W],D,j,K);return null}return D=gr(D),p&&p[it]?p.J(w,D,f(j)?!!j.capture:!1,K):qe(p,w,D,!1,j,K)}function qe(p,w,D,j,K,W){if(!w)throw Error("Invalid event type");const ft=f(K)?!!K.capture:!!K;let Mt=Ii(p);if(Mt||(p[bt]=Mt=new ct(p)),D=Mt.add(w,D,j,ft,W),D.proxy)return D;if(j=Ze(),D.proxy=j,j.src=p,j.listener=D,p.addEventListener)P||(K=ft),K===void 0&&(K=!1),p.addEventListener(w.toString(),j,K);else if(p.attachEvent)p.attachEvent(Xn(w.toString()),j);else if(p.addListener&&p.removeListener)p.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return D}function Ze(){function p(D){return w.call(p.src,p.listener,D)}const w=ra;return p}function Ee(p,w,D,j,K){if(Array.isArray(w))for(var W=0;W<w.length;W++)Ee(p,w[W],D,j,K);else j=f(j)?!!j.capture:!!j,D=gr(D),p&&p[it]?(p=p.i,W=String(w).toString(),W in p.g&&(w=p.g[W],D=dt(w,D,j,K),D>-1&&(lt(w[D]),Array.prototype.splice.call(w,D,1),w.length==0&&(delete p.g[W],p.h--)))):p&&(p=Ii(p))&&(w=p.g[w.toString()],p=-1,w&&(p=dt(w,D,j,K)),(D=p>-1?w[p]:null)&&Kr(D))}function Kr(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[it])yt(w.i,p);else{var D=p.type,j=p.proxy;w.removeEventListener?w.removeEventListener(D,j,p.capture):w.detachEvent?w.detachEvent(Xn(D),j):w.addListener&&w.removeListener&&w.removeListener(j),(D=Ii(w))?(yt(D,p),D.h==0&&(D.src=null,w[bt]=null)):lt(p)}}}function Xn(p){return p in Vt?Vt[p]:Vt[p]="on"+p}function ra(p,w){if(p.da)p=!0;else{w=new nt(w,this);const D=p.listener,j=p.ha||p.src;p.fa&&Kr(p),p=D.call(j,w)}return p}function Ii(p){return p=p[bt],p instanceof ct?p:null}var Xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function gr(p){return typeof p=="function"?p:(p[Xr]||(p[Xr]=function(w){return p.handleEvent(w)}),p[Xr])}function $t(){M.call(this),this.i=new ct(this),this.M=this,this.G=null}v($t,M),$t.prototype[it]=!0,$t.prototype.removeEventListener=function(p,w,D,j){Ee(this,p,w,D,j)};function ye(p,w){var D,j=p.G;if(j)for(D=[];j;j=j.G)D.push(j);if(p=p.M,j=w.type||w,typeof w=="string")w=new N(w,p);else if(w instanceof N)w.target=w.target||p;else{var K=w;w=new N(j,p),ut(w,K)}K=!0;let W,ft;if(D)for(ft=D.length-1;ft>=0;ft--)W=w.g=D[ft],K=$n(W,j,!0,w)&&K;if(W=w.g=p,K=$n(W,j,!0,w)&&K,K=$n(W,j,!1,w)&&K,D)for(ft=0;ft<D.length;ft++)W=w.g=D[ft],K=$n(W,j,!1,w)&&K}$t.prototype.N=function(){if($t.Z.N.call(this),this.i){var p=this.i;for(const w in p.g){const D=p.g[w];for(let j=0;j<D.length;j++)lt(D[j]);delete p.g[w],p.h--}}this.G=null},$t.prototype.J=function(p,w,D,j){return this.i.add(String(p),w,!1,D,j)},$t.prototype.K=function(p,w,D,j){return this.i.add(String(p),w,!0,D,j)};function $n(p,w,D,j){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();let K=!0;for(let W=0;W<w.length;++W){const ft=w[W];if(ft&&!ft.da&&ft.capture==D){const Mt=ft.listener,Ae=ft.ha||ft.src;ft.fa&&yt(p.i,ft),K=Mt.call(Ae,j)!==!1&&K}}return K&&!j.defaultPrevented}function io(p,w){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=d(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:u.setTimeout(p,w||0)}function sa(p){p.g=io(()=>{p.g=null,p.i&&(p.i=!1,sa(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class Ge extends M{constructor(w,D){super(),this.m=w,this.l=D,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:sa(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(p){M.call(this),this.h=p,this.g={}}v(Mi,M);var Di=[];function aa(p){pt(p.g,function(w,D){this.g.hasOwnProperty(D)&&Kr(w)},p),p.g={}}Mi.prototype.N=function(){Mi.Z.N.call(this),aa(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oi=u.JSON.stringify,$r=u.JSON.parse,yr=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function _c(){}function vc(){}var di={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Je(){N.call(this,"d")}v(Je,N);function Zn(){N.call(this,"c")}v(Zn,N);var Se={},Tc=null;function ro(){return Tc=Tc||new $t}Se.Ia="serverreachability";function Ec(p){N.call(this,Se.Ia,p)}v(Ec,N);function Ni(p){const w=ro();ye(w,new Ec(w))}Se.STAT_EVENT="statevent";function oa(p,w){N.call(this,Se.STAT_EVENT,p),this.stat=w}v(oa,N);function Ie(p){const w=ro();ye(w,new oa(w,p))}Se.Ja="timingevent";function Pi(p,w){N.call(this,Se.Ja,p),this.size=w}v(Pi,N);function Vi(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},w)}function mi(){this.g=!0}mi.prototype.ua=function(){this.g=!1};function ud(p,w,D,j,K,W){p.info(function(){if(p.g)if(W){var ft="",Mt=W.split("&");for(let Qt=0;Qt<Mt.length;Qt++){var Ae=Mt[Qt].split("=");if(Ae.length>1){const ce=Ae[0];Ae=Ae[1];const ei=ce.split("_");ft=ei.length>=2&&ei[1]=="type"?ft+(ce+"="+Ae+"&"):ft+(ce+"=redacted&")}}}else ft=null;else ft=W;return"XMLHTTP REQ ("+j+") [attempt "+K+"]: "+w+`
`+D+`
`+ft})}function Sc(p,w,D,j,K,W,ft){p.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+K+"]: "+w+`
`+D+`
`+W+" "+ft})}function ki(p,w,D,j){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+cd(p,D)+(j?" "+j:"")})}function la(p,w){p.info(function(){return"TIMEOUT: "+w})}mi.prototype.info=function(){};function cd(p,w){if(!p.g)return w;if(!w)return null;try{const W=JSON.parse(w);if(W){for(p=0;p<W.length;p++)if(Array.isArray(W[p])){var D=W[p];if(!(D.length<2)){var j=D[1];if(Array.isArray(j)&&!(j.length<1)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ft=1;ft<j.length;ft++)j[ft]=""}}}}return Oi(W)}catch{return w}}var ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Il;function ca(){}v(ca,_c),ca.prototype.g=function(){return new XMLHttpRequest},Il=new ca;function _r(p){return encodeURIComponent(String(p))}function Ac(p){var w=1;p=p.split(":");const D=[];for(;w>0&&p.length;)D.push(p.shift()),w--;return p.length&&D.push(p.join(":")),D}function pi(p,w,D,j){this.j=p,this.i=w,this.l=D,this.S=j||1,this.V=new Mi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gi}function gi(){this.i=null,this.g="",this.h=!1}var Me={},Ye={};function Li(p,w,D){p.M=1,p.A=fa(Oe(w)),p.u=D,p.R=!0,so(p,null)}function so(p,w){p.F=Date.now(),Ui(p),p.B=Oe(p.A);var D=p.B,j=p.S;Array.isArray(j)||(j=[String(j)]),uo(D.i,"t",j),p.C=0,D=p.j.L,p.h=new gi,p.g=Uc(p.j,D?w:null,!p.u),p.P>0&&(p.O=new Ge(d(p.Y,p,p.g),p.P)),w=p.V,D=p.g,j=p.ba;var K="readystatechange";Array.isArray(K)||(K&&(Di[0]=K.toString()),K=Di);for(let W=0;W<K.length;W++){const ft=Xt(D,K[W],j||w.handleEvent,!1,w.h||w);if(!ft)break;w.g[ft.key]=ft}w=p.J?q(p.J):{},p.u?(p.v||(p.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,w)):(p.v="GET",p.g.ea(p.B,p.v,null,w)),Ni(),ud(p.i,p.v,p.B,p.l,p.S,p.u)}pi.prototype.ba=function(p){p=p.target;const w=this.O;w&&vi(p)==3?w.j():this.Y(p)},pi.prototype.Y=function(p){try{if(p==this.g)t:{const Mt=vi(this.g),Ae=this.g.ya(),Qt=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||We(this.g)))){this.K||Mt!=4||Ae==7||(Ae==8||Qt<=0?Ni(3):Ni(2)),zi(this);var w=this.g.ca();this.X=w;var D=fd(this);if(this.o=w==200,Sc(this.i,this.v,this.B,this.l,this.S,Mt,w),this.o){if(this.U&&!this.L){e:{if(this.g){var j,K=this.g;if((j=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(j)){var W=j;break e}}W=null}if(p=W)ki(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Bi(this,p);else{this.o=!1,this.m=3,Ie(12),Nn(this),Jn(this);break t}}if(this.R){p=!0;let ce;for(;!this.K&&this.C<D.length;)if(ce=wc(this,D),ce==Ye){Mt==4&&(this.m=4,Ie(14),p=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==Me){this.m=4,Ie(15),ki(this.i,this.l,D,"[Invalid Chunk]"),p=!1;break}else ki(this.i,this.l,ce,null),Bi(this,ce);if(xc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||D.length!=0||this.h.h||(this.m=1,Ie(16),p=!1),this.o=this.o&&p,!p)ki(this.i,this.l,D,"[Invalid Chunked Response]"),Nn(this),Jn(this);else if(D.length>0&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.aa&&!ft.P&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+D.length),ql(ft),ft.P=!0,Ie(11))}}else ki(this.i,this.l,D,null),Bi(this,D);Mt==4&&Nn(this),this.o&&!this.K&&(Mt==4?Pc(this.j,this):(this.o=!1,Ui(this)))}else Tr(this.g),w==400&&D.indexOf("Unknown SID")>0?(this.m=3,Ie(12)):(this.m=0,Ie(13)),Nn(this),Jn(this)}}}catch{}};function fd(p){if(!xc(p))return p.g.la();const w=We(p.g);if(w==="")return"";let D="";const j=w.length,K=vi(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Nn(p),Jn(p),"";p.h.i=new u.TextDecoder}for(let W=0;W<j;W++)p.h.h=!0,D+=p.h.i.decode(w[W],{stream:!(K&&W==j-1)});return w.length=0,p.h.g+=D,p.C=0,p.h.g}function xc(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function wc(p,w){var D=p.C,j=w.indexOf(`
`,D);return j==-1?Ye:(D=Number(w.substring(D,j)),isNaN(D)?Me:(j+=1,j+D>w.length?Ye:(w=w.slice(j,j+D),p.C=j+D,w)))}pi.prototype.cancel=function(){this.K=!0,Nn(this)};function Ui(p){p.T=Date.now()+p.H,ao(p,p.H)}function ao(p,w){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Vi(d(p.aa,p),w)}function zi(p){p.D&&(u.clearTimeout(p.D),p.D=null)}pi.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(la(this.i,this.B),this.M!=2&&(Ni(),Ie(17)),Nn(this),this.m=2,Jn(this)):ao(this,this.T-p)};function Jn(p){p.j.I==0||p.K||Pc(p.j,p)}function Nn(p){zi(p);var w=p.O;w&&typeof w.dispose=="function"&&w.dispose(),p.O=null,aa(p.V),p.g&&(w=p.g,p.g=null,w.abort(),w.dispose())}function Bi(p,w){try{var D=p.j;if(D.I!=0&&(D.g==p||Fi(D.h,p))){if(!p.L&&Fi(D.h,p)&&D.I==3){try{var j=D.Ba.g.parse(w)}catch{j=null}if(Array.isArray(j)&&j.length==3){var K=j;if(K[0]==0){t:if(!D.v){if(D.g)if(D.g.F+3e3<p.F)po(D),rs(D);else break t;_a(D),Ie(18)}}else D.xa=K[1],0<D.xa-D.K&&K[2]<37500&&D.F&&D.A==0&&!D.C&&(D.C=Vi(d(D.Va,D),6e3));ji(D.h)<=1&&D.ta&&(D.ta=void 0)}else Ki(D,11)}else if((p.L||D.g==p)&&po(D),!V(w))for(K=D.Ba.g.parse(w),w=0;w<K.length;w++){let Qt=K[w];const ce=Qt[0];if(!(ce<=D.K))if(D.K=ce,Qt=Qt[1],D.I==2)if(Qt[0]=="c"){D.M=Qt[1],D.ba=Qt[2];const ei=Qt[3];ei!=null&&(D.ka=ei,D.j.info("VER="+D.ka));const Xi=Qt[4];Xi!=null&&(D.za=Xi,D.j.info("SVER="+D.za));const Ti=Qt[5];Ti!=null&&typeof Ti=="number"&&Ti>0&&(j=1.5*Ti,D.O=j,D.j.info("backChannelRequestTimeoutMs_="+j)),j=D;const Ei=p.g;if(Ei){const va=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var W=j.h;W.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ol(W,W.h),W.h=null))}if(j.G){const go=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(j.wa=go,Zt(j.J,j.G,go))}}D.I=3,D.l&&D.l.ra(),D.aa&&(D.T=Date.now()-p.F,D.j.info("Handshake RTT: "+D.T+"ms")),j=D;var ft=p;if(j.na=Lc(j,j.L?j.ba:null,j.W),ft.L){Nl(j.h,ft);var Mt=ft,Ae=j.O;Ae&&(Mt.H=Ae),Mt.D&&(zi(Mt),Ui(Mt)),j.g=ft}else Oc(j);D.i.length>0&&Qi(D)}else Qt[0]!="stop"&&Qt[0]!="close"||Ki(D,7);else D.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ki(D,7):Fl(D):Qt[0]!="noop"&&D.l&&D.l.qa(Qt),D.A=0)}}Ni(4)}catch{}}var De=class{constructor(p,w){this.g=p,this.map=w}};function Ml(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dl(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ji(p){return p.h?1:p.g?p.g.size:0}function Fi(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function Ol(p,w){p.g?p.g.add(w):p.h=w}function Nl(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}Ml.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Pl(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const D of p.g.values())w=w.concat(D.G);return w}return y(p.i)}var bc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(p,w){if(p){p=p.split("&");for(let D=0;D<p.length;D++){const j=p[D].indexOf("=");let K,W=null;j>=0?(K=p[D].substring(0,j),W=p[D].substring(j+1)):K=p[D],w(K,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Pn(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;p instanceof Pn?(this.l=p.l,Qe(this,p.j),this.o=p.o,this.g=p.g,Zr(this,p.u),this.h=p.h,Vl(this,Mc(p.i)),this.m=p.m):p&&(w=String(p).match(bc))?(this.l=!1,Qe(this,w[1]||"",!0),this.o=Hi(w[2]||""),this.g=Hi(w[3]||"",!0),Zr(this,w[4]),this.h=Hi(w[5]||"",!0),Vl(this,w[6]||"",!0),this.m=Hi(w[7]||"")):(this.l=!1,this.i=new Wr(null,this.l))}Pn.prototype.toString=function(){const p=[];var w=this.j;w&&p.push(ha(w,lo,!0),":");var D=this.g;return(D||w=="file")&&(p.push("//"),(w=this.o)&&p.push(ha(w,lo,!0),"@"),p.push(_r(D).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.u,D!=null&&p.push(":",String(D))),(D=this.h)&&(this.g&&D.charAt(0)!="/"&&p.push("/"),p.push(ha(D,D.charAt(0)=="/"?kl:Rc,!0))),(D=this.i.toString())&&p.push("?",D),(D=this.m)&&p.push("#",ha(D,Cc)),p.join("")},Pn.prototype.resolve=function(p){const w=Oe(this);let D=!!p.j;D?Qe(w,p.j):D=!!p.o,D?w.o=p.o:D=!!p.g,D?w.g=p.g:D=p.u!=null;var j=p.h;if(D)Zr(w,p.u);else if(D=!!p.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var K=w.h.lastIndexOf("/");K!=-1&&(j=w.h.slice(0,K+1)+j)}if(K=j,K==".."||K==".")j="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){j=K.lastIndexOf("/",0)==0,K=K.split("/");const W=[];for(let ft=0;ft<K.length;){const Mt=K[ft++];Mt=="."?j&&ft==K.length&&W.push(""):Mt==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),j&&ft==K.length&&W.push("")):(W.push(Mt),j=!0)}j=W.join("/")}else j=K}return D?w.h=j:D=p.i.toString()!=="",D?Vl(w,Mc(p.i)):D=!!p.m,D&&(w.m=p.m),w};function Oe(p){return new Pn(p)}function Qe(p,w,D){p.j=D?Hi(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function Zr(p,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);p.u=w}else p.u=null}function Vl(p,w,D){w instanceof Wr?(p.i=w,co(p.i,p.l)):(D||(w=ha(w,Jr)),p.i=new Wr(w,p.l))}function Zt(p,w,D){p.i.set(w,D)}function fa(p){return Zt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Hi(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ha(p,w,D){return typeof p=="string"?(p=encodeURI(p).replace(w,Tn),D&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Tn(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var lo=/[#\/\?@]/g,Rc=/[#\?:]/g,kl=/[#\?]/g,Jr=/[#\?@]/g,Cc=/#/g;function Wr(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function En(p){p.g||(p.g=new Map,p.h=0,p.i&&oo(p.i,function(w,D){p.add(decodeURIComponent(w.replace(/\+/g," ")),D)}))}s=Wr.prototype,s.add=function(p,w){En(this),this.i=null,p=ts(this,p);let D=this.g.get(p);return D||this.g.set(p,D=[]),D.push(w),this.h+=1,this};function Ic(p,w){En(p),w=ts(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function Ll(p,w){return En(p),w=ts(p,w),p.g.has(w)}s.forEach=function(p,w){En(this),this.g.forEach(function(D,j){D.forEach(function(K){p.call(w,K,j,this)},this)},this)};function Ul(p,w){En(p);let D=[];if(typeof w=="string")Ll(p,w)&&(D=D.concat(p.g.get(ts(p,w))));else for(p=Array.from(p.g.values()),w=0;w<p.length;w++)D=D.concat(p[w]);return D}s.set=function(p,w){return En(this),this.i=null,p=ts(this,p),Ll(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},s.get=function(p,w){return p?(p=Ul(this,p),p.length>0?String(p[0]):w):w};function uo(p,w,D){Ic(p,w),D.length>0&&(p.i=null,p.g.set(ts(p,w),y(D)),p.h+=D.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(let j=0;j<w.length;j++){var D=w[j];const K=_r(D);D=Ul(this,D);for(let W=0;W<D.length;W++){let ft=K;D[W]!==""&&(ft+="="+_r(D[W])),p.push(ft)}}return this.i=p.join("&")};function Mc(p){const w=new Wr;return w.i=p.i,p.g&&(w.g=new Map(p.g),w.h=p.h),w}function ts(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function co(p,w){w&&!p.j&&(En(p),p.i=null,p.g.forEach(function(D,j){const K=j.toLowerCase();j!=K&&(Ic(this,j),uo(this,K,D))},p)),p.j=w}function yi(p,w){const D=new mi;if(u.Image){const j=new Image;j.onload=m(Wn,D,"TestLoadImage: loaded",!0,w,j),j.onerror=m(Wn,D,"TestLoadImage: error",!1,w,j),j.onabort=m(Wn,D,"TestLoadImage: abort",!1,w,j),j.ontimeout=m(Wn,D,"TestLoadImage: timeout",!1,w,j),u.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=p}else w(!1)}function zl(p,w){const D=new mi,j=new AbortController,K=setTimeout(()=>{j.abort(),Wn(D,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:j.signal}).then(W=>{clearTimeout(K),W.ok?Wn(D,"TestPingServer: ok",!0,w):Wn(D,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(K),Wn(D,"TestPingServer: error",!1,w)})}function Wn(p,w,D,j,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),j(D)}catch{}}function es(){this.g=new yr}function qi(p){this.i=p.Sb||null,this.h=p.ab||!1}v(qi,_c),qi.prototype.g=function(){return new da(this.i,this.h)};function da(p,w){$t.call(this),this.H=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(da,$t),s=da.prototype,s.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=w,this.readyState=1,_i(this)},s.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(w.body=p),(this.H||u).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ns(this)),this.readyState=0},s.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fo(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function fo(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}s.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?ns(this):_i(this),this.readyState==3&&fo(this)}},s.Oa=function(p){this.g&&(this.response=this.responseText=p,ns(this))},s.Na=function(p){this.g&&(this.response=p,ns(this))},s.ga=function(){this.g&&ns(this)};function ns(p){p.readyState=4,p.l=null,p.j=null,p.B=null,_i(p)}s.setRequestHeader=function(p,w){this.A.append(p,w)},s.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var D=w.next();!D.done;)D=D.value,p.push(D[0]+": "+D[1]),D=w.next();return p.join(`\r
`)};function _i(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ti(p){let w="";return pt(p,function(D,j){w+=j,w+=":",w+=D,w+=`\r
`}),w}function ma(p,w,D){t:{for(j in D){var j=!1;break t}j=!0}j||(D=ti(D),typeof p=="string"?D!=null&&_r(D):Zt(p,w,D))}function te(p){$t.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(te,$t);var Gi=/^https?$/i,Bl=["POST","PUT"];s=te.prototype,s.Fa=function(p){this.H=p},s.ea=function(p,w,D,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Il.g(),this.g.onreadystatechange=T(d(this.Ca,this));try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(W){pa(this,W);return}if(p=D||"",D=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var K in j)D.set(K,j[K]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const W of j.keys())D.set(W,j.get(W));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(D.keys()).find(W=>W.toLowerCase()=="content-type"),K=u.FormData&&p instanceof u.FormData,!(Array.prototype.indexOf.call(Bl,w,void 0)>=0)||j||K||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ft]of D)this.g.setRequestHeader(W,ft);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(W){pa(this,W)}};function pa(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.o=5,jl(p),vr(p)}function jl(p){p.A||(p.A=!0,ye(p,"complete"),ye(p,"error"))}s.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,ye(this,"complete"),ye(this,"abort"),vr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),te.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ga(this):this.Xa())},s.Xa=function(){ga(this)};function ga(p){if(p.h&&typeof o<"u"){if(p.v&&vi(p)==4)setTimeout(p.Ca.bind(p),0);else if(ye(p,"readystatechange"),vi(p)==4){p.h=!1;try{const W=p.ca();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var D;if(!(D=w)){var j;if(j=W===0){let ft=String(p.D).match(bc)[1]||null;!ft&&u.self&&u.self.location&&(ft=u.self.location.protocol.slice(0,-1)),j=!Gi.test(ft?ft.toLowerCase():"")}D=j}if(D)ye(p,"complete"),ye(p,"success");else{p.o=6;try{var K=vi(p)>2?p.g.statusText:""}catch{K=""}p.l=K+" ["+p.ca()+"]",jl(p)}}finally{vr(p)}}}}function vr(p,w){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const D=p.g;p.g=null,w||ye(p,"ready");try{D.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function vi(p){return p.g?p.g.readyState:0}s.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),$r(w)}};function We(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Tr(p){const w={};p=(p.g&&vi(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<p.length;j++){if(V(p[j]))continue;var D=Ac(p[j]);const K=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const W=w[K]||[];w[K]=W,W.push(D)}Et(w,function(j){return j.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yi(p,w,D){return D&&D.internalChannelParams&&D.internalChannelParams[p]||w}function is(p){this.za=0,this.i=[],this.j=new mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yi("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yi("baseRetryDelayMs",5e3,p),this.Za=Yi("retryDelaySeedMs",1e4,p),this.Ta=Yi("forwardChannelMaxRetries",2,p),this.va=Yi("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Ml(p&&p.concurrentRequestLimit),this.Ba=new es,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=is.prototype,s.ka=8,s.I=1,s.connect=function(p,w,D,j){Ie(0),this.W=p,this.H=w||{},D&&j!==void 0&&(this.H.OSID=D,this.H.OAID=j),this.F=this.X,this.J=Lc(this,null,this.W),Qi(this)};function Fl(p){if(ho(p),p.I==3){var w=p.V++,D=Oe(p.J);if(Zt(D,"SID",p.M),Zt(D,"RID",w),Zt(D,"TYPE","terminate"),ya(p,D),w=new pi(p,p.j,w),w.M=2,w.A=fa(Oe(D)),D=!1,u.navigator&&u.navigator.sendBeacon)try{D=u.navigator.sendBeacon(w.A.toString(),"")}catch{}!D&&u.Image&&(new Image().src=w.A,D=!0),D||(w.g=Uc(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Ui(w)}kc(p)}function rs(p){p.g&&(ql(p),p.g.cancel(),p.g=null)}function ho(p){rs(p),p.v&&(u.clearTimeout(p.v),p.v=null),po(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&u.clearTimeout(p.m),p.m=null)}function Qi(p){if(!Dl(p.h)&&!p.m){p.m=!0;var w=p.Ea;I||x(),k||(I(),k=!0),b.add(w,p),p.D=0}}function mo(p,w){return ji(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=w.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Vi(d(p.Ea,p,w),Vc(p,p.D)),p.D++,!0)}s.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const K=new pi(this,this.j,p);let W=this.o;if(this.U&&(W?(W=q(W),ut(W,this.U)):W=this.U),this.u!==null||this.R||(K.J=W,W=null),this.S)t:{for(var w=0,D=0;D<this.i.length;D++){e:{var j=this.i[D];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break e}j=void 0}if(j===void 0)break;if(w+=j,w>4096){w=D;break t}if(w===4096||D===this.i.length-1){w=D+1;break t}}w=1e3}else w=1e3;w=Dc(this,K,w),D=Oe(this.J),Zt(D,"RID",p),Zt(D,"CVER",22),this.G&&Zt(D,"X-HTTP-Session-Id",this.G),ya(this,D),W&&(this.R?w="headers="+_r(ti(W))+"&"+w:this.u&&ma(D,this.u,W)),Ol(this.h,K),this.Ra&&Zt(D,"TYPE","init"),this.S?(Zt(D,"$req",w),Zt(D,"SID","null"),K.U=!0,Li(K,D,null)):Li(K,D,w),this.I=2}}else this.I==3&&(p?Hl(this,p):this.i.length==0||Dl(this.h)||Hl(this))};function Hl(p,w){var D;w?D=w.l:D=p.V++;const j=Oe(p.J);Zt(j,"SID",p.M),Zt(j,"RID",D),Zt(j,"AID",p.K),ya(p,j),p.u&&p.o&&ma(j,p.u,p.o),D=new pi(p,p.j,D,p.D+1),p.u===null&&(D.J=p.o),w&&(p.i=w.G.concat(p.i)),w=Dc(p,D,1e3),D.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Ol(p.h,D),Li(D,j,w)}function ya(p,w){p.H&&pt(p.H,function(D,j){Zt(w,j,D)}),p.l&&pt({},function(D,j){Zt(w,j,D)})}function Dc(p,w,D){D=Math.min(p.i.length,D);const j=p.l?d(p.l.Ka,p.l,p):null;t:{var K=p.i;let Mt=-1;for(;;){const Ae=["count="+D];Mt==-1?D>0?(Mt=K[0].g,Ae.push("ofs="+Mt)):Mt=0:Ae.push("ofs="+Mt);let Qt=!0;for(let ce=0;ce<D;ce++){var W=K[ce].g;const ei=K[ce].map;if(W-=Mt,W<0)Mt=Math.max(0,K[ce].g-100),Qt=!1;else try{W="req"+W+"_"||"";try{var ft=ei instanceof Map?ei:Object.entries(ei);for(const[Xi,Ti]of ft){let Ei=Ti;f(Ti)&&(Ei=Oi(Ti)),Ae.push(W+Xi+"="+encodeURIComponent(Ei))}}catch(Xi){throw Ae.push(W+"type="+encodeURIComponent("_badmap")),Xi}}catch{j&&j(ei)}}if(Qt){ft=Ae.join("&");break t}}ft=void 0}return p=p.i.splice(0,D),w.G=p,ft}function Oc(p){if(!p.g&&!p.v){p.Y=1;var w=p.Da;I||x(),k||(I(),k=!0),b.add(w,p),p.A=0}}function _a(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Vi(d(p.Da,p),Vc(p,p.A)),p.A++,!0)}s.Da=function(){if(this.v=null,Nc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Vi(d(this.Wa,this),p)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ie(10),rs(this),Nc(this))};function ql(p){p.B!=null&&(u.clearTimeout(p.B),p.B=null)}function Nc(p){p.g=new pi(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var w=Oe(p.na);Zt(w,"RID","rpc"),Zt(w,"SID",p.M),Zt(w,"AID",p.K),Zt(w,"CI",p.F?"0":"1"),!p.F&&p.ia&&Zt(w,"TO",p.ia),Zt(w,"TYPE","xmlhttp"),ya(p,w),p.u&&p.o&&ma(w,p.u,p.o),p.O&&(p.g.H=p.O);var D=p.g;p=p.ba,D.M=1,D.A=fa(Oe(w)),D.u=null,D.R=!0,so(D,p)}s.Va=function(){this.C!=null&&(this.C=null,rs(this),_a(this),Ie(19))};function po(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Pc(p,w){var D=null;if(p.g==w){po(p),ql(p),p.g=null;var j=2}else if(Fi(p.h,w))D=w.G,Nl(p.h,w),j=1;else return;if(p.I!=0){if(w.o)if(j==1){D=w.u?w.u.length:0,w=Date.now()-w.F;var K=p.D;j=ro(),ye(j,new Pi(j,D)),Qi(p)}else Oc(p);else if(K=w.m,K==3||K==0&&w.X>0||!(j==1&&mo(p,w)||j==2&&_a(p)))switch(D&&D.length>0&&(w=p.h,w.i=w.i.concat(D)),K){case 1:Ki(p,5);break;case 4:Ki(p,10);break;case 3:Ki(p,6);break;default:Ki(p,2)}}}function Vc(p,w){let D=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(D*=2),D*w}function Ki(p,w){if(p.j.info("Error code "+w),w==2){var D=d(p.bb,p),j=p.Ua;const K=!j;j=new Pn(j||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qe(j,"https"),fa(j),K?yi(j.toString(),D):zl(j.toString(),D)}else Ie(2);p.I=0,p.l&&p.l.pa(w),kc(p),ho(p)}s.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function kc(p){if(p.I=0,p.ja=[],p.l){const w=Pl(p.h);(w.length!=0||p.i.length!=0)&&(S(p.ja,w),S(p.ja,p.i),p.h.i.length=0,y(p.i),p.i.length=0),p.l.oa()}}function Lc(p,w,D){var j=D instanceof Pn?Oe(D):new Pn(D);if(j.g!="")w&&(j.g=w+"."+j.g),Zr(j,j.u);else{var K=u.location;j=K.protocol,w=w?w+"."+K.hostname:K.hostname,K=+K.port;const W=new Pn(null);j&&Qe(W,j),w&&(W.g=w),K&&Zr(W,K),D&&(W.h=D),j=W}return D=p.G,w=p.wa,D&&w&&Zt(j,D,w),Zt(j,"VER",p.ka),ya(p,j),j}function Uc(p,w,D){if(w&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Aa&&!p.ma?new te(new qi({ab:D})):new te(p.ma),w.Fa(p.L),w}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function zc(){}s=zc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ss(){}ss.prototype.g=function(p,w){return new gn(p,w)};function gn(p,w){$t.call(this),this.g=new is(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(p?p["X-WebChannel-Client-Profile"]=w.sa:p={"X-WebChannel-Client-Profile":w.sa}),this.g.U=p,(p=w&&w.Qb)&&!V(p)&&(this.g.u=p),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.G=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new Er(this)}v(gn,$t),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Fl(this.g)},gn.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var D={};D.__data__=p,p=D}else this.v&&(D={},D.__data__=Oi(p),p=D);w.i.push(new De(w.Ya++,p)),w.I==3&&Qi(w)},gn.prototype.N=function(){this.g.l=null,delete this.j,Fl(this.g),delete this.g,gn.Z.N.call(this)};function Bc(p){Je.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){t:{for(const D in w){p=D;break t}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}v(Bc,Je);function jc(){Zn.call(this),this.status=1}v(jc,Zn);function Er(p){this.g=p}v(Er,zc),Er.prototype.ra=function(){ye(this.g,"a")},Er.prototype.qa=function(p){ye(this.g,new Bc(p))},Er.prototype.pa=function(p){ye(this.g,new jc)},Er.prototype.oa=function(){ye(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,bE=function(){return new ss},wE=function(){return ro()},xE=Se,jp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,eh=ua,Cl.COMPLETE="complete",AE=Cl,vc.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",$t.prototype.listen=$t.prototype.J,Ou=vc,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,SE=te}).apply(typeof Yf<"u"?Yf:typeof self<"u"?self:typeof window<"u"?window:{});class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let xl="12.9.0";function DR(s){xl=s}const $a=new Rg("@firebase/firestore");function Qo(){return $a.logLevel}function gt(s,...t){if($a.logLevel<=Ut.DEBUG){const e=t.map(Mg);$a.debug(`Firestore (${xl}): ${s}`,...e)}}function Fr(s,...t){if($a.logLevel<=Ut.ERROR){const e=t.map(Mg);$a.error(`Firestore (${xl}): ${s}`,...e)}}function Za(s,...t){if($a.logLevel<=Ut.WARN){const e=t.map(Mg);$a.warn(`Firestore (${xl}): ${s}`,...e)}}function Mg(s){if(typeof s=="string")return s;try{return(function(e){return JSON.stringify(e)})(s)}catch{return s}}function It(s,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,RE(s,i,e)}function RE(s,t,e){let i=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Fr(i),new Error(i)}function ge(s,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,s||RE(t,a,i)}function Ht(s,t){return s}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends mr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tl{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class CE{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class OR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(cn.UNAUTHENTICATED)))}shutdown(){}}class NR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class PR{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ge(this.o===void 0,42304);let i=this.i;const a=h=>this.i!==i?(i=this.i,e(h)):Promise.resolve();let o=new tl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tl,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const h=o;t.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},f=h=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tl)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ge(typeof i.accessToken=="string",31837,{l:i}),new CE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ge(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class VR{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class kR{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new VR(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LR{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ge(this.o===void 0,3512);const i=o=>{o.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,gt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const a=o=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ge(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new g1(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<s;i++)e[i]=Math.floor(256*Math.random());return e}class Dg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=UR(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<e&&(i+=t.charAt(a[o]%62))}return i}}function Bt(s,t){return s<t?-1:s>t?1:0}function Fp(s,t){const e=Math.min(s.length,t.length);for(let i=0;i<e;i++){const a=s.charAt(i),o=t.charAt(i);if(a!==o)return gp(a)===gp(o)?Bt(a,o):gp(a)?1:-1}return Bt(s.length,t.length)}const zR=55296,BR=57343;function gp(s){const t=s.charCodeAt(0);return t>=zR&&t<=BR}function fl(s,t,e){return s.length===t.length&&s.every(((i,a)=>e(i,t[a])))}const y1="__name__";class tr{constructor(t,e,i){e===void 0?e=0:e>t.length&&It(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&It(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return tr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof tr?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const o=tr.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return Bt(t.length,e.length)}static compareSegments(t,e){const i=tr.isNumericId(t),a=tr.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?tr.extractNumericId(t).compare(tr.extractNumericId(e)):Fp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return js.fromString(t.substring(4,t.length-2))}}class ue extends tr{construct(t,e,i){return new ue(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Tt(ht.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new ue(e)}static emptyPath(){return new ue([])}}const jR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends tr{construct(t,e,i){return new _n(t,e,i)}static isValidIdentifier(t){return jR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y1}static keyField(){return new _n([y1])}static fromServerFormat(t){const e=[];let i="",a=0;const o=()=>{if(i.length===0)throw new Tt(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new Tt(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Tt(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(o(),a++)}if(o(),u)throw new Tt(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _n(e)}static emptyPath(){return new _n([])}}class At{constructor(t){this.path=t}static fromPath(t){return new At(ue.fromString(t))}static fromName(t){return new At(ue.fromString(t).popFirst(5))}static empty(){return new At(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new At(new ue(t.slice()))}}function IE(s,t,e){if(!e)throw new Tt(ht.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function FR(s,t,e,i){if(t===!0&&i===!0)throw new Tt(ht.INVALID_ARGUMENT,`${s} and ${e} cannot be used together.`)}function _1(s){if(!At.isDocumentKey(s))throw new Tt(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function v1(s){if(At.isDocumentKey(s))throw new Tt(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function HR(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function qR(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":It(12329,{type:typeof s})}function nh(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new Tt(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=qR(s);throw new Tt(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return s}function Be(s,t){const e={typeString:s};return t&&(e.value=t),e}function uc(s,t){if(!HR(s))throw new Tt(ht.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in s)){e=`JSON missing required field: '${i}'`;break}const u=s[i];if(a&&typeof u!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new Tt(ht.INVALID_ARGUMENT,e);return!0}const T1=-62135596800,E1=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(t){return ze.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*E1);return new ze(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Tt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Tt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<T1)throw new Tt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E1}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(uc(t,ze._jsonSchema))return new ze(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-T1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:Be("string",ze._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new ze(0,0))}static max(){return new Ct(new ze(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ku=-1;function GR(s,t){const e=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,a=Ct.fromTimestamp(i===1e9?new ze(e+1,0):new ze(e,i));return new Ks(a,At.empty(),t)}function YR(s){return new Ks(s.readTime,s.key,Ku)}class Ks{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ks(Ct.min(),At.empty(),Ku)}static max(){return new Ks(Ct.max(),At.empty(),Ku)}}function QR(s,t){let e=s.readTime.compareTo(t.readTime);return e!==0?e:(e=At.comparator(s.documentKey,t.documentKey),e!==0?e:Bt(s.largestBatchId,t.largestBatchId))}const KR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function qh(s){if(s.code!==ht.FAILED_PRECONDITION||s.message!==KR)throw s;gt("LocalStore","Unexpectedly lost primary lease")}class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&It(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ot(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ot?e:ot.resolve(e)}catch(e){return ot.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ot.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ot.reject(e)}static resolve(t){return new ot(((e,i)=>{e(t)}))}static reject(t){return new ot(((e,i)=>{i(t)}))}static waitFor(t){return new ot(((e,i)=>{let a=0,o=0,u=!1;t.forEach((f=>{++a,f.next((()=>{++o,u&&o===a&&e()}),(h=>i(h)))})),u=!0,o===a&&e()}))}static or(t){let e=ot.resolve(!1);for(const i of t)e=e.next((a=>a?ot.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,o)=>{i.push(e.call(this,a,o))})),this.waitFor(i)}static mapArray(t,e){return new ot(((i,a)=>{const o=t.length,u=new Array(o);let f=0;for(let h=0;h<o;h++){const d=h;e(t[d]).next((m=>{u[d]=m,++f,f===o&&i(u)}),(m=>a(m)))}}))}static doWhile(t,e){return new ot(((i,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):i()};o()}))}}function $R(s){const t=s.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function wl(s){return s.name==="IndexedDbTransactionError"}class Gh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Gh.ce=-1;const ZR=-1;function Yh(s){return s==null}function Hp(s){return s===0&&1/s==-1/0}const ME="";function JR(s){let t="";for(let e=0;e<s.length;e++)t.length>0&&(t=S1(t)),t=WR(s.get(e),t);return S1(t)}function WR(s,t){let e=t;const i=s.length;for(let a=0;a<i;a++){const o=s.charAt(a);switch(o){case"\0":e+="";break;case ME:e+="";break;default:e+=o}}return e}function S1(s){return s+ME+""}function A1(s){let t=0;for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&t++;return t}function cc(s,t){for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&t(e,s[e])}function tC(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class Ce{constructor(t,e){this.comparator=t,this.root=e||sn.EMPTY}insert(t,e){return new Ce(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new Ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qf(this.root,t,this.comparator,!0)}}class Qf{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??sn.RED,this.left=a??sn.EMPTY,this.right=o??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,o){return new sn(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return sn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw It(43730,{key:this.key,value:this.value});if(this.right.isRed())throw It(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw It(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw It(57766)}get value(){throw It(16141)}get color(){throw It(16727)}get left(){throw It(29726)}get right(){throw It(36894)}copy(t,e,i,a,o){return this}insert(t,e,i){return new sn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(t){this.comparator=t,this.data=new Ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new x1(this.data.getIterator())}getIteratorFrom(t){return new x1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new He(this.comparator);return e.data=t,e}}class x1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ps{constructor(t){this.fields=t,t.sort(_n.comparator)}static empty(){return new Ps([])}unionWith(t){let e=new He(_n.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ps(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return fl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class DE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new DE("Invalid base64 string: "+o):o}})(t);return new on(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(t);return new on(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}on.EMPTY_BYTE_STRING=new on("");const eC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(s){if(ge(!!s,39018),typeof s=="string"){let t=0;const e=eC.exec(s);if(ge(!!e,46558,{timestamp:s}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:be(s.seconds),nanos:be(s.nanos)}}function be(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function $s(s){return typeof s=="string"?on.fromBase64String(s):on.fromUint8Array(s)}const OE="server_timestamp",NE="__type__",PE="__previous_value__",VE="__local_write_time__";function Og(s){return(s?.mapValue?.fields||{})[NE]?.stringValue===OE}function Qh(s){const t=s.mapValue.fields[PE];return Og(t)?Qh(t):t}function Xu(s){const t=Xs(s.mapValue.fields[VE].timestampValue);return new ze(t.seconds,t.nanos)}class nC{constructor(t,e,i,a,o,u,f,h,d,m,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m,this.apiKey=v}}const yh="(default)";class $u{constructor(t,e){this.projectId=t,this.database=e||yh}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===yh}isEqual(t){return t instanceof $u&&t.projectId===this.projectId&&t.database===this.database}}function iC(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Tt(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(s.options.projectId,t)}const rC="__type__",sC="__max__",Kf={mapValue:{}},aC="__vector__",qp="value";function Zs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Og(s)?4:lC(s)?9007199254740991:oC(s)?10:11:It(28295,{value:s})}function cr(s,t){if(s===t)return!0;const e=Zs(s);if(e!==Zs(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Xu(s).isEqual(Xu(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Xs(a.timestampValue),f=Xs(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(a,o){return $s(a.bytesValue).isEqual($s(o.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(a,o){return be(a.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(a.geoPointValue.longitude)===be(o.geoPointValue.longitude)})(s,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return be(a.integerValue)===be(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=be(a.doubleValue),f=be(o.doubleValue);return u===f?Hp(u)===Hp(f):isNaN(u)&&isNaN(f)}return!1})(s,t);case 9:return fl(s.arrayValue.values||[],t.arrayValue.values||[],cr);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},f=o.mapValue.fields||{};if(A1(u)!==A1(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!cr(u[h],f[h])))return!1;return!0})(s,t);default:return It(52216,{left:s})}}function Zu(s,t){return(s.values||[]).find((e=>cr(e,t)))!==void 0}function hl(s,t){if(s===t)return 0;const e=Zs(s),i=Zs(t);if(e!==i)return Bt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Bt(s.booleanValue,t.booleanValue);case 2:return(function(o,u){const f=be(o.integerValue||o.doubleValue),h=be(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(s,t);case 3:return w1(s.timestampValue,t.timestampValue);case 4:return w1(Xu(s),Xu(t));case 5:return Fp(s.stringValue,t.stringValue);case 6:return(function(o,u){const f=$s(o),h=$s(u);return f.compareTo(h)})(s.bytesValue,t.bytesValue);case 7:return(function(o,u){const f=o.split("/"),h=u.split("/");for(let d=0;d<f.length&&d<h.length;d++){const m=Bt(f[d],h[d]);if(m!==0)return m}return Bt(f.length,h.length)})(s.referenceValue,t.referenceValue);case 8:return(function(o,u){const f=Bt(be(o.latitude),be(u.latitude));return f!==0?f:Bt(be(o.longitude),be(u.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return b1(s.arrayValue,t.arrayValue);case 10:return(function(o,u){const f=o.fields||{},h=u.fields||{},d=f[qp]?.arrayValue,m=h[qp]?.arrayValue,v=Bt(d?.values?.length||0,m?.values?.length||0);return v!==0?v:b1(d,m)})(s.mapValue,t.mapValue);case 11:return(function(o,u){if(o===Kf.mapValue&&u===Kf.mapValue)return 0;if(o===Kf.mapValue)return 1;if(u===Kf.mapValue)return-1;const f=o.fields||{},h=Object.keys(f),d=u.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){const T=Fp(h[v],m[v]);if(T!==0)return T;const y=hl(f[h[v]],d[m[v]]);if(y!==0)return y}return Bt(h.length,m.length)})(s.mapValue,t.mapValue);default:throw It(23264,{he:e})}}function w1(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Bt(s,t);const e=Xs(s),i=Xs(t),a=Bt(e.seconds,i.seconds);return a!==0?a:Bt(e.nanos,i.nanos)}function b1(s,t){const e=s.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const o=hl(e[a],i[a]);if(o)return o}return Bt(e.length,i.length)}function dl(s){return Gp(s)}function Gp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(e){const i=Xs(e);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(e){return $s(e).toBase64()})(s.bytesValue):"referenceValue"in s?(function(e){return At.fromName(e).toString()})(s.referenceValue):"geoPointValue"in s?(function(e){return`geo(${e.latitude},${e.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(e){let i="[",a=!0;for(const o of e.values||[])a?a=!1:i+=",",i+=Gp(o);return i+"]"})(s.arrayValue):"mapValue"in s?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const u of i)o?o=!1:a+=",",a+=`${u}:${Gp(e.fields[u])}`;return a+"}"})(s.mapValue):It(61005,{value:s})}function ih(s){switch(Zs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qh(s);return t?16+ih(t):16;case 5:return 2*s.stringValue.length;case 6:return $s(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+ih(o)),0)})(s.arrayValue);case 10:case 11:return(function(i){let a=0;return cc(i.fields,((o,u)=>{a+=o.length+ih(u)})),a})(s.mapValue);default:throw It(13486,{value:s})}}function Yp(s){return!!s&&"integerValue"in s}function Ng(s){return!!s&&"arrayValue"in s}function R1(s){return!!s&&"nullValue"in s}function C1(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function yp(s){return!!s&&"mapValue"in s}function oC(s){return(s?.mapValue?.fields||{})[rC]?.stringValue===aC}function zu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return cc(s.mapValue.fields,((e,i)=>t.mapValue.fields[e]=zu(i))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(s.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=zu(s.arrayValue.values[e]);return t}return{...s}}function lC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===sC}class nr{constructor(t){this.value=t}static empty(){return new nr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!yp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=zu(e)}setAll(t){let e=_n.emptyPath(),i={},a=[];t.forEach(((u,f)=>{if(!e.isImmediateParentOf(f)){const h=this.getFieldsMap(e);this.applyChanges(h,i,a),i={},a=[],e=f.popLast()}u?i[f.lastSegment()]=zu(u):a.push(f.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,a)}delete(t){const e=this.field(t.popLast());yp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return cr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];yp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){cc(e,((a,o)=>t[a]=o));for(const a of i)delete t[a]}clone(){return new nr(zu(this.value))}}class fn{constructor(t,e,i,a,o,u,f){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(t){return new fn(t,0,Ct.min(),Ct.min(),Ct.min(),nr.empty(),0)}static newFoundDocument(t,e,i,a){return new fn(t,1,e,Ct.min(),i,a,0)}static newNoDocument(t,e){return new fn(t,2,e,Ct.min(),Ct.min(),nr.empty(),0)}static newUnknownDocument(t,e){return new fn(t,3,e,Ct.min(),Ct.min(),nr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _h{constructor(t,e){this.position=t,this.inclusive=e}}function I1(s,t,e){let i=0;for(let a=0;a<s.position.length;a++){const o=t[a],u=s.position[a];if(o.field.isKeyField()?i=At.comparator(At.fromName(u.referenceValue),e.key):i=hl(u,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function M1(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let e=0;e<s.position.length;e++)if(!cr(s.position[e],t.position[e]))return!1;return!0}class vh{constructor(t,e="asc"){this.field=t,this.dir=e}}function uC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class kE{}class Fe extends kE{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new fC(t,e,i):e==="array-contains"?new mC(t,i):e==="in"?new pC(t,i):e==="not-in"?new gC(t,i):e==="array-contains-any"?new yC(t,i):new Fe(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new hC(t,i):new dC(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(hl(e,this.value)):e!==null&&Zs(this.value)===Zs(e)&&this.matchesComparison(hl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return It(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends kE{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new fr(t,e)}matches(t){return LE(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(s){return s.op==="and"}function UE(s){return cC(s)&&LE(s)}function cC(s){for(const t of s.filters)if(t instanceof fr)return!1;return!0}function Qp(s){if(s instanceof Fe)return s.field.canonicalString()+s.op.toString()+dl(s.value);if(UE(s))return s.filters.map((t=>Qp(t))).join(",");{const t=s.filters.map((e=>Qp(e))).join(",");return`${s.op}(${t})`}}function zE(s,t){return s instanceof Fe?(function(i,a){return a instanceof Fe&&i.op===a.op&&i.field.isEqual(a.field)&&cr(i.value,a.value)})(s,t):s instanceof fr?(function(i,a){return a instanceof fr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,u,f)=>o&&zE(u,a.filters[f])),!0):!1})(s,t):void It(19439)}function BE(s){return s instanceof Fe?(function(e){return`${e.field.canonicalString()} ${e.op} ${dl(e.value)}`})(s):s instanceof fr?(function(e){return e.op.toString()+" {"+e.getFilters().map(BE).join(" ,")+"}"})(s):"Filter"}class fC extends Fe{constructor(t,e,i){super(t,e,i),this.key=At.fromName(i.referenceValue)}matches(t){const e=At.comparator(t.key,this.key);return this.matchesComparison(e)}}class hC extends Fe{constructor(t,e){super(t,"in",e),this.keys=jE("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class dC extends Fe{constructor(t,e){super(t,"not-in",e),this.keys=jE("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function jE(s,t){return(t.arrayValue?.values||[]).map((e=>At.fromName(e.referenceValue)))}class mC extends Fe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ng(e)&&Zu(e.arrayValue,this.value)}}class pC extends Fe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Zu(this.value.arrayValue,e)}}class gC extends Fe{constructor(t,e){super(t,"not-in",e)}matches(t){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Zu(this.value.arrayValue,e)}}class yC extends Fe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ng(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Zu(this.value.arrayValue,i)))}}class _C{constructor(t,e=null,i=[],a=[],o=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=f,this.Te=null}}function D1(s,t=null,e=[],i=[],a=null,o=null,u=null){return new _C(s,t,e,i,a,o,u)}function Pg(s){const t=Ht(s);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Qp(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Yh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>dl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>dl(i))).join(",")),t.Te=e}return t.Te}function Vg(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<s.orderBy.length;e++)if(!uC(s.orderBy[e],t.orderBy[e]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let e=0;e<s.filters.length;e++)if(!zE(s.filters[e],t.filters[e]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!M1(s.startAt,t.startAt)&&M1(s.endAt,t.endAt)}function Kp(s){return At.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Kh{constructor(t,e=null,i=[],a=[],o=null,u="F",f=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function vC(s,t,e,i,a,o,u,f){return new Kh(s,t,e,i,a,o,u,f)}function kg(s){return new Kh(s)}function O1(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function TC(s){return At.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function EC(s){return s.collectionGroup!==null}function Bu(s){const t=Ht(s);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new He(_n.comparator);return u.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new vh(o,i))})),e.has(_n.keyField().canonicalString())||t.Ie.push(new vh(_n.keyField(),i))}return t.Ie}function or(s){const t=Ht(s);return t.Ee||(t.Ee=SC(t,Bu(s))),t.Ee}function SC(s,t){if(s.limitType==="F")return D1(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new vh(a.field,o)}));const e=s.endAt?new _h(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new _h(s.startAt.position,s.startAt.inclusive):null;return D1(s.path,s.collectionGroup,t,s.filters,s.limit,e,i)}}function Xp(s,t,e){return new Kh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,e,s.startAt,s.endAt)}function Xh(s,t){return Vg(or(s),or(t))&&s.limitType===t.limitType}function FE(s){return`${Pg(or(s))}|lt:${s.limitType}`}function Ko(s){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>BE(a))).join(", ")}]`),Yh(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>dl(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>dl(a))).join(",")),`Target(${i})`})(or(s))}; limitType=${s.limitType})`}function $h(s,t){return t.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):At.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(s,t)&&(function(i,a){for(const o of Bu(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(s,t)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(s,t)&&(function(i,a){return!(i.startAt&&!(function(u,f,h){const d=I1(u,f,h);return u.inclusive?d<=0:d<0})(i.startAt,Bu(i),a)||i.endAt&&!(function(u,f,h){const d=I1(u,f,h);return u.inclusive?d>=0:d>0})(i.endAt,Bu(i),a))})(s,t)}function AC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function HE(s){return(t,e)=>{let i=!1;for(const a of Bu(s)){const o=xC(a,t,e);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function xC(s,t,e){const i=s.field.isKeyField()?At.comparator(t.key,e.key):(function(o,u,f){const h=u.data.field(o),d=f.data.field(o);return h!==null&&d!==null?hl(h,d):It(42886)})(s.field,t,e);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return It(19790,{direction:s.dir})}}class eo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){cc(this.inner,((e,i)=>{for(const[a,o]of i)t(a,o)}))}isEmpty(){return tC(this.inner)}size(){return this.innerSize}}const wC=new Ce(At.comparator);function Js(){return wC}const qE=new Ce(At.comparator);function Nu(...s){let t=qE;for(const e of s)t=t.insert(e.key,e);return t}function bC(s){let t=qE;return s.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function za(){return ju()}function GE(){return ju()}function ju(){return new eo((s=>s.toString()),((s,t)=>s.isEqual(t)))}const RC=new He(At.comparator);function qt(...s){let t=RC;for(const e of s)t=t.add(e);return t}const CC=new He(Bt);function IC(){return CC}function MC(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hp(t)?"-0":t}}function DC(s){return{integerValue:""+s}}class Zh{constructor(){this._=void 0}}function OC(s,t,e){return s instanceof $p?(function(a,o){const u={fields:{[NE]:{stringValue:OE},[VE]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Og(o)&&(o=Qh(o)),o&&(u.fields[PE]=o),{mapValue:u}})(e,t):s instanceof Th?YE(s,t):s instanceof Eh?QE(s,t):(function(a,o){const u=PC(a,o),f=N1(u)+N1(a.Ae);return Yp(u)&&Yp(a.Ae)?DC(f):MC(a.serializer,f)})(s,t)}function NC(s,t,e){return s instanceof Th?YE(s,t):s instanceof Eh?QE(s,t):e}function PC(s,t){return s instanceof Zp?(function(i){return Yp(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class $p extends Zh{}class Th extends Zh{constructor(t){super(),this.elements=t}}function YE(s,t){const e=KE(t);for(const i of s.elements)e.some((a=>cr(a,i)))||e.push(i);return{arrayValue:{values:e}}}class Eh extends Zh{constructor(t){super(),this.elements=t}}function QE(s,t){let e=KE(t);for(const i of s.elements)e=e.filter((a=>!cr(a,i)));return{arrayValue:{values:e}}}class Zp extends Zh{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function N1(s){return be(s.integerValue||s.doubleValue)}function KE(s){return Ng(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function VC(s,t){return s.field.isEqual(t.field)&&(function(i,a){return i instanceof Th&&a instanceof Th||i instanceof Eh&&a instanceof Eh?fl(i.elements,a.elements,cr):i instanceof Zp&&a instanceof Zp?cr(i.Ae,a.Ae):i instanceof $p&&a instanceof $p})(s.transform,t.transform)}class ja{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ja}static exists(t){return new ja(void 0,t)}static updateTime(t){return new ja(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function rh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Lg{}function XE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new LC(s.key,ja.none()):new Ug(s.key,s.data,ja.none());{const e=s.data,i=nr.empty();let a=new He(_n.comparator);for(let o of t.fields)if(!a.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?i.delete(o):i.set(o,u),a=a.add(o)}return new Jh(s.key,i,new Ps(a.toArray()),ja.none())}}function kC(s,t,e){s instanceof Ug?(function(a,o,u){const f=a.value.clone(),h=V1(a.fieldTransforms,o,u.transformResults);f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(s,t,e):s instanceof Jh?(function(a,o,u){if(!rh(a.precondition,o))return void o.convertToUnknownDocument(u.version);const f=V1(a.fieldTransforms,o,u.transformResults),h=o.data;h.setAll($E(a)),h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(s,t,e):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function Fu(s,t,e,i){return s instanceof Ug?(function(o,u,f,h){if(!rh(o.precondition,u))return f;const d=o.value.clone(),m=k1(o.fieldTransforms,h,u);return d.setAll(m),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(s,t,e,i):s instanceof Jh?(function(o,u,f,h){if(!rh(o.precondition,u))return f;const d=k1(o.fieldTransforms,h,u),m=u.data;return m.setAll($E(o)),m.setAll(d),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(s,t,e,i):(function(o,u,f){return rh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(s,t,e)}function P1(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&fl(i,a,((o,u)=>VC(o,u)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ug extends Lg{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Jh extends Lg{constructor(t,e,i,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $E(s){const t=new Map;return s.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=s.data.field(e);t.set(e,i)}})),t}function V1(s,t,e){const i=new Map;ge(s.length===e.length,32656,{Ve:e.length,de:s.length});for(let a=0;a<e.length;a++){const o=s[a],u=o.transform,f=t.data.field(o.field);i.set(o.field,NC(u,f,e[a]))}return i}function k1(s,t,e){const i=new Map;for(const a of s){const o=a.transform,u=e.data.field(a.field);i.set(a.field,OC(o,u,t))}return i}class LC extends Lg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UC{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&kC(o,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Fu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Fu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=GE();return this.mutations.forEach((a=>{const o=t.get(a.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=e.has(a.key)?null:f;const h=XE(u,f);h!==null&&i.set(a.key,h),u.isValidDocument()||u.convertToNoDocument(Ct.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),qt())}isEqual(t){return this.batchId===t.batchId&&fl(this.mutations,t.mutations,((e,i)=>P1(e,i)))&&fl(this.baseMutations,t.baseMutations,((e,i)=>P1(e,i)))}}class zC{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BC{constructor(t,e){this.count=t,this.unchangedNames=e}}var Le,Ft;function ZE(s){if(s===void 0)return Fr("GRPC error has no .code"),ht.UNKNOWN;switch(s){case Le.OK:return ht.OK;case Le.CANCELLED:return ht.CANCELLED;case Le.UNKNOWN:return ht.UNKNOWN;case Le.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case Le.INTERNAL:return ht.INTERNAL;case Le.UNAVAILABLE:return ht.UNAVAILABLE;case Le.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case Le.NOT_FOUND:return ht.NOT_FOUND;case Le.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case Le.ABORTED:return ht.ABORTED;case Le.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case Le.DATA_LOSS:return ht.DATA_LOSS;default:return It(39323,{code:s})}}(Ft=Le||(Le={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";function jC(){return new TextEncoder}const FC=new js([4294967295,4294967295],0);function L1(s){const t=jC().encode(s),e=new EE;return e.update(t),new Uint8Array(e.digest())}function U1(s){const t=new DataView(s.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new js([e,i],0),new js([a,o],0)]}class zg{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Pu(`Invalid padding: ${e}`);if(i<0)throw new Pu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Pu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Pu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=js.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(js.fromNumber(i)));return a.compare(FC)===1&&(a=new js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=L1(t),[i,a]=U1(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);if(!this.we(u))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new zg(o,a,e);return i.forEach((f=>u.insert(f))),u}insert(t){if(this.ge===0)return;const e=L1(t),[i,a]=U1(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);this.be(u)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wh{constructor(t,e,i,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,fc.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Wh(Ct.min(),a,new Ce(Bt),Js(),qt())}}class fc{constructor(t,e,i,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new fc(i,e,qt(),qt(),qt())}}class sh{constructor(t,e,i,a){this.Se=t,this.removedTargetIds=e,this.key=i,this.De=a}}class JE{constructor(t,e){this.targetId=t,this.Ce=e}}class WE{constructor(t,e,i=on.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class z1{constructor(){this.ve=0,this.Fe=B1(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),e=qt(),i=qt();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:It(38017,{changeType:o})}})),new fc(this.Me,this.xe,t,e,i)}Ke(){this.Oe=!1,this.Fe=B1()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class HC{constructor(t){this.Ge=t,this.ze=new Map,this.je=Js(),this.He=Xf(),this.Je=Xf(),this.Ze=new Ce(Bt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:It(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(Kp(o))if(i===0){const u=new At(o.path);this.et(e,u,fn.newNoDocument(u,Ct.min()))}else ge(i===1,20013,{expectedCount:i});else{const u=this._t(e);if(u!==i){const f=this.ut(t),h=f?this.ct(f,t,u):1;if(h!==0){this.it(e);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=e;let u,f;try{u=$s(i).toUint8Array()}catch(h){if(h instanceof DE)return Za("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new zg(u,a,o)}catch(h){return Za(h instanceof Pu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((o=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(f)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,u)=>{const f=this.ot(u);if(f){if(o.current&&Kp(f.target)){const h=new At(f.target.path);this.It(h).has(u)||this.Et(u,h)||this.et(u,h,fn.newNoDocument(h,t))}o.Be&&(e.set(u,o.ke()),o.Ke())}}));let i=qt();this.Je.forEach(((o,u)=>{let f=!0;u.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(t)));const a=new Wh(t,e,this.Ze,this.je,i);return this.je=Js(),this.He=Xf(),this.Je=Xf(),this.Ze=new Ce(Bt),a}Ye(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,i),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new z1,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new He(Bt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new He(Bt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||gt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new z1),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Xf(){return new Ce(At.comparator)}function B1(){return new Ce(At.comparator)}const qC={asc:"ASCENDING",desc:"DESCENDING"},GC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YC={and:"AND",or:"OR"};class QC{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Jp(s,t){return s.useProto3Json||Yh(t)?t:{value:t}}function KC(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XC(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function el(s){return ge(!!s,49232),Ct.fromTimestamp((function(e){const i=Xs(e);return new ze(i.seconds,i.nanos)})(s))}function $C(s,t){return Wp(s,t).canonicalString()}function Wp(s,t){const e=(function(a){return new ue(["projects",a.projectId,"databases",a.database])})(s).child("documents");return t===void 0?e:e.child(t)}function tS(s){const t=ue.fromString(s);return ge(sS(t),10190,{key:t.toString()}),t}function _p(s,t){const e=tS(t);if(e.get(1)!==s.databaseId.projectId)throw new Tt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+s.databaseId.projectId);if(e.get(3)!==s.databaseId.database)throw new Tt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+s.databaseId.database);return new At(nS(e))}function eS(s,t){return $C(s.databaseId,t)}function ZC(s){const t=tS(s);return t.length===4?ue.emptyPath():nS(t)}function j1(s){return new ue(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function nS(s){return ge(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function JC(s,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:It(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(d,m){return d.useProto3Json?(ge(m===void 0||typeof m=="string",58123),on.fromBase64String(m||"")):(ge(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),on.fromUint8Array(m||new Uint8Array))})(s,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&(function(d){const m=d.code===void 0?ht.UNKNOWN:ZE(d.code);return new Tt(m,d.message||"")})(u);e=new WE(i,a,o,f||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=_p(s,i.document.name),o=el(i.document.updateTime),u=i.document.createTime?el(i.document.createTime):Ct.min(),f=new nr({mapValue:{fields:i.document.fields}}),h=fn.newFoundDocument(a,o,u,f),d=i.targetIds||[],m=i.removedTargetIds||[];e=new sh(d,m,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=_p(s,i.document),o=i.readTime?el(i.readTime):Ct.min(),u=fn.newNoDocument(a,o),f=i.removedTargetIds||[];e=new sh([],f,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=_p(s,i.document),o=i.removedTargetIds||[];e=new sh([],o,a,null)}else{if(!("filter"in t))return It(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,u=new BC(a,o),f=i.targetId;e=new JE(f,u)}}return e}function WC(s,t){return{documents:[eS(s,t.path)]}}function t2(s,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=eS(s,a);const o=(function(d){if(d.length!==0)return rS(fr.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((m=>(function(T){return{field:Xo(T.field),direction:i2(T.dir)}})(m)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const f=Jp(s,t.limit);return f!==null&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:a}}function e2(s){let t=ZC(s.parent);const e=s.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){ge(i===1,65062);const m=e.from[0];m.allDescendants?a=m.collectionId:t=t.child(m.collectionId)}let o=[];e.where&&(o=(function(v){const T=iS(v);return T instanceof fr&&UE(T)?T.getFilters():[T]})(e.where));let u=[];e.orderBy&&(u=(function(v){return v.map((T=>(function(S){return new vh($o(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(T)))})(e.orderBy));let f=null;e.limit&&(f=(function(v){let T;return T=typeof v=="object"?v.value:v,Yh(T)?null:T})(e.limit));let h=null;e.startAt&&(h=(function(v){const T=!!v.before,y=v.values||[];return new _h(y,T)})(e.startAt));let d=null;return e.endAt&&(d=(function(v){const T=!v.before,y=v.values||[];return new _h(y,T)})(e.endAt)),vC(t,a,u,o,f,"F",h,d)}function n2(s,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function iS(s){return s.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=$o(e.unaryFilter.field);return Fe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=$o(e.unaryFilter.field);return Fe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$o(e.unaryFilter.field);return Fe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=$o(e.unaryFilter.field);return Fe.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return It(61313);default:return It(60726)}})(s):s.fieldFilter!==void 0?(function(e){return Fe.create($o(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return It(58110);default:return It(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(e){return fr.create(e.compositeFilter.filters.map((i=>iS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return It(1026)}})(e.compositeFilter.op))})(s):It(30097,{filter:s})}function i2(s){return qC[s]}function r2(s){return GC[s]}function s2(s){return YC[s]}function Xo(s){return{fieldPath:s.canonicalString()}}function $o(s){return _n.fromServerFormat(s.fieldPath)}function rS(s){return s instanceof Fe?(function(e){if(e.op==="=="){if(C1(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NAN"}};if(R1(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(C1(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NOT_NAN"}};if(R1(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(e.field),op:r2(e.op),value:e.value}}})(s):s instanceof fr?(function(e){const i=e.getFilters().map((a=>rS(a)));return i.length===1?i[0]:{compositeFilter:{op:s2(e.op),filters:i}}})(s):It(54877,{filter:s})}function sS(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Vs{constructor(t,e,i,a,o=Ct.min(),u=Ct.min(),f=on.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(t){return new Vs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class a2{constructor(t){this.yt=t}}function o2(s){const t=e2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Xp(t,t.limit,"L"):t}class l2{constructor(){this.Sn=new u2}addToCollectionParentIndex(t,e){return this.Sn.add(e),ot.resolve()}getCollectionParents(t,e){return ot.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return ot.resolve()}deleteFieldIndex(t,e){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,e){return ot.resolve()}getDocumentsMatchingTarget(t,e){return ot.resolve(null)}getIndexType(t,e){return ot.resolve(0)}getFieldIndexes(t,e){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,e){return ot.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,e){return ot.resolve(Ks.min())}updateCollectionGroup(t,e,i){return ot.resolve()}updateIndexEntries(t,e){return ot.resolve()}}class u2{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new He(ue.comparator),o=!a.has(i);return this.index[e]=a.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new He(ue.comparator)).toArray()}}const F1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aS=41943040;class Rn{static withCacheSize(t){return new Rn(t,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(aS,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class ml{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ml(0)}static ar(){return new ml(-1)}}const H1="LruGarbageCollector",c2=1048576;function q1([s,t],[e,i]){const a=Bt(s,e);return a===0?Bt(t,i):a}class f2{constructor(t){this.Pr=t,this.buffer=new He(q1),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();q1(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class h2{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){gt(H1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){wl(e)?gt(H1,"Ignoring IndexedDB error during garbage collection: ",e):await qh(e)}await this.Ar(3e5)}))}}class d2{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return ot.resolve(Gh.ce);const i=new f2(e);return this.Vr.forEachTarget(t,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(F1)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F1):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let i,a,o,u,f,h,d;const m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,f=Date.now(),this.removeTargets(t,i,e)))).next((v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(d=Date.now(),Qo()<=Ut.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${o} targets in `+(h-f)+`ms
	Removed ${v} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function m2(s,t){return new d2(s,t)}class p2{constructor(){this.changes=new eo((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,fn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ot.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class g2{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class y2{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&Fu(i.mutation,a,Ps.empty(),ze.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,qt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=qt()){const a=za();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((o=>{let u=Nu();return o.forEach(((f,h)=>{u=u.insert(f,h.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const i=za();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,qt())))}populateOverlays(t,e,i){const a=[];return i.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((u,f)=>{e.set(u,f)}))}))}computeViews(t,e,i,a){let o=Js();const u=ju(),f=(function(){return ju()})();return e.forEach(((h,d)=>{const m=i.get(d.key);a.has(d.key)&&(m===void 0||m.mutation instanceof Jh)?o=o.insert(d.key,d):m!==void 0?(u.set(d.key,m.mutation.getFieldMask()),Fu(m.mutation,d,m.mutation.getFieldMask(),ze.now())):u.set(d.key,Ps.empty())})),this.recalculateAndSaveOverlays(t,o).next((h=>(h.forEach(((d,m)=>u.set(d,m))),e.forEach(((d,m)=>f.set(d,new g2(m,u.get(d)??null)))),f)))}recalculateAndSaveOverlays(t,e){const i=ju();let a=new Ce(((u,f)=>u-f)),o=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const f of u)f.keys().forEach((h=>{const d=e.get(h);if(d===null)return;let m=i.get(h)||Ps.empty();m=f.applyToLocalView(d,m),i.set(h,m);const v=(a.get(f.batchId)||qt()).add(h);a=a.insert(f.batchId,v)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),d=h.key,m=h.value,v=GE();m.forEach((T=>{if(!o.has(T)){const y=XE(e.get(T),i.get(T));y!==null&&v.set(T,y),o=o.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(t,d,v))}return ot.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return TC(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):EC(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-o.size):ot.resolve(za());let f=Ku,h=o;return u.next((d=>ot.forEach(d,((m,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),o.get(m)?ot.resolve():this.remoteDocumentCache.getEntry(t,m).next((T=>{h=h.insert(m,T)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,h,d,qt()))).next((m=>({batchId:f,changes:bC(m)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new At(e)).next((i=>{let a=Nu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const o=e.collectionGroup;let u=Nu();return this.indexManager.getCollectionParents(t,o).next((f=>ot.forEach(f,(h=>{const d=(function(v,T){return new Kh(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,h.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,a).next((m=>{m.forEach(((v,T)=>{u=u.insert(v,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,a)))).next((u=>{o.forEach(((h,d)=>{const m=d.getKey();u.get(m)===null&&(u=u.insert(m,fn.newInvalidDocument(m)))}));let f=Nu();return u.forEach(((h,d)=>{const m=o.get(h);m!==void 0&&Fu(m.mutation,d,Ps.empty(),ze.now()),$h(e,d)&&(f=f.insert(h,d))})),f}))}}class _2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return ot.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:el(a.createTime)}})(e)),ot.resolve()}getNamedQuery(t,e){return ot.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:o2(a.bundledQuery),readTime:el(a.readTime)}})(e)),ot.resolve()}}class v2{constructor(){this.overlays=new Ce(At.comparator),this.Lr=new Map}getOverlay(t,e){return ot.resolve(this.overlays.get(e))}getOverlays(t,e){const i=za();return ot.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,o)=>{this.bt(t,e,o)})),ot.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),ot.resolve()}getOverlaysForCollection(t,e,i){const a=za(),o=e.length+1,u=new At(e.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,d=h.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>i&&a.set(h.getKey(),h)}return ot.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let o=new Ce(((d,m)=>d-m));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let m=o.get(d.largestBatchId);m===null&&(m=za(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const f=za(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,m)=>f.set(d,m))),!(f.size()>=a)););return ot.resolve(f)}bt(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new zC(e,i));let o=this.Lr.get(e);o===void 0&&(o=qt(),this.Lr.set(e,o)),this.Lr.set(e,o.add(i.key))}}class T2{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ot.resolve()}}class Bg{constructor(){this.kr=new He(Xe.Kr),this.qr=new He(Xe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const i=new Xe(t,e);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new Xe(t,e))}Qr(t,e){t.forEach((i=>this.removeReference(i,e)))}Gr(t){const e=new At(new ue([])),i=new Xe(e,t),a=new Xe(e,t+1),o=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),o.push(u.key)})),o}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new At(new ue([])),i=new Xe(e,t),a=new Xe(e,t+1);let o=qt();return this.qr.forEachInRange([i,a],(u=>{o=o.add(u.key)})),o}containsKey(t){const e=new Xe(t,0),i=this.kr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Xe{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return At.comparator(t.key,e.key)||Bt(t.Hr,e.Hr)}static Ur(t,e){return Bt(t.Hr,e.Hr)||At.comparator(t.key,e.key)}}class E2{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new He(Xe.Kr)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new UC(o,e,i,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new Xe(f.key,o)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return ot.resolve(u)}lookupMutationBatch(t,e){return ot.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.Xr(i),o=a<0?0:a;return ot.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?ZR:this.Yn-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Xe(e,0),a=new Xe(e,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,a],(u=>{const f=this.Zr(u.Hr);o.push(f)})),ot.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new He(Bt);return e.forEach((a=>{const o=new Xe(a,0),u=new Xe(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,u],(f=>{i=i.add(f.Hr)}))})),ot.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let o=i;At.isDocumentKey(o)||(o=o.child(""));const u=new Xe(new At(o),0);let f=new He(Bt);return this.Jr.forEachWhile((h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===a&&(f=f.add(h.Hr)),!0)}),u),ot.resolve(this.Yr(f))}Yr(t){const e=[];return t.forEach((i=>{const a=this.Zr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){ge(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ot.forEach(e.mutations,(a=>{const o=new Xe(a.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,e){const i=new Xe(e,0),a=this.Jr.firstAfterOrEqual(i);return ot.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class S2{constructor(t){this.ti=t,this.docs=(function(){return new Ce(At.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),o=a?a.size:0,u=this.ti(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ot.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(e))}getEntries(t,e){let i=Js();return e.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():fn.newInvalidDocument(a))})),ot.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let o=Js();const u=e.path,f=new At(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||QR(YR(m),i)<=0||(a.has(m.key)||$h(e,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ot.resolve(o)}getAllFromCollectionGroup(t,e,i,a){It(9500)}ni(t,e){return ot.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new A2(this)}getSize(t){return ot.resolve(this.size)}}class A2 extends p2{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(i)})),ot.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class x2{constructor(t){this.persistence=t,this.ri=new eo((e=>Pg(e)),Vg),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.ii=0,this.si=new Bg,this.targetCount=0,this.oi=ml._r()}forEachTarget(t,e){return this.ri.forEach(((i,a)=>e(a))),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ii&&(this.ii=e),ot.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new ml(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,ot.resolve()}updateTargetData(t,e){return this.lr(e),ot.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,e,i){let a=0;const o=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=e&&i.get(f.targetId)===null&&(this.ri.delete(u),o.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)})),ot.waitFor(o).next((()=>a))}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,e){const i=this.ri.get(e)||null;return ot.resolve(i)}addMatchingKeys(t,e,i){return this.si.$r(e,i),ot.resolve()}removeMatchingKeys(t,e,i){this.si.Qr(e,i);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((u=>{o.push(a.markPotentiallyOrphaned(t,u))})),ot.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),ot.resolve()}getMatchingKeysForTargetId(t,e){const i=this.si.jr(e);return ot.resolve(i)}containsKey(t,e){return ot.resolve(this.si.containsKey(e))}}class oS{constructor(t,e){this._i={},this.overlays={},this.ai=new Gh(0),this.ui=!1,this.ui=!0,this.ci=new T2,this.referenceDelegate=t(this),this.li=new x2(this),this.indexManager=new l2,this.remoteDocumentCache=(function(a){return new S2(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new a2(e),this.Pi=new _2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new v2,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this._i[t.toKey()];return i||(i=new E2(e,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,i){gt("MemoryPersistence","Starting transaction:",t);const a=new w2(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(t,e){return ot.or(Object.values(this._i).map((i=>()=>i.containsKey(t,e))))}}class w2 extends XR{constructor(t){super(),this.currentSequenceNumber=t}}class jg{constructor(t){this.persistence=t,this.Ri=new Bg,this.Ai=null}static Vi(t){return new jg(t)}get di(){if(this.Ai)return this.Ai;throw It(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.di.delete(i.toString()),ot.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.di.add(i.toString()),ot.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),ot.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.di,(i=>{const a=At.fromPath(i);return this.mi(t,a).next((o=>{o||e.removeEntry(a,Ct.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return ot.or([()=>ot.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Sh{constructor(t,e){this.persistence=t,this.fi=new eo((i=>JR(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=m2(this,e)}static Vi(t,e){return new Sh(t,e)}Ti(){}Ii(t){return ot.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}mr(t,e){return ot.forEach(this.fi,((i,a)=>this.wr(t,i,a).next((o=>o?ot.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(t,(u=>this.wr(t,u,e).next((f=>{f||(i++,o.removeEntry(u,Ct.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),ot.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),ot.resolve()}removeReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),ot.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=ih(t.data.value)),e}wr(t,e,i){return ot.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return ot.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fg{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Ts=i,this.Is=a}static Es(t,e){let i=qt(),a=qt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Fg(t,e.fromCache,i,a)}}class b2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class R2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return db()?8:$R(pn())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const o={result:null};return this.gs(t,e).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ps(t,e,a,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new b2;return this.ys(t,e,u).next((f=>{if(o.result=f,this.As)return this.ws(t,e,u,f.size)}))})).next((()=>o.result))}ws(t,e,i,a){return i.documentReadCount<this.Vs?(Qo()<=Ut.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",Ko(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ot.resolve()):(Qo()<=Ut.DEBUG&&gt("QueryEngine","Query:",Ko(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Qo()<=Ut.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",Ko(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,or(e))):ot.resolve())}gs(t,e){if(O1(e))return ot.resolve(null);let i=or(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Xp(e,null,"F"),i=or(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const u=qt(...o);return this.fs.getDocuments(t,u).next((f=>this.indexManager.getMinOffset(t,i).next((h=>{const d=this.bs(e,f);return this.Ss(e,d,u,h.readTime)?this.gs(t,Xp(e,null,"F")):this.Ds(t,d,e,h)}))))})))))}ps(t,e,i,a){return O1(e)||a.isEqual(Ct.min())?ot.resolve(null):this.fs.getDocuments(t,i).next((o=>{const u=this.bs(e,o);return this.Ss(e,u,i,a)?ot.resolve(null):(Qo()<=Ut.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ko(e)),this.Ds(t,u,e,GR(a,Ku)).next((f=>f)))}))}bs(t,e){let i=new He(HE(t));return e.forEach(((a,o)=>{$h(t,o)&&(i=i.add(o))})),i}Ss(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(t,e,i){return Qo()<=Ut.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Ko(e)),this.fs.getDocumentsMatchingQuery(t,e,Ks.min(),i)}Ds(t,e,i,a){return this.fs.getDocumentsMatchingQuery(t,i,a).next((o=>(e.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const Hg="LocalStore",C2=3e8;class I2{constructor(t,e,i,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new Ce(Bt),this.Fs=new eo((o=>Pg(o)),Vg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new y2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function M2(s,t,e,i){return new I2(s,t,e,i)}async function lS(s,t){const e=Ht(s);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,e.Os(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],f=[];let h=qt();for(const d of a){u.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of o){f.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return e.localDocuments.getDocuments(i,h).next((d=>({Ns:d,removedBatchIds:u,addedBatchIds:f})))}))}))}function uS(s){const t=Ht(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function D2(s,t){const e=Ht(s),i=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const f=[];t.targetChanges.forEach(((m,v)=>{const T=a.get(v);if(!T)return;f.push(e.li.removeMatchingKeys(o,m.removedDocuments,v).next((()=>e.li.addMatchingKeys(o,m.addedDocuments,v))));let y=T.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?y=y.withResumeToken(on.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):m.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(m.resumeToken,i)),a=a.insert(v,y),(function(E,A,O){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=C2?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(T,y,m)&&f.push(e.li.updateTargetData(o,y))}));let h=Js(),d=qt();if(t.documentUpdates.forEach((m=>{t.resolvedLimboDocuments.has(m)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(o,m))})),f.push(O2(o,u,t.documentUpdates).next((m=>{h=m.Bs,d=m.Ls}))),!i.isEqual(Ct.min())){const m=e.li.getLastRemoteSnapshotVersion(o).next((v=>e.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));f.push(m)}return ot.waitFor(f).next((()=>u.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,h,d))).next((()=>h))})).then((o=>(e.vs=a,o)))}function O2(s,t,e){let i=qt(),a=qt();return e.forEach((o=>i=i.add(o))),t.getEntries(s,i).next((o=>{let u=Js();return e.forEach(((f,h)=>{const d=o.get(f);h.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(f)),h.isNoDocument()&&h.version.isEqual(Ct.min())?(t.removeEntry(f,h.readTime),u=u.insert(f,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h),u=u.insert(f,h)):gt(Hg,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",h.version)})),{Bs:u,Ls:a}}))}function N2(s,t){const e=Ht(s);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.li.getTargetData(i,t).next((o=>o?(a=o,ot.resolve(a)):e.li.allocateTargetId(i).next((u=>(a=new Vs(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(i.targetId,i),e.Fs.set(t,i.targetId)),i}))}async function tg(s,t,e){const i=Ht(s),a=i.vs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!wl(u))throw u;gt(Hg,`Failed to update sequence numbers for target ${t}: ${u}`)}i.vs=i.vs.remove(t),i.Fs.delete(a.target)}function G1(s,t,e){const i=Ht(s);let a=Ct.min(),o=qt();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(h,d,m){const v=Ht(h),T=v.Fs.get(m);return T!==void 0?ot.resolve(v.vs.get(T)):v.li.getTargetData(d,m)})(i,u,or(t)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,f.targetId).next((h=>{o=h}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,t,e?a:Ct.min(),e?o:qt()))).next((f=>(P2(i,AC(t),f),{documents:f,ks:o})))))}function P2(s,t,e){let i=s.Ms.get(t)||Ct.min();e.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),s.Ms.set(t,i)}class Y1{constructor(){this.activeTargetIds=IC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class V2{constructor(){this.vo=new Y1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,i){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Y1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class k2{Mo(t){}shutdown(){}}const Q1="ConnectivityMonitor";class K1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){gt(Q1,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){gt(Q1,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $f=null;function eg(){return $f===null?$f=(function(){return 268435456+Math.round(2147483648*Math.random())})():$f++,"0x"+$f.toString(16)}const vp="RestConnection",L2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class U2{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===yh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(t,e,i,a,o){const u=eg(),f=this.Qo(t,e.toUriEncodedString());gt(vp,`Sending RPC '${t}' ${u}:`,f,i);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(h,a,o);const{host:d}=new URL(f),m=Wa(d);return this.zo(t,f,h,i,m).then((v=>(gt(vp,`Received RPC '${t}' ${u}: `,v),v)),(v=>{throw Za(vp,`RPC '${t}' ${u} failed with error: `,v,"url: ",f,"request:",i),v}))}jo(t,e,i,a,o,u){return this.Wo(t,e,i,a,o)}Go(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),i&&i.headers.forEach(((a,o)=>t[o]=a))}Qo(t,e){const i=L2[t];let a=`${this.qo}/v1/${e}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class z2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const un="WebChannelConnection",Iu=(s,t,e)=>{s.listen(t,(i=>{try{e(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class nl extends U2{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!nl.c_){const t=wE();Iu(t,xE.STAT_EVENT,(e=>{e.stat===jp.PROXY?gt(un,"STAT_EVENT: detected buffering proxy"):e.stat===jp.NOPROXY&&gt(un,"STAT_EVENT: detected no buffering proxy")})),nl.c_=!0}}zo(t,e,i,a,o){const u=eg();return new Promise(((f,h)=>{const d=new SE;d.setWithCredentials(!0),d.listenOnce(AE.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case eh.NO_ERROR:const v=d.getResponseJson();gt(un,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),f(v);break;case eh.TIMEOUT:gt(un,`RPC '${t}' ${u} timed out`),h(new Tt(ht.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const T=d.getStatus();if(gt(un,`RPC '${t}' ${u} failed with status:`,T,"response text:",d.getResponseText()),T>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y?.error;if(S&&S.status&&S.message){const E=(function(O){const L=O.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(L)>=0?L:ht.UNKNOWN})(S.status);h(new Tt(E,S.message))}else h(new Tt(ht.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Tt(ht.UNAVAILABLE,"Connection failed."));break;default:It(9055,{l_:t,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{gt(un,`RPC '${t}' ${u} completed.`)}}));const m=JSON.stringify(a);gt(un,`RPC '${t}' ${u} sending request:`,a),d.send(e,"POST",m,i,15)}))}T_(t,e,i){const a=eg(),o=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const d=o.join("");gt(un,`Creating RPC '${t}' stream ${a}: ${d}`,f);const m=u.createWebChannel(d,f);this.I_(m);let v=!1,T=!1;const y=new z2({Ho:S=>{T?gt(un,`Not sending because RPC '${t}' stream ${a} is closed:`,S):(v||(gt(un,`Opening RPC '${t}' stream ${a} transport.`),m.open(),v=!0),gt(un,`RPC '${t}' stream ${a} sending:`,S),m.send(S))},Jo:()=>m.close()});return Iu(m,Ou.EventType.OPEN,(()=>{T||(gt(un,`RPC '${t}' stream ${a} transport opened.`),y.i_())})),Iu(m,Ou.EventType.CLOSE,(()=>{T||(T=!0,gt(un,`RPC '${t}' stream ${a} transport closed`),y.o_(),this.E_(m))})),Iu(m,Ou.EventType.ERROR,(S=>{T||(T=!0,Za(un,`RPC '${t}' stream ${a} transport errored. Name:`,S.name,"Message:",S.message),y.o_(new Tt(ht.UNAVAILABLE,"The operation could not be completed")))})),Iu(m,Ou.EventType.MESSAGE,(S=>{if(!T){const E=S.data[0];ge(!!E,16349);const A=E,O=A?.error||A[0]?.error;if(O){gt(un,`RPC '${t}' stream ${a} received error:`,O);const L=O.status;let z=(function(k){const b=Le[k];if(b!==void 0)return ZE(b)})(L),B=O.message;L==="NOT_FOUND"&&B.includes("database")&&B.includes("does not exist")&&B.includes(this.databaseId.database)&&Za(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),z===void 0&&(z=ht.INTERNAL,B="Unknown error status: "+L+" with message "+O.message),T=!0,y.o_(new Tt(z,B)),m.close()}else gt(un,`RPC '${t}' stream ${a} received:`,E),y.__(E)}})),nl.u_(),setTimeout((()=>{y.s_()}),0),y}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,i){super.Go(t,e,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return bE()}}function B2(s){return new nl(s)}function Tp(){return typeof document<"u"?document:null}function cS(s){return new QC(s,!0)}nl.c_=!1;class fS{constructor(t,e,i=1e3,a=1.5,o=6e4){this.Ci=t,this.timerId=e,this.R_=i,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&gt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const X1="PersistentStream";class j2{constructor(t,e,i,a,o,u,f,h){this.Ci=t,this.b_=i,this.S_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ht.RESOURCE_EXHAUSTED?(Fr(e.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new Tt(ht.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return gt(X1,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(gt(X1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class F2 extends j2{constructor(t,e,i,a,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,u),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=JC(this.serializer,t),i=(function(o){if(!("targetChange"in o))return Ct.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ct.min():u.readTime?el(u.readTime):Ct.min()})(t);return this.listener.J_(e,i)}Z_(t){const e={};e.database=j1(this.serializer),e.addTarget=(function(o,u){let f;const h=u.target;if(f=Kp(h)?{documents:WC(o,h)}:{query:t2(o,h).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=XC(o,u.resumeToken);const d=Jp(o,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ct.min())>0){f.readTime=KC(o,u.snapshotVersion.toTimestamp());const d=Jp(o,u.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,t);const i=n2(this.serializer,t);i&&(e.labels=i),this.K_(e)}X_(t){const e={};e.database=j1(this.serializer),e.removeTarget=t,this.K_(e)}}class H2{}class q2 extends H2{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Tt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(t,Wp(e,i),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Tt(ht.UNKNOWN,o.toString())}))}jo(t,e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(t,Wp(e,i),a,u,f,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Tt(ht.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function G2(s,t,e,i){return new q2(s,t,e,i)}class Y2{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fr(e),this.aa=!1):gt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pl="RemoteStore";class Q2{constructor(t,e,i,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{dc(this)&&(gt(pl,"Restarting streams for network reachability change."),await(async function(h){const d=Ht(h);d.Ea.add(4),await hc(d),d.Va.set("Unknown"),d.Ea.delete(4),await td(d)})(this))}))})),this.Va=new Y2(i,a)}}async function td(s){if(dc(s))for(const t of s.Ra)await t(!0)}async function hc(s){for(const t of s.Ra)await t(!1)}function hS(s,t){const e=Ht(s);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Qg(e)?Yg(e):bl(e).O_()&&Gg(e,t))}function qg(s,t){const e=Ht(s),i=bl(e);e.Ia.delete(t),i.O_()&&dS(e,t),e.Ia.size===0&&(i.O_()?i.L_():dc(e)&&e.Va.set("Unknown"))}function Gg(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const e=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}bl(s).Z_(t)}function dS(s,t){s.da.$e(t),bl(s).X_(t)}function Yg(s){s.da=new HC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),bl(s).start(),s.Va.ua()}function Qg(s){return dc(s)&&!bl(s).x_()&&s.Ia.size>0}function dc(s){return Ht(s).Ea.size===0}function mS(s){s.da=void 0}async function K2(s){s.Va.set("Online")}async function X2(s){s.Ia.forEach(((t,e)=>{Gg(s,t)}))}async function $2(s,t){mS(s),Qg(s)?(s.Va.ha(t),Yg(s)):s.Va.set("Unknown")}async function Z2(s,t,e){if(s.Va.set("Online"),t instanceof WE&&t.state===2&&t.cause)try{await(async function(a,o){const u=o.cause;for(const f of o.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(s,t)}catch(i){gt(pl,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await $1(s,i)}else if(t instanceof sh?s.da.Xe(t):t instanceof JE?s.da.st(t):s.da.tt(t),!e.isEqual(Ct.min()))try{const i=await uS(s.localStore);e.compareTo(i)>=0&&await(function(o,u){const f=o.da.Tt(u);return f.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(d);m&&o.Ia.set(d,m.withResumeToken(h.resumeToken,u))}})),f.targetMismatches.forEach(((h,d)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(on.EMPTY_BYTE_STRING,m.snapshotVersion)),dS(o,h);const v=new Vs(m.target,h,d,m.sequenceNumber);Gg(o,v)})),o.remoteSyncer.applyRemoteEvent(f)})(s,e)}catch(i){gt(pl,"Failed to raise snapshot:",i),await $1(s,i)}}async function $1(s,t,e){if(!wl(t))throw t;s.Ea.add(1),await hc(s),s.Va.set("Offline"),e||(e=()=>uS(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{gt(pl,"Retrying IndexedDB access"),await e(),s.Ea.delete(1),await td(s)}))}async function Z1(s,t){const e=Ht(s);e.asyncQueue.verifyOperationInProgress(),gt(pl,"RemoteStore received new credentials");const i=dc(e);e.Ea.add(3),await hc(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await td(e)}async function J2(s,t){const e=Ht(s);t?(e.Ea.delete(2),await td(e)):t||(e.Ea.add(2),await hc(e),e.Va.set("Unknown"))}function bl(s){return s.ma||(s.ma=(function(e,i,a){const o=Ht(e);return o.sa(),new F2(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(s.datastore,s.asyncQueue,{Zo:K2.bind(null,s),Yo:X2.bind(null,s),t_:$2.bind(null,s),J_:Z2.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Qg(s)?Yg(s):s.Va.set("Unknown")):(await s.ma.stop(),mS(s))}))),s.ma}class Kg{constructor(t,e,i,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,o){const u=Date.now()+i,f=new Kg(t,e,u,a,o);return f.start(i),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pS(s,t){if(Fr("AsyncQueue",`${t}: ${s}`),wl(s))return new Tt(ht.UNAVAILABLE,`${t}: ${s}`);throw s}class il{static emptySet(t){return new il(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||At.comparator(e.key,i.key):(e,i)=>At.comparator(e.key,i.key),this.keyedMap=Nu(),this.sortedSet=new Ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof il)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new il;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class J1{constructor(){this.ga=new Ce(At.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):It(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class gl{constructor(t,e,i,a,o,u,f,h,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,a,o){const u=[];return e.forEach((f=>{u.push({type:0,doc:f})})),new gl(t,e,il.emptySet(e),u,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class W2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class tI{constructor(){this.queries=W1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=Ht(e),o=a.queries;a.queries=W1(),o.forEach(((u,f)=>{for(const h of f.ba)h.onError(i)}))})(this,new Tt(ht.ABORTED,"Firestore shutting down"))}}function W1(){return new eo((s=>FE(s)),Xh)}async function eI(s,t){const e=Ht(s);let i=3;const a=t.query;let o=e.queries.get(a);o?!o.Sa()&&t.Da()&&(i=2):(o=new W2,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const f=pS(u,`Initialization of query '${Ko(t.query)}' failed`);return void t.onError(f)}e.queries.set(a,o),o.ba.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&Xg(e)}async function nI(s,t){const e=Ht(s),i=t.query;let a=3;const o=e.queries.get(i);if(o){const u=o.ba.indexOf(t);u>=0&&(o.ba.splice(u,1),o.ba.length===0?a=t.Da()?0:1:!o.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function iI(s,t){const e=Ht(s);let i=!1;for(const a of t){const o=a.query,u=e.queries.get(o);if(u){for(const f of u.ba)f.Fa(a)&&(i=!0);u.wa=a}}i&&Xg(e)}function rI(s,t,e){const i=Ht(s),a=i.queries.get(t);if(a)for(const o of a.ba)o.onError(e);i.queries.delete(t)}function Xg(s){s.Ca.forEach((t=>{t.next()}))}var ng,tT;(tT=ng||(ng={})).Ma="default",tT.Cache="cache";class sI{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new gl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=gl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ng.Cache}}class gS{constructor(t){this.key=t}}class yS{constructor(t){this.key=t}}class aI{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qt(),this.mutatedKeys=qt(),this.eu=HE(t),this.tu=new il(this.eu)}get nu(){return this.Za}ru(t,e){const i=e?e.iu:new J1,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,u=a,f=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((m,v)=>{const T=a.get(m),y=$h(this.query,v)?v:null,S=!!T&&this.mutatedKeys.has(T.key),E=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;T&&y?T.data.isEqual(y.data)?S!==E&&(i.track({type:3,doc:y}),A=!0):this.su(T,y)||(i.track({type:2,doc:y}),A=!0,(h&&this.eu(y,h)>0||d&&this.eu(y,d)<0)&&(f=!0)):!T&&y?(i.track({type:0,doc:y}),A=!0):T&&!y&&(i.track({type:1,doc:T}),A=!0,(h||d)&&(f=!0)),A&&(y?(u=u.add(y),o=E?o.add(m):o.delete(m)):(u=u.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{tu:u,iu:i,Ss:f,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((m,v)=>(function(y,S){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It(20277,{Vt:A})}};return E(y)-E(S)})(m.type,v.type)||this.eu(m.doc,v.doc))),this.ou(i),a=a??!1;const f=e&&!a?this._u():[],h=this.Ya.size===0&&this.current&&!a?1:0,d=h!==this.Xa;return this.Xa=h,u.length!==0||d?{snapshot:new gl(this.query,t.tu,o,u,t.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new J1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=qt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const e=[];return t.forEach((i=>{this.Ya.has(i)||e.push(new yS(i))})),this.Ya.forEach((i=>{t.has(i)||e.push(new gS(i))})),e}cu(t){this.Za=t.ks,this.Ya=qt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $g="SyncEngine";class oI{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class lI{constructor(t){this.key=t,this.hu=!1}}class uI{constructor(t,e,i,a,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new eo((f=>FE(f)),Xh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ce(At.comparator),this.Au=new Map,this.Vu=new Bg,this.du={},this.mu=new Map,this.fu=ml.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cI(s,t,e=!0){const i=SS(s);let a;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await _S(i,t,e,!0),a}async function fI(s,t){const e=SS(s);await _S(e,t,!0,!1)}async function _S(s,t,e,i){const a=await N2(s.localStore,or(t)),o=a.targetId,u=s.sharedClientState.addLocalQueryTarget(o,e);let f;return i&&(f=await hI(s,t,o,u==="current",a.resumeToken)),s.isPrimaryClient&&e&&hS(s.remoteStore,a),f}async function hI(s,t,e,i,a){s.pu=(v,T,y)=>(async function(E,A,O,L){let z=A.view.ru(O);z.Ss&&(z=await G1(E.localStore,A.query,!1).then((({documents:b})=>A.view.ru(b,z))));const B=L&&L.targetChanges.get(A.targetId),I=L&&L.targetMismatches.get(A.targetId)!=null,k=A.view.applyChanges(z,E.isPrimaryClient,B,I);return nT(E,A.targetId,k.au),k.snapshot})(s,v,T,y);const o=await G1(s.localStore,t,!0),u=new aI(t,o.ks),f=u.ru(o.documents),h=fc.createSynthesizedTargetChangeForCurrentChange(e,i&&s.onlineState!=="Offline",a),d=u.applyChanges(f,s.isPrimaryClient,h);nT(s,e,d.au);const m=new oI(t,e,u);return s.Tu.set(t,m),s.Iu.has(e)?s.Iu.get(e).push(t):s.Iu.set(e,[t]),d.snapshot}async function dI(s,t,e){const i=Ht(s),a=i.Tu.get(t),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((u=>!Xh(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await tg(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&qg(i.remoteStore,a.targetId),ig(i,a.targetId)})).catch(qh)):(ig(i,a.targetId),await tg(i.localStore,a.targetId,!0))}async function mI(s,t){const e=Ht(s),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),qg(e.remoteStore,i.targetId))}async function vS(s,t){const e=Ht(s);try{const i=await D2(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const u=e.Au.get(o);u&&(ge(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ge(u.hu,14607):a.removedDocuments.size>0&&(ge(u.hu,42227),u.hu=!1))})),await ES(e,i,t)}catch(i){await qh(i)}}function eT(s,t,e){const i=Ht(s);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((o,u)=>{const f=u.view.va(t);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const h=Ht(u);h.onlineState=f;let d=!1;h.queries.forEach(((m,v)=>{for(const T of v.ba)T.va(f)&&(d=!0)})),d&&Xg(h)})(i.eventManager,t),a.length&&i.Pu.J_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function pI(s,t,e){const i=Ht(s);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),o=a&&a.key;if(o){let u=new Ce(At.comparator);u=u.insert(o,fn.newNoDocument(o,Ct.min()));const f=qt().add(o),h=new Wh(Ct.min(),new Map,new Ce(Bt),u,f);await vS(i,h),i.Ru=i.Ru.remove(o),i.Au.delete(t),Zg(i)}else await tg(i.localStore,t,!1).then((()=>ig(i,t,e))).catch(qh)}function ig(s,t,e=null){s.sharedClientState.removeLocalQueryTarget(t);for(const i of s.Iu.get(t))s.Tu.delete(i),e&&s.Pu.yu(i,e);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((i=>{s.Vu.containsKey(i)||TS(s,i)}))}function TS(s,t){s.Eu.delete(t.path.canonicalString());const e=s.Ru.get(t);e!==null&&(qg(s.remoteStore,e),s.Ru=s.Ru.remove(t),s.Au.delete(e),Zg(s))}function nT(s,t,e){for(const i of e)i instanceof gS?(s.Vu.addReference(i.key,t),gI(s,i)):i instanceof yS?(gt($g,"Document no longer in limbo: "+i.key),s.Vu.removeReference(i.key,t),s.Vu.containsKey(i.key)||TS(s,i.key)):It(19791,{wu:i})}function gI(s,t){const e=t.key,i=e.path.canonicalString();s.Ru.get(e)||s.Eu.has(i)||(gt($g,"New document in limbo: "+e),s.Eu.add(i),Zg(s))}function Zg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const e=new At(ue.fromString(t)),i=s.fu.next();s.Au.set(i,new lI(e)),s.Ru=s.Ru.insert(e,i),hS(s.remoteStore,new Vs(or(kg(e.path)),i,"TargetPurposeLimboResolution",Gh.ce))}}async function ES(s,t,e){const i=Ht(s),a=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,h)=>{u.push(i.pu(h,t,e).then((d=>{if((d||e)&&i.isPrimaryClient){const m=d?!d.fromCache:e?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(d){a.push(d);const m=Fg.Es(h.targetId,d);o.push(m)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(h,d){const m=Ht(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ot.forEach(d,(T=>ot.forEach(T.Ts,(y=>m.persistence.referenceDelegate.addReference(v,T.targetId,y))).next((()=>ot.forEach(T.Is,(y=>m.persistence.referenceDelegate.removeReference(v,T.targetId,y)))))))))}catch(v){if(!wl(v))throw v;gt(Hg,"Failed to update sequence numbers: "+v)}for(const v of d){const T=v.targetId;if(!v.fromCache){const y=m.vs.get(T),S=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(S);m.vs=m.vs.insert(T,E)}}})(i.localStore,o))}async function yI(s,t){const e=Ht(s);if(!e.currentUser.isEqual(t)){gt($g,"User change. New user:",t.toKey());const i=await lS(e.localStore,t);e.currentUser=t,(function(o,u){o.mu.forEach((f=>{f.forEach((h=>{h.reject(new Tt(ht.CANCELLED,u))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ES(e,i.Ns)}}function _I(s,t){const e=Ht(s),i=e.Au.get(t);if(i&&i.hu)return qt().add(i.key);{let a=qt();const o=e.Iu.get(t);if(!o)return a;for(const u of o){const f=e.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function SS(s){const t=Ht(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=vS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_I.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pI.bind(null,t),t.Pu.J_=iI.bind(null,t.eventManager),t.Pu.yu=rI.bind(null,t.eventManager),t}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=cS(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return M2(this.persistence,new R2,t.initialUser,this.serializer)}Cu(t){return new oS(jg.Vi,this.serializer)}Du(t){return new V2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class vI extends Ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ge(this.persistence.referenceDelegate instanceof Sh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new h2(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new oS((i=>Sh.Vi(i,e)),this.serializer)}}class rg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>eT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yI.bind(null,this.syncEngine),await J2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new tI})()}createDatastore(t){const e=cS(t.databaseInfo.databaseId),i=B2(t.databaseInfo);return G2(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,o,u,f){return new Q2(i,a,o,u,f)})(this.localStore,this.datastore,t.asyncQueue,(e=>eT(this.syncEngine,e,0)),(function(){return K1.v()?new K1:new k2})())}createSyncEngine(t,e){return(function(a,o,u,f,h,d,m){const v=new uI(a,o,u,f,h,d);return m&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Ht(e);gt(pl,"RemoteStore shutting down."),i.Ea.add(5),await hc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rg.provider={build:()=>new rg};class TI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Fr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Ws="FirestoreClient";class EI{constructor(t,e,i,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this._databaseInfo=a,this.user=cn.UNAUTHENTICATED,this.clientId=Dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{gt(Ws,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(gt(Ws,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=pS(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Ep(s,t){s.asyncQueue.verifyOperationInProgress(),gt(Ws,"Initializing OfflineComponentProvider");const e=s.configuration;await t.initialize(e);let i=e.initialUser;s.setCredentialChangeListener((async a=>{i.isEqual(a)||(await lS(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function iT(s,t){s.asyncQueue.verifyOperationInProgress();const e=await SI(s);gt(Ws,"Initializing OnlineComponentProvider"),await t.initialize(e,s.configuration),s.setCredentialChangeListener((i=>Z1(t.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,a)=>Z1(t.remoteStore,a))),s._onlineComponents=t}async function SI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){gt(Ws,"Using user provided OfflineComponentProvider");try{await Ep(s,s._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===ht.FAILED_PRECONDITION||a.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Za("Error using user provided cache. Falling back to memory cache: "+e),await Ep(s,new Ah)}}else gt(Ws,"Using default OfflineComponentProvider"),await Ep(s,new vI(void 0));return s._offlineComponents}async function AI(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(gt(Ws,"Using user provided OnlineComponentProvider"),await iT(s,s._uninitializedComponentsProvider._online)):(gt(Ws,"Using default OnlineComponentProvider"),await iT(s,new rg))),s._onlineComponents}async function rT(s){const t=await AI(s),e=t.eventManager;return e.onListen=cI.bind(null,t.syncEngine),e.onUnlisten=dI.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=fI.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=mI.bind(null,t.syncEngine),e}function xI(s,t,e,i){const a=new TI(i),o=new sI(t,a,e);return s.asyncQueue.enqueueAndForget((async()=>eI(await rT(s),o))),()=>{a.Nu(),s.asyncQueue.enqueueAndForget((async()=>nI(await rT(s),o)))}}function AS(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const wI="ComponentProvider",sT=new Map;function bI(s,t,e,i,a){return new nC(s,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,AS(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const xS="firestore.googleapis.com",aT=!0;class oT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Tt(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xS,this.ssl=aT}else this.host=t.host,this.ssl=t.ssl??aT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<c2)throw new Tt(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AS(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Tt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Tt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Tt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ed{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Tt(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new OR;switch(i.type){case"firstParty":return new kR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Tt(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=sT.get(e);i&&(gt(wI,"Removing Datastore"),sT.delete(e),i.terminate())})(this),Promise.resolve()}}function RI(s,t,e,i={}){s=nh(s,ed);const a=Wa(t),o=s._getSettings(),u={...o,emulatorOptions:s._getEmulatorOptions()},f=`${t}:${e}`;a&&(wg(`https://${f}`),bg("Firestore",!0)),o.host!==xS&&o.host!==f&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:f,ssl:a,emulatorOptions:i};if(!Ka(h,u)&&(s._setSettings(h),i.mockUserToken)){let d,m;if(typeof i.mockUserToken=="string")d=i.mockUserToken,m=cn.MOCK_USER;else{d=pE(i.mockUserToken,s._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Tt(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new cn(v)}s._authCredentials=new NR(new CE(d,m))}}class nd{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new nd(this.firestore,t,this._query)}}class dn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dn(this.firestore,t,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(uc(e,dn._jsonSchema))return new dn(t,i||null,new At(ue.fromString(e.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:Be("string",dn._jsonSchemaVersion),referencePath:Be("string")};class Fs extends nd{constructor(t,e,i){super(t,e,kg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dn(this.firestore,null,new At(t))}withConverter(t){return new Fs(this.firestore,t,this._path)}}function Jg(s,t,...e){if(s=Ci(s),IE("collection","path",t),s instanceof ed){const i=ue.fromString(t,...e);return v1(i),new Fs(s,null,i)}{if(!(s instanceof dn||s instanceof Fs))throw new Tt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(ue.fromString(t,...e));return v1(i),new Fs(s.firestore,null,i)}}function CI(s,t,...e){if(s=Ci(s),arguments.length===1&&(t=Dg.newId()),IE("doc","path",t),s instanceof ed){const i=ue.fromString(t,...e);return _1(i),new dn(s,null,new At(i))}{if(!(s instanceof dn||s instanceof Fs))throw new Tt(ht.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(ue.fromString(t,...e));return _1(i),new dn(s.firestore,s instanceof Fs?s.converter:null,new At(i))}}const lT="AsyncQueue";class uT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fS(this,"async_queue_retry"),this._c=()=>{const i=Tp();i&&gt(lT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Tp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Tp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new tl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!wl(t))throw t;gt(lT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Fr("INTERNAL UNHANDLED ERROR: ",cT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=Kg.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&It(47125,{Pc:cT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function cT(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class sg extends ed{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new uT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new uT(t),this._firestoreClient=void 0,await t}}}function II(s,t){const e=typeof s=="object"?s:Ig(),i=typeof s=="string"?s:yh,a=Hh(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=hE("firestore");o&&RI(a,...o)}return a}function MI(s){if(s._terminated)throw new Tt(ht.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||DI(s),s._firestoreClient}function DI(s){const t=s._freezeSettings(),e=bI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new EI(s._authCredentials,s._appCheckCredentials,s._queue,e,s._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(s._componentsProvider))}class ir{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ir(on.fromBase64String(t))}catch(e){throw new Tt(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ir(on.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ir._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(uc(t,ir._jsonSchema))return ir.fromBase64String(t.bytes)}}ir._jsonSchemaVersion="firestore/bytes/1.0",ir._jsonSchema={type:Be("string",ir._jsonSchemaVersion),bytes:Be("string")};class wS{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Tt(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hs{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Tt(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Tt(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hs._jsonSchemaVersion}}static fromJSON(t){if(uc(t,Hs._jsonSchema))return new Hs(t.latitude,t.longitude)}}Hs._jsonSchemaVersion="firestore/geoPoint/1.0",Hs._jsonSchema={type:Be("string",Hs._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};class qs{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(uc(t,qs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new qs(t.vectorValues);throw new Tt(ht.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qs._jsonSchemaVersion="firestore/vectorValue/1.0",qs._jsonSchema={type:Be("string",qs._jsonSchemaVersion),vectorValues:Be("object")};function bS(s,t,e){if((t=Ci(t))instanceof wS)return t._internalPath;if(typeof t=="string")return NI(s,t);throw ag("Field path arguments must be of type string or ",s)}const OI=new RegExp("[~\\*/\\[\\]]");function NI(s,t,e){if(t.search(OI)>=0)throw ag(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new wS(...t.split("."))._internalPath}catch{throw ag(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function ag(s,t,e,i,a){let o=`Function ${t}() called with invalid data`;o+=". ";let u="";return new Tt(ht.INVALID_ARGUMENT,o+s+u)}class PI{convertValue(t,e="none"){switch(Zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes($s(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw It(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return cc(t,((a,o)=>{i[a]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[qp].arrayValue?.values?.map((i=>be(i.doubleValue)));return new qs(e)}convertGeoPoint(t){return new Hs(be(t.latitude),be(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Qh(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Xu(t));default:return null}}convertTimestamp(t){const e=Xs(t);return new ze(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ue.fromString(t);ge(sS(i),9688,{name:t});const a=new $u(i.get(1),i.get(3)),o=new At(i.popFirst(5));return a.isEqual(e)||Fr(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}class RS extends PI{constructor(t){super(),this.firestore=t}convertBytes(t){return new ir(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new dn(this.firestore,null,e)}}const fT="@firebase/firestore",hT="4.11.0";function dT(s){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(s,["next","error","complete"])}class CS{constructor(t,e,i,a,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(bS("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class VI extends CS{data(){return super.data()}}function kI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Tt(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fa extends CS{constructor(t,e,i,a,o,u){super(t,e,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(bS("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(ht.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Fa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fa._jsonSchema={type:Be("string",Fa._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class ah extends Fa{data(t={}){return super.data(t)}}class rl{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Vu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new ah(this._firestore,this._userDataWriter,i.key,i,new Vu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Tt(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const h=new ah(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Vu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>o||f.type!==3)).map((f=>{const h=new ah(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Vu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,m=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),m=u.indexOf(f.doc.key)),{type:LI(f.type),doc:h,oldIndex:d,newIndex:m}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(ht.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=rl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function LI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It(61501,{type:s})}}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:Be("string",rl._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};function xh(s,...t){s=Ci(s);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||dT(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(dT(t[i])){const d=t[i];t[i]=d.next?.bind(d),t[i+1]=d.error?.bind(d),t[i+2]=d.complete?.bind(d)}let o,u,f;if(s instanceof dn)u=nh(s.firestore,sg),f=kg(s._key.path),o={next:d=>{t[i]&&t[i](UI(u,s,d))},error:t[i+1],complete:t[i+2]};else{const d=nh(s,nd);u=nh(d.firestore,sg),f=d._query;const m=new RS(u);o={next:v=>{t[i]&&t[i](new rl(u,m,d,v))},error:t[i+1],complete:t[i+2]},kI(s._query)}const h=MI(u);return xI(h,f,a,o)}function UI(s,t,e){const i=e.docs.get(t._key),a=new RS(s);return new Fa(s,a,t._key,i,new Vu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){DR(to),Xa(new Qs("firestore",((i,{instanceIdentifier:a,options:o})=>{const u=i.getProvider("app").getImmediate(),f=new sg(new PR(i.getProvider("auth-internal")),new LR(u,i.getProvider("app-check-internal")),iC(u,a),u);return o={useFetchStreams:e,...o},f._setSettings(o),f}),"PUBLIC").setMultipleInstances(!0)),ar(fT,hT,t),ar(fT,hT,"esm2020")})();function zI({visible:s}){return s?F.jsx("div",{className:"connection-overlay",role:"alert",children:F.jsxs("div",{className:"connection-overlay__card",children:[F.jsx("span",{className:"connection-overlay__icon",children:""}),F.jsxs("div",{className:"connection-overlay__text",children:[F.jsx("h2",{className:"connection-overlay__title",children:"Connection Lost"}),F.jsx("p",{className:"connection-overlay__sub",children:"Displaying last known data  reconnecting automatically"})]})]})}):null}var BI="firebase",jI="12.9.0";ar(BI,jI,"app");function IS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FI=IS,MS=new oc("auth","Firebase",IS());const wh=new Rg("@firebase/auth");function HI(s,...t){wh.logLevel<=Ut.WARN&&wh.warn(`Auth (${to}): ${s}`,...t)}function oh(s,...t){wh.logLevel<=Ut.ERROR&&wh.error(`Auth (${to}): ${s}`,...t)}function Hr(s,...t){throw Wg(s,...t)}function lr(s,...t){return Wg(s,...t)}function DS(s,t,e){const i={...FI(),[t]:e};return new oc("auth","Firebase",i).create(t,{appName:s.name})}function Ha(s){return DS(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wg(s,...t){if(typeof s!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(e,...i)}return MS.create(s,...t)}function wt(s,t,...e){if(!s)throw Wg(t,...e)}function zr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw oh(t),new Error(t)}function qr(s,t){s||zr(t)}function og(){return typeof self<"u"&&self.location?.href||""}function qI(){return mT()==="http:"||mT()==="https:"}function mT(){return typeof self<"u"&&self.location?.protocol||null}function GI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qI()||cb()||"connection"in navigator)?navigator.onLine:!0}function YI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class mc{constructor(t,e){this.shortDelay=t,this.longDelay=e,qr(e>t,"Short delay should be less than long delay!"),this.isMobile=ob()||fb()}get(){return GI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ty(s,t){qr(s.emulator,"Emulator should always be set here");const{url:e}=s.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class OS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XI=new mc(3e4,6e4);function ey(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Rl(s,t,e,i,a={}){return NS(s,a,async()=>{let o={},u={};i&&(t==="GET"?u=i:o={body:JSON.stringify(i)});const f=lc({key:s.config.apiKey,...u}).slice(1),h=await s._getAdditionalHeaders();h["Content-Type"]="application/json",s.languageCode&&(h["X-Firebase-Locale"]=s.languageCode);const d={method:t,headers:h,...o};return ub()||(d.referrerPolicy="no-referrer"),s.emulatorConfig&&Wa(s.emulatorConfig.host)&&(d.credentials="include"),OS.fetch()(await PS(s,s.config.apiHost,e,f),d)})}async function NS(s,t,e){s._canInitEmulator=!1;const i={...QI,...t};try{const a=new ZI(s),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Zf(s,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[h,d]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zf(s,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Zf(s,"email-already-in-use",u);if(h==="USER_DISABLED")throw Zf(s,"user-disabled",u);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw DS(s,m,d);Hr(s,m)}}catch(a){if(a instanceof mr)throw a;Hr(s,"network-request-failed",{message:String(a)})}}async function $I(s,t,e,i,a={}){const o=await Rl(s,t,e,i,a);return"mfaPendingCredential"in o&&Hr(s,"multi-factor-auth-required",{_serverResponse:o}),o}async function PS(s,t,e,i){const a=`${t}${e}?${i}`,o=s,u=o.config.emulator?ty(s.config,a):`${s.config.apiScheme}://${a}`;return KI.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}class ZI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(lr(this.auth,"network-request-failed")),XI.get())})}}function Zf(s,t,e){const i={appName:s.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=lr(s,t,i);return a.customData._tokenResponse=e,a}async function JI(s,t){return Rl(s,"POST","/v1/accounts:delete",t)}async function bh(s,t){return Rl(s,"POST","/v1/accounts:lookup",t)}function Hu(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function WI(s,t=!1){const e=Ci(s),i=await e.getIdToken(t),a=ny(i);wt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:i,authTime:Hu(Sp(a.auth_time)),issuedAtTime:Hu(Sp(a.iat)),expirationTime:Hu(Sp(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Sp(s){return Number(s)*1e3}function ny(s){const[t,e,i]=s.split(".");if(t===void 0||e===void 0||i===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const a=cE(e);return a?JSON.parse(a):(oh("Failed to decode base64 JWT payload"),null)}catch(a){return oh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function pT(s){const t=ny(s);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ju(s,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof mr&&tM(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function tM({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class eM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class lg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rh(s){const t=s.auth,e=await s.getIdToken(),i=await Ju(s,bh(t,{idToken:e}));wt(i?.users.length,t,"internal-error");const a=i.users[0];s._notifyReloadListener(a);const o=a.providerUserInfo?.length?VS(a.providerUserInfo):[],u=iM(s.providerData,o),f=s.isAnonymous,h=!(s.email&&a.passwordHash)&&!u?.length,d=f?h:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new lg(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(s,m)}async function nM(s){const t=Ci(s);await Rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function iM(s,t){return[...s.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function VS(s){return s.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function rM(s,t){const e=await NS(s,{},async()=>{const i=lc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=s.config,u=await PS(s,a,"/v1/token",`key=${o}`),f=await s._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:i};return s.emulatorConfig&&Wa(s.emulatorConfig.host)&&(h.credentials="include"),OS.fetch()(u,h)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function sM(s,t){return Rl(s,"POST","/v2/accounts:revokeToken",ey(s,t))}class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):pT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=pT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:o}=await rM(t,e);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:o}=e,u=new sl;return i&&(wt(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),a&&(wt(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),o&&(wt(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return zr("not implemented")}}function Cs(s,t){wt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class bi{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new eM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new lg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Ju(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return WI(this,t)}reload(){return nM(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new bi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Rh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wi(this.auth.app))return Promise.reject(Ha(this.auth));const t=await this.getIdToken();return await Ju(this,JI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,u=e.photoURL??void 0,f=e.tenantId??void 0,h=e._redirectEventId??void 0,d=e.createdAt??void 0,m=e.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:y,providerData:S,stsTokenManager:E}=e;wt(v&&E,t,"internal-error");const A=sl.fromJSON(this.name,E);wt(typeof v=="string",t,"internal-error"),Cs(i,t.name),Cs(a,t.name),wt(typeof T=="boolean",t,"internal-error"),wt(typeof y=="boolean",t,"internal-error"),Cs(o,t.name),Cs(u,t.name),Cs(f,t.name),Cs(h,t.name),Cs(d,t.name),Cs(m,t.name);const O=new bi({uid:v,auth:t,email:a,emailVerified:T,displayName:i,isAnonymous:y,photoURL:u,phoneNumber:o,tenantId:f,stsTokenManager:A,createdAt:d,lastLoginAt:m});return S&&Array.isArray(S)&&(O.providerData=S.map(L=>({...L}))),h&&(O._redirectEventId=h),O}static async _fromIdTokenResponse(t,e,i=!1){const a=new sl;a.updateFromServerResponse(e);const o=new bi({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await Rh(o),o}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];wt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?VS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,f=new sl;f.updateFromIdToken(i);const h=new bi({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new lg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(h,d),h}}const gT=new Map;function Br(s){qr(s instanceof Function,"Expected a class definition");let t=gT.get(s);return t?(qr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,gT.set(s,t),t)}class kS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}kS.type="NONE";const yT=kS;function lh(s,t,e){return`firebase:${s}:${t}:${e}`}class al{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=lh(this.userKey,a.apiKey,o),this.fullPersistenceKey=lh("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await bh(this.auth,{idToken:t}).catch(()=>{});return e?bi._fromGetAccountInfoResponse(this.auth,e,t):null}return bi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new al(Br(yT),t,i);const a=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||Br(yT);const u=lh(i,t.config.apiKey,t.name);let f=null;for(const d of e)try{const m=await d._get(u);if(m){let v;if(typeof m=="string"){const T=await bh(t,{idToken:m}).catch(()=>{});if(!T)break;v=await bi._fromGetAccountInfoResponse(t,T,m)}else v=bi._fromJSON(t,m);d!==o&&(f=v),o=d;break}}catch{}const h=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new al(o,t,i):(o=h[0],f&&await o._set(u,f.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new al(o,t,i))}}function _T(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(BS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(LS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(FS(t))return"Blackberry";if(HS(t))return"Webos";if(US(t))return"Safari";if((t.includes("chrome/")||zS(t))&&!t.includes("edge/"))return"Chrome";if(jS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(e);if(i?.length===2)return i[1]}return"Other"}function LS(s=pn()){return/firefox\//i.test(s)}function US(s=pn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zS(s=pn()){return/crios\//i.test(s)}function BS(s=pn()){return/iemobile/i.test(s)}function jS(s=pn()){return/android/i.test(s)}function FS(s=pn()){return/blackberry/i.test(s)}function HS(s=pn()){return/webos/i.test(s)}function iy(s=pn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function aM(s=pn()){return iy(s)&&!!window.navigator?.standalone}function oM(){return hb()&&document.documentMode===10}function qS(s=pn()){return iy(s)||jS(s)||HS(s)||FS(s)||/windows phone/i.test(s)||BS(s)}function GS(s,t=[]){let e;switch(s){case"Browser":e=_T(pn());break;case"Worker":e=`${_T(pn())}-${s}`;break;default:e=s}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${to}/${i}`}class lM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((u,f)=>{try{const h=t(o);u(h)}catch(h){f(h)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function uM(s,t={}){return Rl(s,"GET","/v2/passwordPolicy",ey(s,t))}const cM=6;class fM{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??cM,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class hM{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vT(this),this.idTokenSubscription=new vT(this),this.beforeStateQueue=new lM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Br(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await al.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await bh(this,{idToken:t}),i=await bi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(wi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=i?._redirectEventId,f=await this.tryRedirectSignIn(t);(!o||o===u)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Rh(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=YI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(wi(this.app))return Promise.reject(Ha(this));const e=t?Ci(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return wi(this.app)?Promise.reject(Ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return wi(this.app)?Promise.reject(Ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await uM(this),e=new fM(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new oc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await sM(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Br(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[Br(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,i,a);return()=>{u=!0,h()}}else{const h=t.addObserver(e);return()=>{u=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=GS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&HI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ry(s){return Ci(s)}class vT{constructor(t){this.auth=t,this.observer=null,this.addObserver=Tb(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dM(s){sy=s}function mM(s){return sy.loadJS(s)}function pM(){return sy.gapiScript}function gM(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function yM(s,t){const e=Hh(s,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(Ka(o,t??{}))return a;Hr(a,"already-initialized")}return e.initialize({options:t})}function _M(s,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Br);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(i,t?.popupRedirectResolver)}function vM(s,t,e){const i=ry(s);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,o=YS(t),{host:u,port:f}=TM(t),h=f===null?"":`:${f}`,d={url:`${o}//${u}${h}/`},m=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(Ka(d,i.config.emulator)&&Ka(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,Wa(u)?(wg(`${o}//${u}${h}`),bg("Auth",!0)):EM()}function YS(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function TM(s){const t=YS(s),e=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:TT(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:TT(u)}}}function TT(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function EM(){function s(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class QS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return zr("not implemented")}_getIdTokenResponse(t){return zr("not implemented")}_linkToIdToken(t,e){return zr("not implemented")}_getReauthenticationResolver(t){return zr("not implemented")}}async function ol(s,t){return $I(s,"POST","/v1/accounts:signInWithIdp",ey(s,t))}const SM="http://localhost";class Ja extends QS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ja(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Hr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...o}=e;if(!i||!a)return null;const u=new Ja(i,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return ol(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,ol(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ol(t,e)}buildRequest(){const t={requestUri:SM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=lc(e)}return t}}class KS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class pc extends KS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ms extends pc{constructor(){super("facebook.com")}static credential(t){return Ja._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ms.credentialFromTaggedObject(t)}static credentialFromError(t){return Ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ms.credential(t.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";class Ds extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ja._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ds.credentialFromTaggedObject(t)}static credentialFromError(t){return Ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Ds.credential(e,i)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";class Os extends pc{constructor(){super("github.com")}static credential(t){return Ja._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Os.credentialFromTaggedObject(t)}static credentialFromError(t){return Os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Os.credential(t.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";class Ns extends pc{constructor(){super("twitter.com")}static credential(t,e){return Ja._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ns.credentialFromTaggedObject(t)}static credentialFromError(t){return Ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Ns.credential(e,i)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";class yl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const o=await bi._fromIdTokenResponse(t,i,a),u=ET(i);return new yl({user:o,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=ET(i);return new yl({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function ET(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Ch extends mr{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new Ch(t,e,i,a)}}function XS(s,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(s):e._getIdTokenResponse(s)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(s,o,t,i):o})}async function AM(s,t,e=!1){const i=await Ju(s,t._linkToIdToken(s.auth,await s.getIdToken()),e);return yl._forOperation(s,"link",i)}async function xM(s,t,e=!1){const{auth:i}=s;if(wi(i.app))return Promise.reject(Ha(i));const a="reauthenticate";try{const o=await Ju(s,XS(i,a,t,s),e);wt(o.idToken,i,"internal-error");const u=ny(o.idToken);wt(u,i,"internal-error");const{sub:f}=u;return wt(s.uid===f,i,"user-mismatch"),yl._forOperation(s,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Hr(i,"user-mismatch"),o}}async function wM(s,t,e=!1){if(wi(s.app))return Promise.reject(Ha(s));const i="signIn",a=await XS(s,i,t),o=await yl._fromIdTokenResponse(s,i,a);return e||await s._updateCurrentUser(o.user),o}function bM(s,t,e,i){return Ci(s).onIdTokenChanged(t,e,i)}function RM(s,t,e){return Ci(s).beforeAuthStateChanged(t,e)}const Ih="__sak";class $S{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const CM=1e3,IM=10;class ZS extends $S{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);oM()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,IM):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},CM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}ZS.type="LOCAL";const MM=ZS;class JS extends $S{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}JS.type="SESSION";const WS=JS;function DM(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class id{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new id(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:o}=e.data,u=this.handlersMap[a];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async d=>d(e.origin,o)),h=await DM(f);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];function ay(s="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return s+e}class OM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((f,h)=>{const d=ay("",20);a.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===d)switch(T.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(T.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ur(){return window}function NM(s){ur().location.href=s}function tA(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function PM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VM(){return navigator?.serviceWorker?.controller||null}function kM(){return tA()?self:null}const eA="firebaseLocalStorageDb",LM=1,Mh="firebaseLocalStorage",nA="fbase_key";class gc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function rd(s,t){return s.transaction([Mh],t?"readwrite":"readonly").objectStore(Mh)}function UM(){const s=indexedDB.deleteDatabase(eA);return new gc(s).toPromise()}function ug(){const s=indexedDB.open(eA,LM);return new Promise((t,e)=>{s.addEventListener("error",()=>{e(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Mh,{keyPath:nA})}catch(a){e(a)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Mh)?t(i):(i.close(),await UM(),t(await ug()))})})}async function ST(s,t,e){const i=rd(s,!0).put({[nA]:t,value:e});return new gc(i).toPromise()}async function zM(s,t){const e=rd(s,!1).get(t),i=await new gc(e).toPromise();return i===void 0?null:i.value}function AT(s,t){const e=rd(s,!0).delete(t);return new gc(e).toPromise()}const BM=800,jM=3;class iA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ug(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>jM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(kM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PM(),!this.activeServiceWorker)return;this.sender=new OM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||VM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ug();return await ST(t,Ih,"1"),await AT(t,Ih),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>ST(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>zM(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>AT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=rd(a,!1).getAll();return new gc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iA.type="LOCAL";const FM=iA;new mc(3e4,6e4);function HM(s,t){return t?Br(t):(wt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class oy extends QS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ol(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ol(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ol(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function qM(s){return wM(s.auth,new oy(s),s.bypassAuthState)}function GM(s){const{auth:t,user:e}=s;return wt(e,t,"internal-error"),xM(e,new oy(s),s.bypassAuthState)}async function YM(s){const{auth:t,user:e}=s;return wt(e,t,"internal-error"),AM(e,new oy(s),s.bypassAuthState)}class rA{constructor(t,e,i,a,o=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:o,error:u,type:f}=t;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return qM;case"linkViaPopup":case"linkViaRedirect":return YM;case"reauthViaPopup":case"reauthViaRedirect":return GM;default:Hr(this.auth,"internal-error")}}resolve(t){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QM=new mc(2e3,1e4);class Zo extends rA{constructor(t,e,i,a,o){super(t,e,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const t=ay();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,QM.get())};t()}}Zo.currentPopupAction=null;const KM="pendingRedirect",uh=new Map;class XM extends rA{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=uh.get(this.auth._key());if(!t){try{const i=await $M(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}uh.set(this.auth._key(),t)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $M(s,t){const e=WM(t),i=JM(s);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function ZM(s,t){uh.set(s._key(),t)}function JM(s){return Br(s._redirectPersistence)}function WM(s){return lh(KM,s.config.apiKey,s.name)}async function tD(s,t,e=!1){if(wi(s.app))return Promise.reject(Ha(s));const i=ry(s),a=HM(i,t),u=await new XM(i,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}const eD=600*1e3;class nD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iD(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!sA(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(lr(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eD&&this.cachedEventUids.clear(),this.cachedEventUids.has(xT(t))}saveEventToCache(t){this.cachedEventUids.add(xT(t)),this.lastProcessedEventTime=Date.now()}}function xT(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function sA({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function iD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sA(s);default:return!1}}async function rD(s,t={}){return Rl(s,"GET","/v1/projects",t)}const sD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aD=/^https?/;async function oD(s){if(s.config.emulator)return;const{authorizedDomains:t}=await rD(s);for(const e of t)try{if(lD(e))return}catch{}Hr(s,"unauthorized-domain")}function lD(s){const t=og(),{protocol:e,hostname:i}=new URL(t);if(s.startsWith("chrome-extension://")){const u=new URL(s);return u.hostname===""&&i===""?e==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!aD.test(e))return!1;if(sD.test(s))return i===s;const a=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const uD=new mc(3e4,6e4);function wT(){const s=ur().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let e=0;e<s.CP.length;e++)s.CP[e]=null}}function cD(s){return new Promise((t,e)=>{function i(){wT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wT(),e(lr(s,"network-request-failed"))},timeout:uD.get()})}if(ur().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ur().gapi?.load)i();else{const a=gM("iframefcb");return ur()[a]=()=>{gapi.load?i():e(lr(s,"network-request-failed"))},mM(`${pM()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw ch=null,t})}let ch=null;function fD(s){return ch=ch||cD(s),ch}const hD=new mc(5e3,15e3),dD="__/auth/iframe",mD="emulator/auth/iframe",pD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yD(s){const t=s.config;wt(t.authDomain,s,"auth-domain-config-required");const e=t.emulator?ty(t,mD):`https://${s.config.authDomain}/${dD}`,i={apiKey:t.apiKey,appName:s.name,v:to},a=gD.get(s.config.apiHost);a&&(i.eid=a);const o=s._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${lc(i).slice(1)}`}async function _D(s){const t=await fD(s),e=ur().gapi;return wt(e,s,"internal-error"),t.open({where:document.body,url:yD(s),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pD,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const u=lr(s,"network-request-failed"),f=ur().setTimeout(()=>{o(u)},hD.get());function h(){ur().clearTimeout(f),a(i)}i.ping(h).then(h,()=>{o(u)})}))}const vD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TD=500,ED=600,SD="_blank",AD="http://localhost";class bT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xD(s,t,e,i=TD,a=ED){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const h={...vD,width:i.toString(),height:a.toString(),top:o,left:u},d=pn().toLowerCase();e&&(f=zS(d)?SD:e),LS(d)&&(t=t||AD,h.scrollbars="yes");const m=Object.entries(h).reduce((T,[y,S])=>`${T}${y}=${S},`,"");if(aM(d)&&f!=="_self")return wD(t||"",f),new bT(null);const v=window.open(t||"",f,m);wt(v,s,"popup-blocked");try{v.focus()}catch{}return new bT(v)}function wD(s,t){const e=document.createElement("a");e.href=s,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const bD="__/auth/handler",RD="emulator/auth/handler",CD=encodeURIComponent("fac");async function RT(s,t,e,i,a,o){wt(s.config.authDomain,s,"auth-domain-config-required"),wt(s.config.apiKey,s,"invalid-api-key");const u={apiKey:s.config.apiKey,appName:s.name,authType:e,redirectUrl:i,v:to,eventId:a};if(t instanceof KS){t.setDefaultLanguage(s.languageCode),u.providerId=t.providerId||"",vb(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,v]of Object.entries({}))u[m]=v}if(t instanceof pc){const m=t.getScopes().filter(v=>v!=="");m.length>0&&(u.scopes=m.join(","))}s.tenantId&&(u.tid=s.tenantId);const f=u;for(const m of Object.keys(f))f[m]===void 0&&delete f[m];const h=await s._getAppCheckToken(),d=h?`#${CD}=${encodeURIComponent(h)}`:"";return`${ID(s)}?${lc(f).slice(1)}${d}`}function ID({config:s}){return s.emulator?ty(s,RD):`https://${s.authDomain}/${bD}`}const Ap="webStorageSupport";class MD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WS,this._completeRedirectFn=tD,this._overrideRedirectResult=ZM}async _openPopup(t,e,i,a){qr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await RT(t,e,i,og(),a);return xD(t,o,ay())}async _openRedirect(t,e,i,a){await this._originValidation(t);const o=await RT(t,e,i,og(),a);return NM(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(qr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await _D(t),i=new nD(t);return e.register("authEvent",a=>(wt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ap,{type:Ap},a=>{const o=a?.[0]?.[Ap];o!==void 0&&e(!!o),Hr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=oD(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return qS()||US()||iy()}}const DD=MD;var CT="@firebase/auth",IT="1.12.0";class OD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ND(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PD(s){Xa(new Qs("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;wt(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:f,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GS(s)},d=new hM(i,a,o,h);return _M(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Xa(new Qs("auth-internal",t=>{const e=ry(t.getProvider("auth").getImmediate());return(i=>new OD(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(CT,IT,ND(s)),ar(CT,IT,"esm2020")}const VD=300,kD=mE("authIdTokenMaxAge")||VD;let MT=null;const LD=s=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>kD)return;const a=e?.token;MT!==a&&(MT=a,await fetch(s,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function UD(s=Ig()){const t=Hh(s,"auth");if(t.isInitialized())return t.getImmediate();const e=yM(s,{popupRedirectResolver:DD,persistence:[FM,MM,WS]}),i=mE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=LD(o.toString());RM(e,u,()=>u(e.currentUser)),bM(e,f=>u(f))}}const a=fE("auth");return a&&vM(e,`http://${a}`),e}function zD(){return document.getElementsByTagName("head")?.[0]??document}dM({loadJS(s){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=t,i.onerror=a=>{const o=lr("internal-error");o.customData=a,e(o)},i.type="text/javascript",i.charset="UTF-8",zD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PD("Browser");const aA="firebasestorage.googleapis.com",BD="storageBucket",jD=120*1e3,FD=600*1e3;class pr extends mr{constructor(t,e,i=0){super(xp(t),`Firebase Storage: ${e} (${xp(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return xp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hr;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hr||(hr={}));function xp(s){return"storage/"+s}function HD(){const s="An unknown error occurred, please check the error payload for server response.";return new pr(hr.UNKNOWN,s)}function qD(){return new pr(hr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GD(){return new pr(hr.CANCELED,"User canceled the upload/download.")}function YD(s){return new pr(hr.INVALID_URL,"Invalid URL '"+s+"'.")}function QD(s){return new pr(hr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function DT(s){return new pr(hr.INVALID_ARGUMENT,s)}function oA(){return new pr(hr.APP_DELETED,"The Firebase app was deleted.")}function KD(s){return new pr(hr.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ri{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Ri.makeFromUrl(t,e)}catch{return new Ri(t,"")}if(i.path==="")return i;throw QD(t)}static makeFromUrl(t,e){let i=null;const a="([A-Za-z0-9.\\-_]+)";function o(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),h={bucket:1,path:3};function d(B){B.path_=decodeURIComponent(B.path)}const m="v[A-Za-z0-9_]+",v=e.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",y=new RegExp(`^https?://${v}/${m}/b/${a}/o${T}`,"i"),S={bucket:1,path:3},E=e===aA?"(?:storage.googleapis.com|storage.cloud.google.com)":e,A="([^?#]*)",O=new RegExp(`^https?://${E}/${a}/${A}`,"i"),z=[{regex:f,indices:h,postModify:o},{regex:y,indices:S,postModify:d},{regex:O,indices:{bucket:1,path:2},postModify:d}];for(let B=0;B<z.length;B++){const I=z[B],k=I.regex.exec(t);if(k){const b=k[I.indices.bucket];let x=k[I.indices.path];x||(x=""),i=new Ri(b,x),I.postModify(i);break}}if(i==null)throw YD(t);return i}}class XD{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function $D(s,t,e){let i=1,a=null,o=null,u=!1,f=0;function h(){return f===2}let d=!1;function m(...A){d||(d=!0,t.apply(null,A))}function v(A){a=setTimeout(()=>{a=null,s(y,h())},A)}function T(){o&&clearTimeout(o)}function y(A,...O){if(d){T();return}if(A){T(),m.call(null,A,...O);return}if(h()||u){T(),m.call(null,A,...O);return}i<64&&(i*=2);let z;f===1?(f=2,z=0):z=(i+Math.random())*1e3,v(z)}let S=!1;function E(A){S||(S=!0,T(),!d&&(a!==null?(A||(f=2),clearTimeout(a),v(0)):A||(f=1)))}return v(0),o=setTimeout(()=>{u=!0,E(!0)},e),E}function ZD(s){s(!1)}function JD(s){return s!==void 0}function OT(s,t,e,i){if(i<t)throw DT(`Invalid value for '${s}'. Expected ${t} or greater.`);if(i>e)throw DT(`Invalid value for '${s}'. Expected ${e} or less.`)}function WD(s){const t=encodeURIComponent;let e="?";for(const i in s)if(s.hasOwnProperty(i)){const a=t(i)+"="+t(s[i]);e=e+a+"&"}return e=e.slice(0,-1),e}var Dh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Dh||(Dh={}));function tO(s,t){const e=s>=500&&s<600,a=[408,429].indexOf(s)!==-1,o=t.indexOf(s)!==-1;return e||a||o}class eO{constructor(t,e,i,a,o,u,f,h,d,m,v,T=!0,y=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=m,this.connectionFactory_=v,this.retry=T,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,E)=>{this.resolve_=S,this.reject_=E,this.start_()})}start_(){const t=(i,a)=>{if(a){i(!1,new Jf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=f=>{const h=f.loaded,d=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const f=o.getErrorCode()===Dh.NO_ERROR,h=o.getStatus();if(!f||tO(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===Dh.ABORT;i(!1,new Jf(!1,null,m));return}const d=this.successCodes_.indexOf(h)!==-1;i(!0,new Jf(d,o))})},e=(i,a)=>{const o=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());JD(h)?o(h):o()}catch(h){u(h)}else if(f!==null){const h=HD();h.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,h)):u(h)}else if(a.canceled){const h=this.appDelete_?oA():GD();u(h)}else{const h=qD();u(h)}};this.canceled_?e(!1,new Jf(!1,null,!0)):this.backoffId_=$D(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&ZD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jf{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function nO(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function iO(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function rO(s,t){t&&(s["X-Firebase-GMPID"]=t)}function sO(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function aO(s,t,e,i,a,o,u=!0,f=!1){const h=WD(s.urlParams),d=s.url+h,m=Object.assign({},s.headers);return rO(m,t),nO(m,e),iO(m,o),sO(m,i),new eO(d,s.method,m,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,a,u,f)}function oO(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function lO(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}class Oh{constructor(t,e){this._service=t,e instanceof Ri?this._location=e:this._location=Ri.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Oh(t,e)}get root(){const t=new Ri(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lO(this._location.path)}get storage(){return this._service}get parent(){const t=oO(this._location.path);if(t===null)return null;const e=new Ri(this._location.bucket,t);return new Oh(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw KD(t)}}function NT(s,t){const e=t?.[BD];return e==null?null:Ri.makeFromBucketSpec(e,s)}function uO(s,t,e,i={}){s.host=`${t}:${e}`;const a=Wa(t);a&&(wg(`https://${s.host}/b`),bg("Storage",!0)),s._isUsingEmulator=!0,s._protocol=a?"https":"http";const{mockUserToken:o}=i;o&&(s._overrideAuthToken=typeof o=="string"?o:pE(o,s.app.options.projectId))}class cO{constructor(t,e,i,a,o,u=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=aA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jD,this._maxUploadRetryTime=FD,this._requests=new Set,a!=null?this._bucket=Ri.makeFromBucketSpec(a,this._host):this._bucket=NT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ri.makeFromBucketSpec(this._url,t):this._bucket=NT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){OT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){OT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Oh(this,t)}_makeRequest(t,e,i,a,o=!0){if(this._deleted)return new XD(oA());{const u=aO(t,this._appId,i,a,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,e){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,a).getPromise()}}const PT="@firebase/storage",VT="0.14.0";const lA="storage";function fO(s=Ig(),t){s=Ci(s);const i=Hh(s,lA).getImmediate({identifier:t}),a=hE("storage");return a&&hO(i,...a),i}function hO(s,t,e,i={}){uO(s,t,e,i)}function dO(s,{instanceIdentifier:t}){const e=s.getProvider("app").getImmediate(),i=s.getProvider("auth-internal"),a=s.getProvider("app-check-internal");return new cO(e,i,a,t,to)}function mO(){Xa(new Qs(lA,dO,"PUBLIC").setMultipleInstances(!0)),ar(PT,VT,""),ar(PT,VT,"esm2020")}mO();const pO={apiKey:"AIzaSyCb_QEMxfMVBLUGEK2AtNsK1Z0-B0VKIDI",authDomain:"apple-dream-advertising-model.firebaseapp.com",projectId:"apple-dream-advertising-model",storageBucket:"apple-dream-advertising-model.firebasestorage.app",messagingSenderId:"717961749939",appId:"1:717961749939:web:927c721a1d69f34e6557c6",measurementId:void 0},ly=_E(pO),Nh=II(ly);UD(ly);fO(ly);const Wf=3;function gO(){const[s,t]=mt.useState([]),[e,i]=mt.useState(0),[a,o]=mt.useState(0),[u,f]=mt.useState(null),[h,d]=mt.useState(!1),m=mt.useRef([]),v=mt.useRef(0),T=mt.useRef(Date.now()),y=mt.useRef(null),S=mt.useRef(!1),E=mt.useRef(0),A=mt.useRef(0);mt.useEffect(()=>{const b=xh(Jg(Nh,"categories"),x=>{E.current=0,d(A.current>=Wf);const R=x.docs.map(M=>({id:M.id,...M.data()})).filter(M=>M.active).sort((M,N)=>(M.order??99)-(N.order??99));m.current=R,t(R)},x=>{console.error("[useRotation] categories error:",x),E.current+=1,E.current>=Wf&&d(!0)});return()=>b()},[]),mt.useEffect(()=>{const b=xh(CI(Nh,"settings","display"),x=>{if(A.current=0,d(E.current>=Wf),x.exists()){const R=x.data().lastPushed;f(M=>(M!==null&&R!==M&&(S.current=!0),R))}},x=>{console.error("[useRotation] settings error:",x),A.current+=1,A.current>=Wf&&d(!0)});return()=>b()},[]);const O=mt.useCallback(()=>{const b=m.current;if(b.length===0){y.current=requestAnimationFrame(O);return}if(S.current){S.current=!1,v.current=0,i(0),T.current=Date.now(),o(0),y.current=requestAnimationFrame(O);return}const R=(b[v.current%b.length]?.displayDuration??15)*1e3,M=Date.now()-T.current,N=Math.min(M/R,1);if(o(N),N>=1){const P=(v.current+1)%b.length;v.current=P,i(P),T.current=Date.now()}y.current=requestAnimationFrame(O)},[]);mt.useEffect(()=>(y.current=requestAnimationFrame(O),()=>{y.current&&cancelAnimationFrame(y.current)}),[O]);const L=mt.useCallback(b=>{const x=m.current;let R=typeof b=="number"?b:x.findIndex(M=>M.id===b);R<0&&(R=0),v.current=R,i(R),T.current=Date.now(),o(0)},[]),z=s.length>0?e%s.length:0,B=s[z]??null,I=s.length>1?(z+1)%s.length:z,k=s[I]??null;return{currentCategory:B,nextCategory:k,progress:a,jumpTo:L,categories:s,connectionError:h}}const wp=80;function yO(s){const t=s.replace("#","").trim(),e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}}function kT(s,t,e){return{x:Math.random()*s,y:t+Math.random()*40,size:Math.random()*3+1,speedY:Math.random()*.6+.3,drift:(Math.random()-.5)*.4,opacity:Math.random()*.6+.2,color:e}}function _O({categoryAccent:s}){const t=mt.useRef(null),e=mt.useRef([]),i=mt.useRef(null),a=mt.useRef(s||"#7cb518"),o=mt.useRef(Math.min(window.devicePixelRatio||1,2));return mt.useEffect(()=>{a.current=s||"#7cb518",e.current=e.current.map(u=>({...u,color:a.current}))},[s]),mt.useEffect(()=>{const u=t.current;if(!u)return;const f=u.getContext("2d"),h=o.current,d=()=>{const S=window.innerWidth,E=window.innerHeight;u.width=S*h,u.height=E*h,u.style.width=S+"px",u.style.height=E+"px",f.setTransform(h,0,0,h,0,0)};d(),window.addEventListener("resize",d);const m=window.innerWidth,v=window.innerHeight,T=Math.min(wp,50);e.current=Array.from({length:T},()=>kT(m,v,a.current)),e.current=e.current.map(S=>({...S,y:Math.random()*v}));const y=()=>{const S=window.innerWidth,E=window.innerHeight;f.clearRect(0,0,S,E),e.current.length>wp&&(e.current=e.current.slice(0,wp)),e.current=e.current.map(A=>{const O=A.y-A.speedY,L=A.x+A.drift;if(O<-10)return kT(S,E,a.current);const z=yO(A.color);f.beginPath(),f.arc(L,O,A.size,0,Math.PI*2);const B=f.createRadialGradient(L,O,0,L,O,A.size*2);return B.addColorStop(0,`rgba(${z.r},${z.g},${z.b},${A.opacity})`),B.addColorStop(1,`rgba(${z.r},${z.g},${z.b},0)`),f.fillStyle=B,f.fill(),{...A,x:L,y:O}}),i.current=requestAnimationFrame(y)};return i.current=requestAnimationFrame(y),()=>{i.current&&cancelAnimationFrame(i.current),window.removeEventListener("resize",d)}},[]),F.jsx("canvas",{ref:t,style:{position:"fixed",inset:0,pointerEvents:"none",zIndex:1,opacity:.8},"aria-hidden":"true"})}function Lr(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function uA(s,t){s.prototype=Object.create(t.prototype),s.prototype.constructor=s,s.__proto__=t}var Yn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_l={duration:.5,overwrite:!1,delay:0},uy,an,he,fi=1e8,ae=1/fi,cg=Math.PI*2,vO=cg/4,TO=0,cA=Math.sqrt,EO=Math.cos,SO=Math.sin,$e=function(t){return typeof t=="string"},Te=function(t){return typeof t=="function"},Gr=function(t){return typeof t=="number"},cy=function(t){return typeof t>"u"},dr=function(t){return typeof t=="object"},Cn=function(t){return t!==!1},fy=function(){return typeof window<"u"},th=function(t){return Te(t)||$e(t)},fA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},mn=Array.isArray,AO=/random\([^)]+\)/g,xO=/,\s*/g,LT=/(?:-?\.?\d|\.)+/gi,hA=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Jo=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,bp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,dA=/[+-]=-?[.\d]+/,wO=/[^,'"\[\]\s]+/gi,bO=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,me,er,fg,hy,Qn={},Ph={},mA,pA=function(t){return(Ph=vl(t,Qn))&&On},dy=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Wu=function(t,e){return!e&&console.warn(t)},gA=function(t,e){return t&&(Qn[t]=e)&&Ph&&(Ph[t]=e)||Qn},tc=function(){return 0},RO={suppressEvents:!0,isStart:!0,kill:!1},fh={suppressEvents:!0,kill:!1},CO={suppressEvents:!0},my={},Gs=[],hg={},yA,Fn={},Rp={},UT=30,hh=[],py="",gy=function(t){var e=t[0],i,a;if(dr(e)||Te(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(a=hh.length;a--&&!hh[a].targetTest(e););i=hh[a]}for(a=t.length;a--;)t[a]&&(t[a]._gsap||(t[a]._gsap=new jA(t[a],i)))||t.splice(a,1);return t},qa=function(t){return t._gsap||gy(hi(t))[0]._gsap},_A=function(t,e,i){return(i=t[e])&&Te(i)?t[e]():cy(i)&&t.getAttribute&&t.getAttribute(e)||i},In=function(t,e){return(t=t.split(",")).forEach(e)||t},Re=function(t){return Math.round(t*1e5)/1e5||0},de=function(t){return Math.round(t*1e7)/1e7||0},ll=function(t,e){var i=e.charAt(0),a=parseFloat(e.substr(2));return t=parseFloat(t),i==="+"?t+a:i==="-"?t-a:i==="*"?t*a:t/a},IO=function(t,e){for(var i=e.length,a=0;t.indexOf(e[a])<0&&++a<i;);return a<i},Vh=function(){var t=Gs.length,e=Gs.slice(0),i,a;for(hg={},Gs.length=0,i=0;i<t;i++)a=e[i],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},yy=function(t){return!!(t._initted||t._startAt||t.add)},vA=function(t,e,i,a){Gs.length&&!an&&Vh(),t.render(e,i,!!(an&&e<0&&yy(t))),Gs.length&&!an&&Vh()},TA=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(wO).length<2?e:$e(t)?t.trim():t},EA=function(t){return t},Kn=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},MO=function(t){return function(e,i){for(var a in i)a in e||a==="duration"&&t||a==="ease"||(e[a]=i[a])}},vl=function(t,e){for(var i in e)t[i]=e[i];return t},zT=function s(t,e){for(var i in e)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(t[i]=dr(e[i])?s(t[i]||(t[i]={}),e[i]):e[i]);return t},kh=function(t,e){var i={},a;for(a in t)a in e||(i[a]=t[a]);return i},qu=function(t){var e=t.parent||me,i=t.keyframes?MO(mn(t.keyframes)):Kn;if(Cn(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},DO=function(t,e){for(var i=t.length,a=i===e.length;a&&i--&&t[i]===e[i];);return i<0},SA=function(t,e,i,a,o){var u=t[a],f;if(o)for(f=e[o];u&&u[o]>f;)u=u._prev;return u?(e._next=u._next,u._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[a]=e,e._prev=u,e.parent=e._dp=t,e},sd=function(t,e,i,a){i===void 0&&(i="_first"),a===void 0&&(a="_last");var o=e._prev,u=e._next;o?o._next=u:t[i]===e&&(t[i]=u),u?u._prev=o:t[a]===e&&(t[a]=o),e._next=e._prev=e.parent=null},ta=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Ga=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},OO=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},dg=function(t,e,i,a){return t._startAt&&(an?t._startAt.revert(fh):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,a))},NO=function s(t){return!t||t._ts&&s(t.parent)},BT=function(t){return t._repeat?Tl(t._tTime,t=t.duration()+t._rDelay)*t:0},Tl=function(t,e){var i=Math.floor(t=de(t/e));return t&&i===t?i-1:i},Lh=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},ad=function(t){return t._end=de(t._start+(t._tDur/Math.abs(t._ts||t._rts||ae)||0))},od=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=de(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),ad(t),i._dirty||Ga(i,t)),t},AA=function(t,e){var i;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(i=Lh(t.rawTime(),e),(!e._dur||yc(0,e.totalDuration(),i)-e._tTime>ae)&&e.render(i,!0)),Ga(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-ae}},rr=function(t,e,i,a){return e.parent&&ta(e),e._start=de((Gr(i)?i:i||t!==me?ci(t,i,e):t._time)+e._delay),e._end=de(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),SA(t,e,"_first","_last",t._sort?"_start":0),mg(e)||(t._recent=e),a||AA(t,e),t._ts<0&&od(t,t._tTime),t},xA=function(t,e){return(Qn.ScrollTrigger||dy("scrollTrigger",e))&&Qn.ScrollTrigger.create(e,t)},wA=function(t,e,i,a,o){if(vy(t,e,o),!t._initted)return 1;if(!i&&t._pt&&!an&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&yA!==Hn.frame)return Gs.push(t),t._lazy=[o,a],1},PO=function s(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||s(e))},mg=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},VO=function(t,e,i,a){var o=t.ratio,u=e<0||!e&&(!t._start&&PO(t)&&!(!t._initted&&mg(t))||(t._ts<0||t._dp._ts<0)&&!mg(t))?0:1,f=t._rDelay,h=0,d,m,v;if(f&&t._repeat&&(h=yc(0,t._tDur,e),m=Tl(h,f),t._yoyo&&m&1&&(u=1-u),m!==Tl(t._tTime,f)&&(o=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),u!==o||an||a||t._zTime===ae||!e&&t._zTime){if(!t._initted&&wA(t,e,a,i,h))return;for(v=t._zTime,t._zTime=e||(i?ae:0),i||(i=e&&!v),t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=h,d=t._pt;d;)d.r(u,d.d),d=d._next;e<0&&dg(t,e,i,!0),t._onUpdate&&!i&&qn(t,"onUpdate"),h&&t._repeat&&!i&&t.parent&&qn(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===u&&(u&&ta(t,1),!i&&!an&&(qn(t,u?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},kO=function(t,e,i){var a;if(i>e)for(a=t._first;a&&a._start<=i;){if(a.data==="isPause"&&a._start>e)return a;a=a._next}else for(a=t._last;a&&a._start>=i;){if(a.data==="isPause"&&a._start<e)return a;a=a._prev}},El=function(t,e,i,a){var o=t._repeat,u=de(e)||0,f=t._tTime/t._tDur;return f&&!a&&(t._time*=u/t._dur),t._dur=u,t._tDur=o?o<0?1e10:de(u*(o+1)+t._rDelay*o):u,f>0&&!a&&od(t,t._tTime=t._tDur*f),t.parent&&ad(t),i||Ga(t.parent,t),t},jT=function(t){return t instanceof vn?Ga(t):El(t,t._dur)},LO={_start:0,endTime:tc,totalDuration:tc},ci=function s(t,e,i){var a=t.labels,o=t._recent||LO,u=t.duration()>=fi?o.endTime(!1):t._dur,f,h,d;return $e(e)&&(isNaN(e)||e in a)?(h=e.charAt(0),d=e.substr(-1)==="%",f=e.indexOf("="),h==="<"||h===">"?(f>=0&&(e=e.replace(/=/,"")),(h==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(e.substr(1))||0)*(d?(f<0?o:i).totalDuration()/100:1)):f<0?(e in a||(a[e]=u),a[e]):(h=parseFloat(e.charAt(f-1)+e.substr(f+1)),d&&i&&(h=h/100*(mn(i)?i[0]:i).totalDuration()),f>1?s(t,e.substr(0,f-1),i)+h:u+h)):e==null?u:+e},Gu=function(t,e,i){var a=Gr(e[1]),o=(a?2:1)+(t<2?0:1),u=e[o],f,h;if(a&&(u.duration=e[1]),u.parent=i,t){for(f=u,h=i;h&&!("immediateRender"in f);)f=h.vars.defaults||{},h=Cn(h.vars.inherit)&&h.parent;u.immediateRender=Cn(f.immediateRender),t<2?u.runBackwards=1:u.startAt=e[o-1]}return new Ue(e[0],u,e[o+1])},ia=function(t,e){return t||t===0?e(t):e},yc=function(t,e,i){return i<t?t:i>e?e:i},hn=function(t,e){return!$e(t)||!(e=bO.exec(t))?"":e[1]},UO=function(t,e,i){return ia(i,function(a){return yc(t,e,a)})},pg=[].slice,bA=function(t,e){return t&&dr(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&dr(t[0]))&&!t.nodeType&&t!==er},zO=function(t,e,i){return i===void 0&&(i=[]),t.forEach(function(a){var o;return $e(a)&&!e||bA(a,1)?(o=i).push.apply(o,hi(a)):i.push(a)})||i},hi=function(t,e,i){return he&&!e&&he.selector?he.selector(t):$e(t)&&!i&&(fg||!Sl())?pg.call((e||hy).querySelectorAll(t),0):mn(t)?zO(t,i):bA(t)?pg.call(t,0):t?[t]:[]},gg=function(t){return t=hi(t)[0]||Wu("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return hi(e,i.querySelectorAll?i:i===t?Wu("Invalid scope")||hy.createElement("div"):t)}},RA=function(t){return t.sort(function(){return .5-Math.random()})},CA=function(t){if(Te(t))return t;var e=dr(t)?t:{each:t},i=Ya(e.ease),a=e.from||0,o=parseFloat(e.base)||0,u={},f=a>0&&a<1,h=isNaN(a)||f,d=e.axis,m=a,v=a;return $e(a)?m=v={center:.5,edges:.5,end:1}[a]||0:!f&&h&&(m=a[0],v=a[1]),function(T,y,S){var E=(S||e).length,A=u[E],O,L,z,B,I,k,b,x,R;if(!A){if(R=e.grid==="auto"?0:(e.grid||[1,fi])[1],!R){for(b=-fi;b<(b=S[R++].getBoundingClientRect().left)&&R<E;);R<E&&R--}for(A=u[E]=[],O=h?Math.min(R,E)*m-.5:a%R,L=R===fi?0:h?E*v/R-.5:a/R|0,b=0,x=fi,k=0;k<E;k++)z=k%R-O,B=L-(k/R|0),A[k]=I=d?Math.abs(d==="y"?B:z):cA(z*z+B*B),I>b&&(b=I),I<x&&(x=I);a==="random"&&RA(A),A.max=b-x,A.min=x,A.v=E=(parseFloat(e.amount)||parseFloat(e.each)*(R>E?E-1:d?d==="y"?E/R:R:Math.max(R,E/R))||0)*(a==="edges"?-1:1),A.b=E<0?o-E:o,A.u=hn(e.amount||e.each)||0,i=i&&E<0?UA(i):i}return E=(A[T]-A.min)/A.max||0,de(A.b+(i?i(E):E)*A.v)+A.u}},yg=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var a=de(Math.round(parseFloat(i)/t)*t*e);return(a-a%1)/e+(Gr(i)?0:hn(i))}},IA=function(t,e){var i=mn(t),a,o;return!i&&dr(t)&&(a=i=t.radius||fi,t.values?(t=hi(t.values),(o=!Gr(t[0]))&&(a*=a)):t=yg(t.increment)),ia(e,i?Te(t)?function(u){return o=t(u),Math.abs(o-u)<=a?o:u}:function(u){for(var f=parseFloat(o?u.x:u),h=parseFloat(o?u.y:0),d=fi,m=0,v=t.length,T,y;v--;)o?(T=t[v].x-f,y=t[v].y-h,T=T*T+y*y):T=Math.abs(t[v]-f),T<d&&(d=T,m=v);return m=!a||d<=a?t[m]:u,o||m===u||Gr(u)?m:m+hn(u)}:yg(t))},MA=function(t,e,i,a){return ia(mn(t)?!e:i===!0?!!(i=0):!a,function(){return mn(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(a=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+i*.99))/i)*i*a)/a})},BO=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(a){return e.reduce(function(o,u){return u(o)},a)}},jO=function(t,e){return function(i){return t(parseFloat(i))+(e||hn(i))}},FO=function(t,e,i){return OA(t,e,0,1,i)},DA=function(t,e,i){return ia(i,function(a){return t[~~e(a)]})},HO=function s(t,e,i){var a=e-t;return mn(t)?DA(t,s(0,t.length),e):ia(i,function(o){return(a+(o-t)%a)%a+t})},qO=function s(t,e,i){var a=e-t,o=a*2;return mn(t)?DA(t,s(0,t.length-1),e):ia(i,function(u){return u=(o+(u-t)%o)%o||0,t+(u>a?o-u:u)})},ec=function(t){return t.replace(AO,function(e){var i=e.indexOf("[")+1,a=e.substring(i||7,i?e.indexOf("]"):e.length-1).split(xO);return MA(i?a:+a[0],i?0:+a[1],+a[2]||1e-5)})},OA=function(t,e,i,a,o){var u=e-t,f=a-i;return ia(o,function(h){return i+((h-t)/u*f||0)})},GO=function s(t,e,i,a){var o=isNaN(t+e)?0:function(y){return(1-y)*t+y*e};if(!o){var u=$e(t),f={},h,d,m,v,T;if(i===!0&&(a=1)&&(i=null),u)t={p:t},e={p:e};else if(mn(t)&&!mn(e)){for(m=[],v=t.length,T=v-2,d=1;d<v;d++)m.push(s(t[d-1],t[d]));v--,o=function(S){S*=v;var E=Math.min(T,~~S);return m[E](S-E)},i=e}else a||(t=vl(mn(t)?[]:{},t));if(!m){for(h in e)_y.call(f,t,h,"get",e[h]);o=function(S){return Sy(S,f)||(u?t.p:t)}}}return ia(i,o)},FT=function(t,e,i){var a=t.labels,o=fi,u,f,h;for(u in a)f=a[u]-e,f<0==!!i&&f&&o>(f=Math.abs(f))&&(h=u,o=f);return h},qn=function(t,e,i){var a=t.vars,o=a[e],u=he,f=t._ctx,h,d,m;if(o)return h=a[e+"Params"],d=a.callbackScope||t,i&&Gs.length&&Vh(),f&&(he=f),m=h?o.apply(d,h):o.call(d),he=u,m},ku=function(t){return ta(t),t.scrollTrigger&&t.scrollTrigger.kill(!!an),t.progress()<1&&qn(t,"onInterrupt"),t},Wo,NA=[],PA=function(t){if(t)if(t=!t.name&&t.default||t,fy()||t.headless){var e=t.name,i=Te(t),a=e&&!i&&t.init?function(){this._props=[]}:t,o={init:tc,render:Sy,add:_y,kill:oN,modifier:aN,rawVars:0},u={targetTest:0,get:0,getSetter:Ey,aliases:{},register:0};if(Sl(),t!==a){if(Fn[e])return;Kn(a,Kn(kh(t,o),u)),vl(a.prototype,vl(o,kh(t,u))),Fn[a.prop=e]=a,t.targetTest&&(hh.push(a),my[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}gA(e,a),t.register&&t.register(On,a,Mn)}else NA.push(t)},se=255,Lu={aqua:[0,se,se],lime:[0,se,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,se],navy:[0,0,128],white:[se,se,se],olive:[128,128,0],yellow:[se,se,0],orange:[se,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[se,0,0],pink:[se,192,203],cyan:[0,se,se],transparent:[se,se,se,0]},Cp=function(t,e,i){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(i-e)*t*6:t<.5?i:t*3<2?e+(i-e)*(2/3-t)*6:e)*se+.5|0},VA=function(t,e,i){var a=t?Gr(t)?[t>>16,t>>8&se,t&se]:0:Lu.black,o,u,f,h,d,m,v,T,y,S;if(!a){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Lu[t])a=Lu[t];else if(t.charAt(0)==="#"){if(t.length<6&&(o=t.charAt(1),u=t.charAt(2),f=t.charAt(3),t="#"+o+o+u+u+f+f+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return a=parseInt(t.substr(1,6),16),[a>>16,a>>8&se,a&se,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),a=[t>>16,t>>8&se,t&se]}else if(t.substr(0,3)==="hsl"){if(a=S=t.match(LT),!e)h=+a[0]%360/360,d=+a[1]/100,m=+a[2]/100,u=m<=.5?m*(d+1):m+d-m*d,o=m*2-u,a.length>3&&(a[3]*=1),a[0]=Cp(h+1/3,o,u),a[1]=Cp(h,o,u),a[2]=Cp(h-1/3,o,u);else if(~t.indexOf("="))return a=t.match(hA),i&&a.length<4&&(a[3]=1),a}else a=t.match(LT)||Lu.transparent;a=a.map(Number)}return e&&!S&&(o=a[0]/se,u=a[1]/se,f=a[2]/se,v=Math.max(o,u,f),T=Math.min(o,u,f),m=(v+T)/2,v===T?h=d=0:(y=v-T,d=m>.5?y/(2-v-T):y/(v+T),h=v===o?(u-f)/y+(u<f?6:0):v===u?(f-o)/y+2:(o-u)/y+4,h*=60),a[0]=~~(h+.5),a[1]=~~(d*100+.5),a[2]=~~(m*100+.5)),i&&a.length<4&&(a[3]=1),a},kA=function(t){var e=[],i=[],a=-1;return t.split(Ys).forEach(function(o){var u=o.match(Jo)||[];e.push.apply(e,u),i.push(a+=u.length+1)}),e.c=i,e},HT=function(t,e,i){var a="",o=(t+a).match(Ys),u=e?"hsla(":"rgba(",f=0,h,d,m,v;if(!o)return t;if(o=o.map(function(T){return(T=VA(T,e,1))&&u+(e?T[0]+","+T[1]+"%,"+T[2]+"%,"+T[3]:T.join(","))+")"}),i&&(m=kA(t),h=i.c,h.join(a)!==m.c.join(a)))for(d=t.replace(Ys,"1").split(Jo),v=d.length-1;f<v;f++)a+=d[f]+(~h.indexOf(f)?o.shift()||u+"0,0,0,0)":(m.length?m:o.length?o:i).shift());if(!d)for(d=t.split(Ys),v=d.length-1;f<v;f++)a+=d[f]+o[f];return a+d[v]},Ys=(function(){var s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Lu)s+="|"+t+"\\b";return new RegExp(s+")","gi")})(),YO=/hsl[a]?\(/,LA=function(t){var e=t.join(" "),i;if(Ys.lastIndex=0,Ys.test(e))return i=YO.test(e),t[1]=HT(t[1],i),t[0]=HT(t[0],i,kA(t[1])),!0},nc,Hn=(function(){var s=Date.now,t=500,e=33,i=s(),a=i,o=1e3/240,u=o,f=[],h,d,m,v,T,y,S=function E(A){var O=s()-a,L=A===!0,z,B,I,k;if((O>t||O<0)&&(i+=O-e),a+=O,I=a-i,z=I-u,(z>0||L)&&(k=++v.frame,T=I-v.time*1e3,v.time=I=I/1e3,u+=z+(z>=o?4:o-z),B=1),L||(h=d(E)),B)for(y=0;y<f.length;y++)f[y](I,T,k,A)};return v={time:0,frame:0,tick:function(){S(!0)},deltaRatio:function(A){return T/(1e3/(A||60))},wake:function(){mA&&(!fg&&fy()&&(er=fg=window,hy=er.document||{},Qn.gsap=On,(er.gsapVersions||(er.gsapVersions=[])).push(On.version),pA(Ph||er.GreenSockGlobals||!er.gsap&&er||{}),NA.forEach(PA)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,h&&v.sleep(),d=m||function(A){return setTimeout(A,u-v.time*1e3+1|0)},nc=1,S(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(h),nc=0,d=tc},lagSmoothing:function(A,O){t=A||1/0,e=Math.min(O||33,t)},fps:function(A){o=1e3/(A||240),u=v.time*1e3+o},add:function(A,O,L){var z=O?function(B,I,k,b){A(B,I,k,b),v.remove(z)}:A;return v.remove(A),f[L?"unshift":"push"](z),Sl(),z},remove:function(A,O){~(O=f.indexOf(A))&&f.splice(O,1)&&y>=O&&y--},_listeners:f},v})(),Sl=function(){return!nc&&Hn.wake()},jt={},QO=/^[\d.\-M][\d.\-,\s]/,KO=/["']/g,XO=function(t){for(var e={},i=t.substr(1,t.length-3).split(":"),a=i[0],o=1,u=i.length,f,h,d;o<u;o++)h=i[o],f=o!==u-1?h.lastIndexOf(","):h.length,d=h.substr(0,f),e[a]=isNaN(d)?d.replace(KO,"").trim():+d,a=h.substr(f+1).trim();return e},$O=function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),a=t.indexOf("(",e);return t.substring(e,~a&&a<i?t.indexOf(")",i+1):i)},ZO=function(t){var e=(t+"").split("("),i=jt[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[XO(e[1])]:$O(t).split(",").map(TA)):jt._CE&&QO.test(t)?jt._CE("",t):i},UA=function(t){return function(e){return 1-t(1-e)}},zA=function s(t,e){for(var i=t._first,a;i;)i instanceof vn?s(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?s(i.timeline,e):(a=i._ease,i._ease=i._yEase,i._yEase=a,i._yoyo=e)),i=i._next},Ya=function(t,e){return t&&(Te(t)?t:jt[t]||ZO(t))||e},no=function(t,e,i,a){i===void 0&&(i=function(h){return 1-e(1-h)}),a===void 0&&(a=function(h){return h<.5?e(h*2)/2:1-e((1-h)*2)/2});var o={easeIn:e,easeOut:i,easeInOut:a},u;return In(t,function(f){jt[f]=Qn[f]=o,jt[u=f.toLowerCase()]=i;for(var h in o)jt[u+(h==="easeIn"?".in":h==="easeOut"?".out":".inOut")]=jt[f+"."+h]=o[h]}),o},BA=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},Ip=function s(t,e,i){var a=e>=1?e:1,o=(i||(t?.3:.45))/(e<1?e:1),u=o/cg*(Math.asin(1/a)||0),f=function(m){return m===1?1:a*Math.pow(2,-10*m)*SO((m-u)*o)+1},h=t==="out"?f:t==="in"?function(d){return 1-f(1-d)}:BA(f);return o=cg/o,h.config=function(d,m){return s(t,d,m)},h},Mp=function s(t,e){e===void 0&&(e=1.70158);var i=function(u){return u?--u*u*((e+1)*u+e)+1:0},a=t==="out"?i:t==="in"?function(o){return 1-i(1-o)}:BA(i);return a.config=function(o){return s(t,o)},a};In("Linear,Quad,Cubic,Quart,Quint,Strong",function(s,t){var e=t<5?t+1:t;no(s+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(i*2,e)/2:1-Math.pow((1-i)*2,e)/2})});jt.Linear.easeNone=jt.none=jt.Linear.easeIn;no("Elastic",Ip("in"),Ip("out"),Ip());(function(s,t){var e=1/t,i=2*e,a=2.5*e,o=function(f){return f<e?s*f*f:f<i?s*Math.pow(f-1.5/t,2)+.75:f<a?s*(f-=2.25/t)*f+.9375:s*Math.pow(f-2.625/t,2)+.984375};no("Bounce",function(u){return 1-o(1-u)},o)})(7.5625,2.75);no("Expo",function(s){return Math.pow(2,10*(s-1))*s+s*s*s*s*s*s*(1-s)});no("Circ",function(s){return-(cA(1-s*s)-1)});no("Sine",function(s){return s===1?1:-EO(s*vO)+1});no("Back",Mp("in"),Mp("out"),Mp());jt.SteppedEase=jt.steps=Qn.SteppedEase={config:function(t,e){t===void 0&&(t=1);var i=1/t,a=t+(e?0:1),o=e?1:0,u=1-ae;return function(f){return((a*yc(0,u,f)|0)+o)*i}}};_l.ease=jt["quad.out"];In("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(s){return py+=s+","+s+"Params,"});var jA=function(t,e){this.id=TO++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:_A,this.set=e?e.getSetter:Ey},ic=(function(){function s(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,El(this,+e.duration,1,1),this.data=e.data,he&&(this._ctx=he,he.data.push(this)),nc||Hn.wake()}var t=s.prototype;return t.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,El(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,a){if(Sl(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(od(this,i),!o._dp||o.parent||AA(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&rr(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===ae||!this._initted&&this._dur&&i||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),vA(this,i,a)),this},t.time=function(i,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+BT(this))%(this._dur+this._rDelay)||(i?this._dur:0),a):this._time},t.totalProgress=function(i,a){return arguments.length?this.totalTime(this.totalDuration()*i,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(i,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+BT(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(i,a){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*o,a):this._repeat?Tl(this._tTime,o)+1:1},t.timeScale=function(i,a){if(!arguments.length)return this._rts===-ae?0:this._rts;if(this._rts===i)return this;var o=this.parent&&this._ts?Lh(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-ae?0:this._rts,this.totalTime(yc(-Math.abs(this._delay),this.totalDuration(),o),a!==!1),ad(this),OO(this)},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Sl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ae&&(this._tTime-=ae)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=de(i);var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&rr(a,this,this._start-this._delay),this}return this._start},t.endTime=function(i){return this._start+(Cn(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var a=this.parent||this._dp;return a?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Lh(a.rawTime(i),this):this._tTime:this._tTime},t.revert=function(i){i===void 0&&(i=CO);var a=an;return an=i,yy(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),an=a,this},t.globalTime=function(i){for(var a=this,o=arguments.length?i:a.rawTime();a;)o=a._start+o/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(i):o},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,jT(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var a=this._time;return this._rDelay=i,jT(this),a?this.time(a):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,a){return this.totalTime(ci(this,i),Cn(a))},t.restart=function(i,a){return this.play().totalTime(i?-this._delay:0,Cn(a)),this._dur||(this._zTime=-ae),this},t.play=function(i,a){return i!=null&&this.seek(i,a),this.reversed(!1).paused(!1)},t.reverse=function(i,a){return i!=null&&this.seek(i||this.totalDuration(),a),this.reversed(!0).paused(!1)},t.pause=function(i,a){return i!=null&&this.seek(i,a),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-ae:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-ae,this},t.isActive=function(){var i=this.parent||this._dp,a=this._start,o;return!!(!i||this._ts&&this._initted&&i.isActive()&&(o=i.rawTime(!0))>=a&&o<this.endTime(!0)-ae)},t.eventCallback=function(i,a,o){var u=this.vars;return arguments.length>1?(a?(u[i]=a,o&&(u[i+"Params"]=o),i==="onUpdate"&&(this._onUpdate=a)):delete u[i],this):u[i]},t.then=function(i){var a=this,o=a._prom;return new Promise(function(u){var f=Te(i)?i:EA,h=function(){var m=a.then;a.then=null,o&&o(),Te(f)&&(f=f(a))&&(f.then||f===a)&&(a.then=m),u(f),a.then=m};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?h():a._prom=h})},t.kill=function(){ku(this)},s})();Kn(ic.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ae,_prom:0,_ps:!1,_rts:1});var vn=(function(s){uA(t,s);function t(i,a){var o;return i===void 0&&(i={}),o=s.call(this,i)||this,o.labels={},o.smoothChildTiming=!!i.smoothChildTiming,o.autoRemoveChildren=!!i.autoRemoveChildren,o._sort=Cn(i.sortChildren),me&&rr(i.parent||me,Lr(o),a),i.reversed&&o.reverse(),i.paused&&o.paused(!0),i.scrollTrigger&&xA(Lr(o),i.scrollTrigger),o}var e=t.prototype;return e.to=function(a,o,u){return Gu(0,arguments,this),this},e.from=function(a,o,u){return Gu(1,arguments,this),this},e.fromTo=function(a,o,u,f){return Gu(2,arguments,this),this},e.set=function(a,o,u){return o.duration=0,o.parent=this,qu(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new Ue(a,o,ci(this,u),1),this},e.call=function(a,o,u){return rr(this,Ue.delayedCall(0,a,o),u)},e.staggerTo=function(a,o,u,f,h,d,m){return u.duration=o,u.stagger=u.stagger||f,u.onComplete=d,u.onCompleteParams=m,u.parent=this,new Ue(a,u,ci(this,h)),this},e.staggerFrom=function(a,o,u,f,h,d,m){return u.runBackwards=1,qu(u).immediateRender=Cn(u.immediateRender),this.staggerTo(a,o,u,f,h,d,m)},e.staggerFromTo=function(a,o,u,f,h,d,m,v){return f.startAt=u,qu(f).immediateRender=Cn(f.immediateRender),this.staggerTo(a,o,f,h,d,m,v)},e.render=function(a,o,u){var f=this._time,h=this._dirty?this.totalDuration():this._tDur,d=this._dur,m=a<=0?0:de(a),v=this._zTime<0!=a<0&&(this._initted||!d),T,y,S,E,A,O,L,z,B,I,k,b;if(this!==me&&m>h&&a>=0&&(m=h),m!==this._tTime||u||v){if(f!==this._time&&d&&(m+=this._time-f,a+=this._time-f),T=m,B=this._start,z=this._ts,O=!z,v&&(d||(f=this._zTime),(a||!o)&&(this._zTime=a)),this._repeat){if(k=this._yoyo,A=d+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(A*100+a,o,u);if(T=de(m%A),m===h?(E=this._repeat,T=d):(I=de(m/A),E=~~I,E&&E===I&&(T=d,E--),T>d&&(T=d)),I=Tl(this._tTime,A),!f&&this._tTime&&I!==E&&this._tTime-I*A-this._dur<=0&&(I=E),k&&E&1&&(T=d-T,b=1),E!==I&&!this._lock){var x=k&&I&1,R=x===(k&&E&1);if(E<I&&(x=!x),f=x?0:m%d?d:m,this._lock=1,this.render(f||(b?0:de(E*A)),o,!d)._lock=0,this._tTime=m,!o&&this.parent&&qn(this,"onRepeat"),this.vars.repeatRefresh&&!b&&(this.invalidate()._lock=1,I=E),f&&f!==this._time||O!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,h=this._tDur,R&&(this._lock=2,f=x?d:-1e-4,this.render(f,!0),this.vars.repeatRefresh&&!b&&this.invalidate()),this._lock=0,!this._ts&&!O)return this;zA(this,b)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(L=kO(this,de(f),de(T)),L&&(m-=T-(T=L._start))),this._tTime=m,this._time=T,this._act=!z,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,f=0),!f&&m&&d&&!o&&!I&&(qn(this,"onStart"),this._tTime!==m))return this;if(T>=f&&a>=0)for(y=this._first;y;){if(S=y._next,(y._act||T>=y._start)&&y._ts&&L!==y){if(y.parent!==this)return this.render(a,o,u);if(y.render(y._ts>0?(T-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(T-y._start)*y._ts,o,u),T!==this._time||!this._ts&&!O){L=0,S&&(m+=this._zTime=-ae);break}}y=S}else{y=this._last;for(var M=a<0?a:T;y;){if(S=y._prev,(y._act||M<=y._end)&&y._ts&&L!==y){if(y.parent!==this)return this.render(a,o,u);if(y.render(y._ts>0?(M-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(M-y._start)*y._ts,o,u||an&&yy(y)),T!==this._time||!this._ts&&!O){L=0,S&&(m+=this._zTime=M?-ae:ae);break}}y=S}}if(L&&!o&&(this.pause(),L.render(T>=f?0:-ae)._zTime=T>=f?1:-1,this._ts))return this._start=B,ad(this),this.render(a,o,u);this._onUpdate&&!o&&qn(this,"onUpdate",!0),(m===h&&this._tTime>=this.totalDuration()||!m&&f)&&(B===this._start||Math.abs(z)!==Math.abs(this._ts))&&(this._lock||((a||!d)&&(m===h&&this._ts>0||!m&&this._ts<0)&&ta(this,1),!o&&!(a<0&&!f)&&(m||f||!h)&&(qn(this,m===h&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<h&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(a,o){var u=this;if(Gr(o)||(o=ci(this,o,a)),!(a instanceof ic)){if(mn(a))return a.forEach(function(f){return u.add(f,o)}),this;if($e(a))return this.addLabel(a,o);if(Te(a))a=Ue.delayedCall(0,a);else return this}return this!==a?rr(this,a,o):this},e.getChildren=function(a,o,u,f){a===void 0&&(a=!0),o===void 0&&(o=!0),u===void 0&&(u=!0),f===void 0&&(f=-fi);for(var h=[],d=this._first;d;)d._start>=f&&(d instanceof Ue?o&&h.push(d):(u&&h.push(d),a&&h.push.apply(h,d.getChildren(!0,o,u)))),d=d._next;return h},e.getById=function(a){for(var o=this.getChildren(1,1,1),u=o.length;u--;)if(o[u].vars.id===a)return o[u]},e.remove=function(a){return $e(a)?this.removeLabel(a):Te(a)?this.killTweensOf(a):(a.parent===this&&sd(this,a),a===this._recent&&(this._recent=this._last),Ga(this))},e.totalTime=function(a,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=de(Hn.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),s.prototype.totalTime.call(this,a,o),this._forcing=0,this):this._tTime},e.addLabel=function(a,o){return this.labels[a]=ci(this,o),this},e.removeLabel=function(a){return delete this.labels[a],this},e.addPause=function(a,o,u){var f=Ue.delayedCall(0,o||tc,u);return f.data="isPause",this._hasPause=1,rr(this,f,ci(this,a))},e.removePause=function(a){var o=this._first;for(a=ci(this,a);o;)o._start===a&&o.data==="isPause"&&ta(o),o=o._next},e.killTweensOf=function(a,o,u){for(var f=this.getTweensOf(a,u),h=f.length;h--;)ks!==f[h]&&f[h].kill(a,o);return this},e.getTweensOf=function(a,o){for(var u=[],f=hi(a),h=this._first,d=Gr(o),m;h;)h instanceof Ue?IO(h._targets,f)&&(d?(!ks||h._initted&&h._ts)&&h.globalTime(0)<=o&&h.globalTime(h.totalDuration())>o:!o||h.isActive())&&u.push(h):(m=h.getTweensOf(f,o)).length&&u.push.apply(u,m),h=h._next;return u},e.tweenTo=function(a,o){o=o||{};var u=this,f=ci(u,a),h=o,d=h.startAt,m=h.onStart,v=h.onStartParams,T=h.immediateRender,y,S=Ue.to(u,Kn({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:f,overwrite:"auto",duration:o.duration||Math.abs((f-(d&&"time"in d?d.time:u._time))/u.timeScale())||ae,onStart:function(){if(u.pause(),!y){var A=o.duration||Math.abs((f-(d&&"time"in d?d.time:u._time))/u.timeScale());S._dur!==A&&El(S,A,0,1).render(S._time,!0,!0),y=1}m&&m.apply(S,v||[])}},o));return T?S.render(0):S},e.tweenFromTo=function(a,o,u){return this.tweenTo(o,Kn({startAt:{time:ci(this,a)}},u))},e.recent=function(){return this._recent},e.nextLabel=function(a){return a===void 0&&(a=this._time),FT(this,ci(this,a))},e.previousLabel=function(a){return a===void 0&&(a=this._time),FT(this,ci(this,a),1)},e.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+ae)},e.shiftChildren=function(a,o,u){u===void 0&&(u=0);var f=this._first,h=this.labels,d;for(a=de(a);f;)f._start>=u&&(f._start+=a,f._end+=a),f=f._next;if(o)for(d in h)h[d]>=u&&(h[d]+=a);return Ga(this)},e.invalidate=function(a){var o=this._first;for(this._lock=0;o;)o.invalidate(a),o=o._next;return s.prototype.invalidate.call(this,a)},e.clear=function(a){a===void 0&&(a=!0);for(var o=this._first,u;o;)u=o._next,this.remove(o),o=u;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),Ga(this)},e.totalDuration=function(a){var o=0,u=this,f=u._last,h=fi,d,m,v;if(arguments.length)return u.timeScale((u._repeat<0?u.duration():u.totalDuration())/(u.reversed()?-a:a));if(u._dirty){for(v=u.parent;f;)d=f._prev,f._dirty&&f.totalDuration(),m=f._start,m>h&&u._sort&&f._ts&&!u._lock?(u._lock=1,rr(u,f,m-f._delay,1)._lock=0):h=m,m<0&&f._ts&&(o-=m,(!v&&!u._dp||v&&v.smoothChildTiming)&&(u._start+=de(m/u._ts),u._time-=m,u._tTime-=m),u.shiftChildren(-m,!1,-1/0),h=0),f._end>o&&f._ts&&(o=f._end),f=d;El(u,u===me&&u._time>o?u._time:o,1,1),u._dirty=0}return u._tDur},t.updateRoot=function(a){if(me._ts&&(vA(me,Lh(a,me)),yA=Hn.frame),Hn.frame>=UT){UT+=Yn.autoSleep||120;var o=me._first;if((!o||!o._ts)&&Yn.autoSleep&&Hn._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||Hn.sleep()}}},t})(ic);Kn(vn.prototype,{_lock:0,_hasPause:0,_forcing:0});var JO=function(t,e,i,a,o,u,f){var h=new Mn(this._pt,t,e,0,1,QA,null,o),d=0,m=0,v,T,y,S,E,A,O,L;for(h.b=i,h.e=a,i+="",a+="",(O=~a.indexOf("random("))&&(a=ec(a)),u&&(L=[i,a],u(L,t,e),i=L[0],a=L[1]),T=i.match(bp)||[];v=bp.exec(a);)S=v[0],E=a.substring(d,v.index),y?y=(y+1)%5:E.substr(-5)==="rgba("&&(y=1),S!==T[m++]&&(A=parseFloat(T[m-1])||0,h._pt={_next:h._pt,p:E||m===1?E:",",s:A,c:S.charAt(1)==="="?ll(A,S)-A:parseFloat(S)-A,m:y&&y<4?Math.round:0},d=bp.lastIndex);return h.c=d<a.length?a.substring(d,a.length):"",h.fp=f,(dA.test(a)||O)&&(h.e=0),this._pt=h,h},_y=function(t,e,i,a,o,u,f,h,d,m){Te(a)&&(a=a(o||0,t,u));var v=t[e],T=i!=="get"?i:Te(v)?d?t[e.indexOf("set")||!Te(t["get"+e.substr(3)])?e:"get"+e.substr(3)](d):t[e]():v,y=Te(v)?d?iN:GA:Ty,S;if($e(a)&&(~a.indexOf("random(")&&(a=ec(a)),a.charAt(1)==="="&&(S=ll(T,a)+(hn(T)||0),(S||S===0)&&(a=S))),!m||T!==a||_g)return!isNaN(T*a)&&a!==""?(S=new Mn(this._pt,t,e,+T||0,a-(T||0),typeof v=="boolean"?sN:YA,0,y),d&&(S.fp=d),f&&S.modifier(f,this,t),this._pt=S):(!v&&!(e in t)&&dy(e,a),JO.call(this,t,e,T,a,y,h||Yn.stringFilter,d))},WO=function(t,e,i,a,o){if(Te(t)&&(t=Yu(t,o,e,i,a)),!dr(t)||t.style&&t.nodeType||mn(t)||fA(t))return $e(t)?Yu(t,o,e,i,a):t;var u={},f;for(f in t)u[f]=Yu(t[f],o,e,i,a);return u},FA=function(t,e,i,a,o,u){var f,h,d,m;if(Fn[t]&&(f=new Fn[t]).init(o,f.rawVars?e[t]:WO(e[t],a,o,u,i),i,a,u)!==!1&&(i._pt=h=new Mn(i._pt,o,t,0,1,f.render,f,0,f.priority),i!==Wo))for(d=i._ptLookup[i._targets.indexOf(o)],m=f._props.length;m--;)d[f._props[m]]=h;return f},ks,_g,vy=function s(t,e,i){var a=t.vars,o=a.ease,u=a.startAt,f=a.immediateRender,h=a.lazy,d=a.onUpdate,m=a.runBackwards,v=a.yoyoEase,T=a.keyframes,y=a.autoRevert,S=t._dur,E=t._startAt,A=t._targets,O=t.parent,L=O&&O.data==="nested"?O.vars.targets:A,z=t._overwrite==="auto"&&!uy,B=t.timeline,I,k,b,x,R,M,N,P,V,nt,it,G,X;if(B&&(!T||!o)&&(o="none"),t._ease=Ya(o,_l.ease),t._yEase=v?UA(Ya(v===!0?o:v,_l.ease)):0,v&&t._yoyo&&!t._repeat&&(v=t._yEase,t._yEase=t._ease,t._ease=v),t._from=!B&&!!a.runBackwards,!B||T&&!a.stagger){if(P=A[0]?qa(A[0]).harness:0,G=P&&a[P.prop],I=kh(a,my),E&&(E._zTime<0&&E.progress(1),e<0&&m&&f&&!y?E.render(-1,!0):E.revert(m&&S?fh:RO),E._lazy=0),u){if(ta(t._startAt=Ue.set(A,Kn({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:!E&&Cn(h),startAt:null,delay:0,onUpdate:d&&function(){return qn(t,"onUpdate")},stagger:0},u))),t._startAt._dp=0,t._startAt._sat=t,e<0&&(an||!f&&!y)&&t._startAt.revert(fh),f&&S&&e<=0&&i<=0){e&&(t._zTime=e);return}}else if(m&&S&&!E){if(e&&(f=!1),b=Kn({overwrite:!1,data:"isFromStart",lazy:f&&!E&&Cn(h),immediateRender:f,stagger:0,parent:O},I),G&&(b[P.prop]=G),ta(t._startAt=Ue.set(A,b)),t._startAt._dp=0,t._startAt._sat=t,e<0&&(an?t._startAt.revert(fh):t._startAt.render(-1,!0)),t._zTime=e,!f)s(t._startAt,ae,ae);else if(!e)return}for(t._pt=t._ptCache=0,h=S&&Cn(h)||h&&!S,k=0;k<A.length;k++){if(R=A[k],N=R._gsap||gy(A)[k]._gsap,t._ptLookup[k]=nt={},hg[N.id]&&Gs.length&&Vh(),it=L===A?k:L.indexOf(R),P&&(V=new P).init(R,G||I,t,it,L)!==!1&&(t._pt=x=new Mn(t._pt,R,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(lt){nt[lt]=x}),V.priority&&(M=1)),!P||G)for(b in I)Fn[b]&&(V=FA(b,I,t,it,R,L))?V.priority&&(M=1):nt[b]=x=_y.call(t,R,b,"get",I[b],it,L,0,a.stringFilter);t._op&&t._op[k]&&t.kill(R,t._op[k]),z&&t._pt&&(ks=t,me.killTweensOf(R,nt,t.globalTime(e)),X=!t.parent,ks=0),t._pt&&h&&(hg[N.id]=1)}M&&KA(t),t._onInit&&t._onInit(t)}t._onUpdate=d,t._initted=(!t._op||t._pt)&&!X,T&&e<=0&&B.render(fi,!0,!0)},tN=function(t,e,i,a,o,u,f,h){var d=(t._pt&&t._ptCache||(t._ptCache={}))[e],m,v,T,y;if(!d)for(d=t._ptCache[e]=[],T=t._ptLookup,y=t._targets.length;y--;){if(m=T[y][e],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==e&&m.fp!==e;)m=m._next;if(!m)return _g=1,t.vars[e]="+=0",vy(t,f),_g=0,h?Wu(e+" not eligible for reset"):1;d.push(m)}for(y=d.length;y--;)v=d[y],m=v._pt||v,m.s=(a||a===0)&&!o?a:m.s+(a||0)+u*m.c,m.c=i-m.s,v.e&&(v.e=Re(i)+hn(v.e)),v.b&&(v.b=m.s+hn(v.b))},eN=function(t,e){var i=t[0]?qa(t[0]).harness:0,a=i&&i.aliases,o,u,f,h;if(!a)return e;o=vl({},e);for(u in a)if(u in o)for(h=a[u].split(","),f=h.length;f--;)o[h[f]]=o[u];return o},nN=function(t,e,i,a){var o=e.ease||a||"power1.inOut",u,f;if(mn(e))f=i[t]||(i[t]=[]),e.forEach(function(h,d){return f.push({t:d/(e.length-1)*100,v:h,e:o})});else for(u in e)f=i[u]||(i[u]=[]),u==="ease"||f.push({t:parseFloat(t),v:e[u],e:o})},Yu=function(t,e,i,a,o){return Te(t)?t.call(e,i,a,o):$e(t)&&~t.indexOf("random(")?ec(t):t},HA=py+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",qA={};In(HA+",id,stagger,delay,duration,paused,scrollTrigger",function(s){return qA[s]=1});var Ue=(function(s){uA(t,s);function t(i,a,o,u){var f;typeof a=="number"&&(o.duration=a,a=o,o=null),f=s.call(this,u?a:qu(a))||this;var h=f.vars,d=h.duration,m=h.delay,v=h.immediateRender,T=h.stagger,y=h.overwrite,S=h.keyframes,E=h.defaults,A=h.scrollTrigger,O=h.yoyoEase,L=a.parent||me,z=(mn(i)||fA(i)?Gr(i[0]):"length"in a)?[i]:hi(i),B,I,k,b,x,R,M,N;if(f._targets=z.length?gy(z):Wu("GSAP target "+i+" not found. https://gsap.com",!Yn.nullTargetWarn)||[],f._ptLookup=[],f._overwrite=y,S||T||th(d)||th(m)){if(a=f.vars,B=f.timeline=new vn({data:"nested",defaults:E||{},targets:L&&L.data==="nested"?L.vars.targets:z}),B.kill(),B.parent=B._dp=Lr(f),B._start=0,T||th(d)||th(m)){if(b=z.length,M=T&&CA(T),dr(T))for(x in T)~HA.indexOf(x)&&(N||(N={}),N[x]=T[x]);for(I=0;I<b;I++)k=kh(a,qA),k.stagger=0,O&&(k.yoyoEase=O),N&&vl(k,N),R=z[I],k.duration=+Yu(d,Lr(f),I,R,z),k.delay=(+Yu(m,Lr(f),I,R,z)||0)-f._delay,!T&&b===1&&k.delay&&(f._delay=m=k.delay,f._start+=m,k.delay=0),B.to(R,k,M?M(I,R,z):0),B._ease=jt.none;B.duration()?d=m=0:f.timeline=0}else if(S){qu(Kn(B.vars.defaults,{ease:"none"})),B._ease=Ya(S.ease||a.ease||"none");var P=0,V,nt,it;if(mn(S))S.forEach(function(G){return B.to(z,G,">")}),B.duration();else{k={};for(x in S)x==="ease"||x==="easeEach"||nN(x,S[x],k,S.easeEach);for(x in k)for(V=k[x].sort(function(G,X){return G.t-X.t}),P=0,I=0;I<V.length;I++)nt=V[I],it={ease:nt.e,duration:(nt.t-(I?V[I-1].t:0))/100*d},it[x]=nt.v,B.to(z,it,P),P+=it.duration;B.duration()<d&&B.to({},{duration:d-B.duration()})}}d||f.duration(d=B.duration())}else f.timeline=0;return y===!0&&!uy&&(ks=Lr(f),me.killTweensOf(z),ks=0),rr(L,Lr(f),o),a.reversed&&f.reverse(),a.paused&&f.paused(!0),(v||!d&&!S&&f._start===de(L._time)&&Cn(v)&&NO(Lr(f))&&L.data!=="nested")&&(f._tTime=-ae,f.render(Math.max(0,-m)||0)),A&&xA(Lr(f),A),f}var e=t.prototype;return e.render=function(a,o,u){var f=this._time,h=this._tDur,d=this._dur,m=a<0,v=a>h-ae&&!m?h:a<ae?0:a,T,y,S,E,A,O,L,z,B;if(!d)VO(this,a,o,u);else if(v!==this._tTime||!a||u||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(T=v,z=this.timeline,this._repeat){if(E=d+this._rDelay,this._repeat<-1&&m)return this.totalTime(E*100+a,o,u);if(T=de(v%E),v===h?(S=this._repeat,T=d):(A=de(v/E),S=~~A,S&&S===A?(T=d,S--):T>d&&(T=d)),O=this._yoyo&&S&1,O&&(B=this._yEase,T=d-T),A=Tl(this._tTime,E),T===f&&!u&&this._initted&&S===A)return this._tTime=v,this;S!==A&&(z&&this._yEase&&zA(z,O),this.vars.repeatRefresh&&!O&&!this._lock&&T!==E&&this._initted&&(this._lock=u=1,this.render(de(E*S),!0).invalidate()._lock=0))}if(!this._initted){if(wA(this,m?a:T,u,o,v))return this._tTime=0,this;if(f!==this._time&&!(u&&this.vars.repeatRefresh&&S!==A))return this;if(d!==this._dur)return this.render(a,o,u)}if(this._tTime=v,this._time=T,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=L=(B||this._ease)(T/d),this._from&&(this.ratio=L=1-L),!f&&v&&!o&&!A&&(qn(this,"onStart"),this._tTime!==v))return this;for(y=this._pt;y;)y.r(L,y.d),y=y._next;z&&z.render(a<0?a:z._dur*z._ease(T/this._dur),o,u)||this._startAt&&(this._zTime=a),this._onUpdate&&!o&&(m&&dg(this,a,o,u),qn(this,"onUpdate")),this._repeat&&S!==A&&this.vars.onRepeat&&!o&&this.parent&&qn(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(m&&!this._onUpdate&&dg(this,a,!0,!0),(a||!d)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&ta(this,1),!o&&!(m&&!f)&&(v||f||O)&&(qn(this,v===h?"onComplete":"onReverseComplete",!0),this._prom&&!(v<h&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),s.prototype.invalidate.call(this,a)},e.resetTo=function(a,o,u,f,h){nc||Hn.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||vy(this,d),m=this._ease(d/this._dur),tN(this,a,o,u,f,m,d,h)?this.resetTo(a,o,u,f,1):(od(this,0),this.parent||SA(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(a,o){if(o===void 0&&(o="all"),!a&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?ku(this):this.scrollTrigger&&this.scrollTrigger.kill(!!an),this;if(this.timeline){var u=this.timeline.totalDuration();return this.timeline.killTweensOf(a,o,ks&&ks.vars.overwrite!==!0)._first||ku(this),this.parent&&u!==this.timeline.totalDuration()&&El(this,this._dur*this.timeline._tDur/u,0,1),this}var f=this._targets,h=a?hi(a):f,d=this._ptLookup,m=this._pt,v,T,y,S,E,A,O;if((!o||o==="all")&&DO(f,h))return o==="all"&&(this._pt=0),ku(this);for(v=this._op=this._op||[],o!=="all"&&($e(o)&&(E={},In(o,function(L){return E[L]=1}),o=E),o=eN(f,o)),O=f.length;O--;)if(~h.indexOf(f[O])){T=d[O],o==="all"?(v[O]=o,S=T,y={}):(y=v[O]=v[O]||{},S=o);for(E in S)A=T&&T[E],A&&((!("kill"in A.d)||A.d.kill(E)===!0)&&sd(this,A,"_pt"),delete T[E]),y!=="all"&&(y[E]=1)}return this._initted&&!this._pt&&m&&ku(this),this},t.to=function(a,o){return new t(a,o,arguments[2])},t.from=function(a,o){return Gu(1,arguments)},t.delayedCall=function(a,o,u,f){return new t(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:o,onReverseComplete:o,onCompleteParams:u,onReverseCompleteParams:u,callbackScope:f})},t.fromTo=function(a,o,u){return Gu(2,arguments)},t.set=function(a,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new t(a,o)},t.killTweensOf=function(a,o,u){return me.killTweensOf(a,o,u)},t})(ic);Kn(Ue.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});In("staggerTo,staggerFrom,staggerFromTo",function(s){Ue[s]=function(){var t=new vn,e=pg.call(arguments,0);return e.splice(s==="staggerFromTo"?5:4,0,0),t[s].apply(t,e)}});var Ty=function(t,e,i){return t[e]=i},GA=function(t,e,i){return t[e](i)},iN=function(t,e,i,a){return t[e](a.fp,i)},rN=function(t,e,i){return t.setAttribute(e,i)},Ey=function(t,e){return Te(t[e])?GA:cy(t[e])&&t.setAttribute?rN:Ty},YA=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},sN=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},QA=function(t,e){var i=e._pt,a="";if(!t&&e.b)a=e.b;else if(t===1&&e.e)a=e.e;else{for(;i;)a=i.p+(i.m?i.m(i.s+i.c*t):Math.round((i.s+i.c*t)*1e4)/1e4)+a,i=i._next;a+=e.c}e.set(e.t,e.p,a,e)},Sy=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},aN=function(t,e,i,a){for(var o=this._pt,u;o;)u=o._next,o.p===a&&o.modifier(t,e,i),o=u},oN=function(t){for(var e=this._pt,i,a;e;)a=e._next,e.p===t&&!e.op||e.op===t?sd(this,e,"_pt"):e.dep||(i=1),e=a;return!i},lN=function(t,e,i,a){a.mSet(t,e,a.m.call(a.tween,i,a.mt),a)},KA=function(t){for(var e=t._pt,i,a,o,u;e;){for(i=e._next,a=o;a&&a.pr>e.pr;)a=a._next;(e._prev=a?a._prev:u)?e._prev._next=e:o=e,(e._next=a)?a._prev=e:u=e,e=i}t._pt=o},Mn=(function(){function s(e,i,a,o,u,f,h,d,m){this.t=i,this.s=o,this.c=u,this.p=a,this.r=f||YA,this.d=h||this,this.set=d||Ty,this.pr=m||0,this._next=e,e&&(e._prev=this)}var t=s.prototype;return t.modifier=function(i,a,o){this.mSet=this.mSet||this.set,this.set=lN,this.m=i,this.mt=o,this.tween=a},s})();In(py+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(s){return my[s]=1});Qn.TweenMax=Qn.TweenLite=Ue;Qn.TimelineLite=Qn.TimelineMax=vn;me=new vn({sortChildren:!1,defaults:_l,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Yn.stringFilter=LA;var Qa=[],dh={},uN=[],qT=0,cN=0,Dp=function(t){return(dh[t]||uN).map(function(e){return e()})},vg=function(){var t=Date.now(),e=[];t-qT>2&&(Dp("matchMediaInit"),Qa.forEach(function(i){var a=i.queries,o=i.conditions,u,f,h,d;for(f in a)u=er.matchMedia(a[f]).matches,u&&(h=1),u!==o[f]&&(o[f]=u,d=1);d&&(i.revert(),h&&e.push(i))}),Dp("matchMediaRevert"),e.forEach(function(i){return i.onMatch(i,function(a){return i.add(null,a)})}),qT=t,Dp("matchMedia"))},XA=(function(){function s(e,i){this.selector=i&&gg(i),this.data=[],this._r=[],this.isReverted=!1,this.id=cN++,e&&this.add(e)}var t=s.prototype;return t.add=function(i,a,o){Te(i)&&(o=a,a=i,i=Te);var u=this,f=function(){var d=he,m=u.selector,v;return d&&d!==u&&d.data.push(u),o&&(u.selector=gg(o)),he=u,v=a.apply(u,arguments),Te(v)&&u._r.push(v),he=d,u.selector=m,u.isReverted=!1,v};return u.last=f,i===Te?f(u,function(h){return u.add(null,h)}):i?u[i]=f:f},t.ignore=function(i){var a=he;he=null,i(this),he=a},t.getTweens=function(){var i=[];return this.data.forEach(function(a){return a instanceof s?i.push.apply(i,a.getTweens()):a instanceof Ue&&!(a.parent&&a.parent.data==="nested")&&i.push(a)}),i},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(i,a){var o=this;if(i?(function(){for(var f=o.getTweens(),h=o.data.length,d;h--;)d=o.data[h],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(m){return f.splice(f.indexOf(m),1)}));for(f.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,v){return v.g-m.g||-1/0}).forEach(function(m){return m.t.revert(i)}),h=o.data.length;h--;)d=o.data[h],d instanceof vn?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof Ue)&&d.revert&&d.revert(i);o._r.forEach(function(m){return m(i,o)}),o.isReverted=!0})():this.data.forEach(function(f){return f.kill&&f.kill()}),this.clear(),a)for(var u=Qa.length;u--;)Qa[u].id===this.id&&Qa.splice(u,1)},t.revert=function(i){this.kill(i||{})},s})(),fN=(function(){function s(e){this.contexts=[],this.scope=e,he&&he.data.push(this)}var t=s.prototype;return t.add=function(i,a,o){dr(i)||(i={matches:i});var u=new XA(0,o||this.scope),f=u.conditions={},h,d,m;he&&!u.selector&&(u.selector=he.selector),this.contexts.push(u),a=u.add("onMatch",a),u.queries=i;for(d in i)d==="all"?m=1:(h=er.matchMedia(i[d]),h&&(Qa.indexOf(u)<0&&Qa.push(u),(f[d]=h.matches)&&(m=1),h.addListener?h.addListener(vg):h.addEventListener("change",vg)));return m&&a(u,function(v){return u.add(null,v)}),this},t.revert=function(i){this.kill(i||{})},t.kill=function(i){this.contexts.forEach(function(a){return a.kill(i,!0)})},s})(),Uh={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(a){return PA(a)})},timeline:function(t){return new vn(t)},getTweensOf:function(t,e){return me.getTweensOf(t,e)},getProperty:function(t,e,i,a){$e(t)&&(t=hi(t)[0]);var o=qa(t||{}).get,u=i?EA:TA;return i==="native"&&(i=""),t&&(e?u((Fn[e]&&Fn[e].get||o)(t,e,i,a)):function(f,h,d){return u((Fn[f]&&Fn[f].get||o)(t,f,h,d))})},quickSetter:function(t,e,i){if(t=hi(t),t.length>1){var a=t.map(function(m){return On.quickSetter(m,e,i)}),o=a.length;return function(m){for(var v=o;v--;)a[v](m)}}t=t[0]||{};var u=Fn[e],f=qa(t),h=f.harness&&(f.harness.aliases||{})[e]||e,d=u?function(m){var v=new u;Wo._pt=0,v.init(t,i?m+i:m,Wo,0,[t]),v.render(1,v),Wo._pt&&Sy(1,Wo)}:f.set(t,h);return u?d:function(m){return d(t,h,i?m+i:m,f,1)}},quickTo:function(t,e,i){var a,o=On.to(t,Kn((a={},a[e]="+=0.1",a.paused=!0,a.stagger=0,a),i||{})),u=function(h,d,m){return o.resetTo(e,h,d,m)};return u.tween=o,u},isTweening:function(t){return me.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Ya(t.ease,_l.ease)),zT(_l,t||{})},config:function(t){return zT(Yn,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,a=t.plugins,o=t.defaults,u=t.extendTimeline;(a||"").split(",").forEach(function(f){return f&&!Fn[f]&&!Qn[f]&&Wu(e+" effect requires "+f+" plugin.")}),Rp[e]=function(f,h,d){return i(hi(f),Kn(h||{},o),d)},u&&(vn.prototype[e]=function(f,h,d){return this.add(Rp[e](f,dr(h)?h:(d=h)&&{},this),d)})},registerEase:function(t,e){jt[t]=Ya(e)},parseEase:function(t,e){return arguments.length?Ya(t,e):jt},getById:function(t){return me.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var i=new vn(t),a,o;for(i.smoothChildTiming=Cn(t.smoothChildTiming),me.remove(i),i._dp=0,i._time=i._tTime=me._time,a=me._first;a;)o=a._next,(e||!(!a._dur&&a instanceof Ue&&a.vars.onComplete===a._targets[0]))&&rr(i,a,a._start-a._delay),a=o;return rr(me,i,0),i},context:function(t,e){return t?new XA(t,e):he},matchMedia:function(t){return new fN(t)},matchMediaRefresh:function(){return Qa.forEach(function(t){var e=t.conditions,i,a;for(a in e)e[a]&&(e[a]=!1,i=1);i&&t.revert()})||vg()},addEventListener:function(t,e){var i=dh[t]||(dh[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=dh[t],a=i&&i.indexOf(e);a>=0&&i.splice(a,1)},utils:{wrap:HO,wrapYoyo:qO,distribute:CA,random:MA,snap:IA,normalize:FO,getUnit:hn,clamp:UO,splitColor:VA,toArray:hi,selector:gg,mapRange:OA,pipe:BO,unitize:jO,interpolate:GO,shuffle:RA},install:pA,effects:Rp,ticker:Hn,updateRoot:vn.updateRoot,plugins:Fn,globalTimeline:me,core:{PropTween:Mn,globals:gA,Tween:Ue,Timeline:vn,Animation:ic,getCache:qa,_removeLinkedListItem:sd,reverting:function(){return an},context:function(t){return t&&he&&(he.data.push(t),t._ctx=he),he},suppressOverwrites:function(t){return uy=t}}};In("to,from,fromTo,delayedCall,set,killTweensOf",function(s){return Uh[s]=Ue[s]});Hn.add(vn.updateRoot);Wo=Uh.to({},{duration:0});var hN=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},dN=function(t,e){var i=t._targets,a,o,u;for(a in e)for(o=i.length;o--;)u=t._ptLookup[o][a],u&&(u=u.d)&&(u._pt&&(u=hN(u,a)),u&&u.modifier&&u.modifier(e[a],t,i[o],a))},Op=function(t,e){return{name:t,headless:1,rawVars:1,init:function(a,o,u){u._onInit=function(f){var h,d;if($e(o)&&(h={},In(o,function(m){return h[m]=1}),o=h),e){h={};for(d in o)h[d]=e(o[d]);o=h}dN(f,o)}}}},On=Uh.registerPlugin({name:"attr",init:function(t,e,i,a,o){var u,f,h;this.tween=i;for(u in e)h=t.getAttribute(u)||"",f=this.add(t,"setAttribute",(h||0)+"",e[u],a,o,0,0,u),f.op=u,f.b=h,this._props.push(u)},render:function(t,e){for(var i=e._pt;i;)an?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",headless:1,init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},Op("roundProps",yg),Op("modifiers"),Op("snap",IA))||Uh;Ue.version=vn.version=On.version="3.14.2";mA=1;fy()&&Sl();jt.Power0;jt.Power1;jt.Power2;jt.Power3;jt.Power4;jt.Linear;jt.Quad;jt.Cubic;jt.Quart;jt.Quint;jt.Strong;jt.Elastic;jt.Back;jt.SteppedEase;jt.Bounce;jt.Sine;jt.Expo;jt.Circ;var GT,Ls,ul,Ay,Ba,YT,xy,mN=function(){return typeof window<"u"},Yr={},Ua=180/Math.PI,cl=Math.PI/180,Yo=Math.atan2,QT=1e8,wy=/([A-Z])/g,pN=/(left|right|width|margin|padding|x)/i,gN=/[\s,\(]\S/,sr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Tg=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},yN=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},_N=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},vN=function(t,e){return e.set(e.t,e.p,t===1?e.e:t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},TN=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},$A=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},ZA=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},EN=function(t,e,i){return t.style[e]=i},SN=function(t,e,i){return t.style.setProperty(e,i)},AN=function(t,e,i){return t._gsap[e]=i},xN=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},wN=function(t,e,i,a,o){var u=t._gsap;u.scaleX=u.scaleY=i,u.renderTransform(o,u)},bN=function(t,e,i,a,o){var u=t._gsap;u[e]=i,u.renderTransform(o,u)},pe="transform",Dn=pe+"Origin",RN=function s(t,e){var i=this,a=this.target,o=a.style,u=a._gsap;if(t in Yr&&o){if(this.tfm=this.tfm||{},t!=="transform")t=sr[t]||t,~t.indexOf(",")?t.split(",").forEach(function(f){return i.tfm[f]=Ur(a,f)}):this.tfm[t]=u.x?u[t]:Ur(a,t),t===Dn&&(this.tfm.zOrigin=u.zOrigin);else return sr.transform.split(",").forEach(function(f){return s.call(i,f,e)});if(this.props.indexOf(pe)>=0)return;u.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(Dn,e,"")),t=pe}(o||e)&&this.props.push(t,e,o[t])},JA=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},CN=function(){var t=this.props,e=this.target,i=e.style,a=e._gsap,o,u;for(o=0;o<t.length;o+=3)t[o+1]?t[o+1]===2?e[t[o]](t[o+2]):e[t[o]]=t[o+2]:t[o+2]?i[t[o]]=t[o+2]:i.removeProperty(t[o].substr(0,2)==="--"?t[o]:t[o].replace(wy,"-$1").toLowerCase());if(this.tfm){for(u in this.tfm)a[u]=this.tfm[u];a.svg&&(a.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),o=xy(),(!o||!o.isStart)&&!i[pe]&&(JA(i),a.zOrigin&&i[Dn]&&(i[Dn]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},WA=function(t,e){var i={target:t,props:[],revert:CN,save:RN};return t._gsap||On.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach(function(a){return i.save(a)}),i},tx,Eg=function(t,e){var i=Ls.createElementNS?Ls.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Ls.createElement(t);return i&&i.style?i:Ls.createElement(t)},Gn=function s(t,e,i){var a=getComputedStyle(t);return a[e]||a.getPropertyValue(e.replace(wy,"-$1").toLowerCase())||a.getPropertyValue(e)||!i&&s(t,Al(e)||e,1)||""},KT="O,Moz,ms,Ms,Webkit".split(","),Al=function(t,e,i){var a=e||Ba,o=a.style,u=5;if(t in o&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);u--&&!(KT[u]+t in o););return u<0?null:(u===3?"ms":u>=0?KT[u]:"")+t},Sg=function(){mN()&&window.document&&(GT=window,Ls=GT.document,ul=Ls.documentElement,Ba=Eg("div")||{style:{}},Eg("div"),pe=Al(pe),Dn=pe+"Origin",Ba.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",tx=!!Al("perspective"),xy=On.core.reverting,Ay=1)},XT=function(t){var e=t.ownerSVGElement,i=Eg("svg",e&&e.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=t.cloneNode(!0),o;a.style.display="block",i.appendChild(a),ul.appendChild(i);try{o=a.getBBox()}catch{}return i.removeChild(a),ul.removeChild(i),o},$T=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},ex=function(t){var e,i;try{e=t.getBBox()}catch{e=XT(t),i=1}return e&&(e.width||e.height)||i||(e=XT(t)),e&&!e.width&&!e.x&&!e.y?{x:+$T(t,["x","cx","x1"])||0,y:+$T(t,["y","cy","y1"])||0,width:0,height:0}:e},nx=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&ex(t))},ea=function(t,e){if(e){var i=t.style,a;e in Yr&&e!==Dn&&(e=pe),i.removeProperty?(a=e.substr(0,2),(a==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),i.removeProperty(a==="--"?e:e.replace(wy,"-$1").toLowerCase())):i.removeAttribute(e)}},Us=function(t,e,i,a,o,u){var f=new Mn(t._pt,e,i,0,1,u?ZA:$A);return t._pt=f,f.b=a,f.e=o,t._props.push(i),f},ZT={deg:1,rad:1,turn:1},IN={grid:1,flex:1},na=function s(t,e,i,a){var o=parseFloat(i)||0,u=(i+"").trim().substr((o+"").length)||"px",f=Ba.style,h=pN.test(e),d=t.tagName.toLowerCase()==="svg",m=(d?"client":"offset")+(h?"Width":"Height"),v=100,T=a==="px",y=a==="%",S,E,A,O;if(a===u||!o||ZT[a]||ZT[u])return o;if(u!=="px"&&!T&&(o=s(t,e,i,"px")),O=t.getCTM&&nx(t),(y||u==="%")&&(Yr[e]||~e.indexOf("adius")))return S=O?t.getBBox()[h?"width":"height"]:t[m],Re(y?o/S*v:o/100*S);if(f[h?"width":"height"]=v+(T?u:a),E=a!=="rem"&&~e.indexOf("adius")||a==="em"&&t.appendChild&&!d?t:t.parentNode,O&&(E=(t.ownerSVGElement||{}).parentNode),(!E||E===Ls||!E.appendChild)&&(E=Ls.body),A=E._gsap,A&&y&&A.width&&h&&A.time===Hn.time&&!A.uncache)return Re(o/A.width*v);if(y&&(e==="height"||e==="width")){var L=t.style[e];t.style[e]=v+a,S=t[m],L?t.style[e]=L:ea(t,e)}else(y||u==="%")&&!IN[Gn(E,"display")]&&(f.position=Gn(t,"position")),E===t&&(f.position="static"),E.appendChild(Ba),S=Ba[m],E.removeChild(Ba),f.position="absolute";return h&&y&&(A=qa(E),A.time=Hn.time,A.width=E[m]),Re(T?S*o/v:S&&o?v/S*o:0)},Ur=function(t,e,i,a){var o;return Ay||Sg(),e in sr&&e!=="transform"&&(e=sr[e],~e.indexOf(",")&&(e=e.split(",")[0])),Yr[e]&&e!=="transform"?(o=sc(t,a),o=e!=="transformOrigin"?o[e]:o.svg?o.origin:Bh(Gn(t,Dn))+" "+o.zOrigin+"px"):(o=t.style[e],(!o||o==="auto"||a||~(o+"").indexOf("calc("))&&(o=zh[e]&&zh[e](t,e,i)||Gn(t,e)||_A(t,e)||(e==="opacity"?1:0))),i&&!~(o+"").trim().indexOf(" ")?na(t,e,o,i)+i:o},MN=function(t,e,i,a){if(!i||i==="none"){var o=Al(e,t,1),u=o&&Gn(t,o,1);u&&u!==i?(e=o,i=u):e==="borderColor"&&(i=Gn(t,"borderTopColor"))}var f=new Mn(this._pt,t.style,e,0,1,QA),h=0,d=0,m,v,T,y,S,E,A,O,L,z,B,I;if(f.b=i,f.e=a,i+="",a+="",a.substring(0,6)==="var(--"&&(a=Gn(t,a.substring(4,a.indexOf(")")))),a==="auto"&&(E=t.style[e],t.style[e]=a,a=Gn(t,e)||a,E?t.style[e]=E:ea(t,e)),m=[i,a],LA(m),i=m[0],a=m[1],T=i.match(Jo)||[],I=a.match(Jo)||[],I.length){for(;v=Jo.exec(a);)A=v[0],L=a.substring(h,v.index),S?S=(S+1)%5:(L.substr(-5)==="rgba("||L.substr(-5)==="hsla(")&&(S=1),A!==(E=T[d++]||"")&&(y=parseFloat(E)||0,B=E.substr((y+"").length),A.charAt(1)==="="&&(A=ll(y,A)+B),O=parseFloat(A),z=A.substr((O+"").length),h=Jo.lastIndex-z.length,z||(z=z||Yn.units[e]||B,h===a.length&&(a+=z,f.e+=z)),B!==z&&(y=na(t,e,E,z)||0),f._pt={_next:f._pt,p:L||d===1?L:",",s:y,c:O-y,m:S&&S<4||e==="zIndex"?Math.round:0});f.c=h<a.length?a.substring(h,a.length):""}else f.r=e==="display"&&a==="none"?ZA:$A;return dA.test(a)&&(f.e=0),this._pt=f,f},JT={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},DN=function(t){var e=t.split(" "),i=e[0],a=e[1]||"50%";return(i==="top"||i==="bottom"||a==="left"||a==="right")&&(t=i,i=a,a=t),e[0]=JT[i]||i,e[1]=JT[a]||a,e.join(" ")},ON=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i=e.t,a=i.style,o=e.u,u=i._gsap,f,h,d;if(o==="all"||o===!0)a.cssText="",h=1;else for(o=o.split(","),d=o.length;--d>-1;)f=o[d],Yr[f]&&(h=1,f=f==="transformOrigin"?Dn:pe),ea(i,f);h&&(ea(i,pe),u&&(u.svg&&i.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",sc(i,1),u.uncache=1,JA(a)))}},zh={clearProps:function(t,e,i,a,o){if(o.data!=="isFromStart"){var u=t._pt=new Mn(t._pt,e,i,0,0,ON);return u.u=a,u.pr=-10,u.tween=o,t._props.push(i),1}}},rc=[1,0,0,1,0,0],ix={},rx=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},WT=function(t){var e=Gn(t,pe);return rx(e)?rc:e.substr(7).match(hA).map(Re)},by=function(t,e){var i=t._gsap||qa(t),a=t.style,o=WT(t),u,f,h,d;return i.svg&&t.getAttribute("transform")?(h=t.transform.baseVal.consolidate().matrix,o=[h.a,h.b,h.c,h.d,h.e,h.f],o.join(",")==="1,0,0,1,0,0"?rc:o):(o===rc&&!t.offsetParent&&t!==ul&&!i.svg&&(h=a.display,a.display="block",u=t.parentNode,(!u||!t.offsetParent&&!t.getBoundingClientRect().width)&&(d=1,f=t.nextElementSibling,ul.appendChild(t)),o=WT(t),h?a.display=h:ea(t,"display"),d&&(f?u.insertBefore(t,f):u?u.appendChild(t):ul.removeChild(t))),e&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},Ag=function(t,e,i,a,o,u){var f=t._gsap,h=o||by(t,!0),d=f.xOrigin||0,m=f.yOrigin||0,v=f.xOffset||0,T=f.yOffset||0,y=h[0],S=h[1],E=h[2],A=h[3],O=h[4],L=h[5],z=e.split(" "),B=parseFloat(z[0])||0,I=parseFloat(z[1])||0,k,b,x,R;i?h!==rc&&(b=y*A-S*E)&&(x=B*(A/b)+I*(-E/b)+(E*L-A*O)/b,R=B*(-S/b)+I*(y/b)-(y*L-S*O)/b,B=x,I=R):(k=ex(t),B=k.x+(~z[0].indexOf("%")?B/100*k.width:B),I=k.y+(~(z[1]||z[0]).indexOf("%")?I/100*k.height:I)),a||a!==!1&&f.smooth?(O=B-d,L=I-m,f.xOffset=v+(O*y+L*E)-O,f.yOffset=T+(O*S+L*A)-L):f.xOffset=f.yOffset=0,f.xOrigin=B,f.yOrigin=I,f.smooth=!!a,f.origin=e,f.originIsAbsolute=!!i,t.style[Dn]="0px 0px",u&&(Us(u,f,"xOrigin",d,B),Us(u,f,"yOrigin",m,I),Us(u,f,"xOffset",v,f.xOffset),Us(u,f,"yOffset",T,f.yOffset)),t.setAttribute("data-svg-origin",B+" "+I)},sc=function(t,e){var i=t._gsap||new jA(t);if("x"in i&&!e&&!i.uncache)return i;var a=t.style,o=i.scaleX<0,u="px",f="deg",h=getComputedStyle(t),d=Gn(t,Dn)||"0",m,v,T,y,S,E,A,O,L,z,B,I,k,b,x,R,M,N,P,V,nt,it,G,X,lt,pt,Et,q,tt,ut,ct,yt;return m=v=T=E=A=O=L=z=B=0,y=S=1,i.svg=!!(t.getCTM&&nx(t)),h.translate&&((h.translate!=="none"||h.scale!=="none"||h.rotate!=="none")&&(a[pe]=(h.translate!=="none"?"translate3d("+(h.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(h.rotate!=="none"?"rotate("+h.rotate+") ":"")+(h.scale!=="none"?"scale("+h.scale.split(" ").join(",")+") ":"")+(h[pe]!=="none"?h[pe]:"")),a.scale=a.rotate=a.translate="none"),b=by(t,i.svg),i.svg&&(i.uncache?(lt=t.getBBox(),d=i.xOrigin-lt.x+"px "+(i.yOrigin-lt.y)+"px",X=""):X=!e&&t.getAttribute("data-svg-origin"),Ag(t,X||d,!!X||i.originIsAbsolute,i.smooth!==!1,b)),I=i.xOrigin||0,k=i.yOrigin||0,b!==rc&&(N=b[0],P=b[1],V=b[2],nt=b[3],m=it=b[4],v=G=b[5],b.length===6?(y=Math.sqrt(N*N+P*P),S=Math.sqrt(nt*nt+V*V),E=N||P?Yo(P,N)*Ua:0,L=V||nt?Yo(V,nt)*Ua+E:0,L&&(S*=Math.abs(Math.cos(L*cl))),i.svg&&(m-=I-(I*N+k*V),v-=k-(I*P+k*nt))):(yt=b[6],ut=b[7],Et=b[8],q=b[9],tt=b[10],ct=b[11],m=b[12],v=b[13],T=b[14],x=Yo(yt,tt),A=x*Ua,x&&(R=Math.cos(-x),M=Math.sin(-x),X=it*R+Et*M,lt=G*R+q*M,pt=yt*R+tt*M,Et=it*-M+Et*R,q=G*-M+q*R,tt=yt*-M+tt*R,ct=ut*-M+ct*R,it=X,G=lt,yt=pt),x=Yo(-V,tt),O=x*Ua,x&&(R=Math.cos(-x),M=Math.sin(-x),X=N*R-Et*M,lt=P*R-q*M,pt=V*R-tt*M,ct=nt*M+ct*R,N=X,P=lt,V=pt),x=Yo(P,N),E=x*Ua,x&&(R=Math.cos(x),M=Math.sin(x),X=N*R+P*M,lt=it*R+G*M,P=P*R-N*M,G=G*R-it*M,N=X,it=lt),A&&Math.abs(A)+Math.abs(E)>359.9&&(A=E=0,O=180-O),y=Re(Math.sqrt(N*N+P*P+V*V)),S=Re(Math.sqrt(G*G+yt*yt)),x=Yo(it,G),L=Math.abs(x)>2e-4?x*Ua:0,B=ct?1/(ct<0?-ct:ct):0),i.svg&&(X=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!rx(Gn(t,pe)),X&&t.setAttribute("transform",X))),Math.abs(L)>90&&Math.abs(L)<270&&(o?(y*=-1,L+=E<=0?180:-180,E+=E<=0?180:-180):(S*=-1,L+=L<=0?180:-180)),e=e||i.uncache,i.x=m-((i.xPercent=m&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-m)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+u,i.y=v-((i.yPercent=v&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-v)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+u,i.z=T+u,i.scaleX=Re(y),i.scaleY=Re(S),i.rotation=Re(E)+f,i.rotationX=Re(A)+f,i.rotationY=Re(O)+f,i.skewX=L+f,i.skewY=z+f,i.transformPerspective=B+u,(i.zOrigin=parseFloat(d.split(" ")[2])||!e&&i.zOrigin||0)&&(a[Dn]=Bh(d)),i.xOffset=i.yOffset=0,i.force3D=Yn.force3D,i.renderTransform=i.svg?PN:tx?sx:NN,i.uncache=0,i},Bh=function(t){return(t=t.split(" "))[0]+" "+t[1]},Np=function(t,e,i){var a=hn(e);return Re(parseFloat(e)+parseFloat(na(t,"x",i+"px",a)))+a},NN=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,sx(t,e)},Va="0deg",Mu="0px",ka=") ",sx=function(t,e){var i=e||this,a=i.xPercent,o=i.yPercent,u=i.x,f=i.y,h=i.z,d=i.rotation,m=i.rotationY,v=i.rotationX,T=i.skewX,y=i.skewY,S=i.scaleX,E=i.scaleY,A=i.transformPerspective,O=i.force3D,L=i.target,z=i.zOrigin,B="",I=O==="auto"&&t&&t!==1||O===!0;if(z&&(v!==Va||m!==Va)){var k=parseFloat(m)*cl,b=Math.sin(k),x=Math.cos(k),R;k=parseFloat(v)*cl,R=Math.cos(k),u=Np(L,u,b*R*-z),f=Np(L,f,-Math.sin(k)*-z),h=Np(L,h,x*R*-z+z)}A!==Mu&&(B+="perspective("+A+ka),(a||o)&&(B+="translate("+a+"%, "+o+"%) "),(I||u!==Mu||f!==Mu||h!==Mu)&&(B+=h!==Mu||I?"translate3d("+u+", "+f+", "+h+") ":"translate("+u+", "+f+ka),d!==Va&&(B+="rotate("+d+ka),m!==Va&&(B+="rotateY("+m+ka),v!==Va&&(B+="rotateX("+v+ka),(T!==Va||y!==Va)&&(B+="skew("+T+", "+y+ka),(S!==1||E!==1)&&(B+="scale("+S+", "+E+ka),L.style[pe]=B||"translate(0, 0)"},PN=function(t,e){var i=e||this,a=i.xPercent,o=i.yPercent,u=i.x,f=i.y,h=i.rotation,d=i.skewX,m=i.skewY,v=i.scaleX,T=i.scaleY,y=i.target,S=i.xOrigin,E=i.yOrigin,A=i.xOffset,O=i.yOffset,L=i.forceCSS,z=parseFloat(u),B=parseFloat(f),I,k,b,x,R;h=parseFloat(h),d=parseFloat(d),m=parseFloat(m),m&&(m=parseFloat(m),d+=m,h+=m),h||d?(h*=cl,d*=cl,I=Math.cos(h)*v,k=Math.sin(h)*v,b=Math.sin(h-d)*-T,x=Math.cos(h-d)*T,d&&(m*=cl,R=Math.tan(d-m),R=Math.sqrt(1+R*R),b*=R,x*=R,m&&(R=Math.tan(m),R=Math.sqrt(1+R*R),I*=R,k*=R)),I=Re(I),k=Re(k),b=Re(b),x=Re(x)):(I=v,x=T,k=b=0),(z&&!~(u+"").indexOf("px")||B&&!~(f+"").indexOf("px"))&&(z=na(y,"x",u,"px"),B=na(y,"y",f,"px")),(S||E||A||O)&&(z=Re(z+S-(S*I+E*b)+A),B=Re(B+E-(S*k+E*x)+O)),(a||o)&&(R=y.getBBox(),z=Re(z+a/100*R.width),B=Re(B+o/100*R.height)),R="matrix("+I+","+k+","+b+","+x+","+z+","+B+")",y.setAttribute("transform",R),L&&(y.style[pe]=R)},VN=function(t,e,i,a,o){var u=360,f=$e(o),h=parseFloat(o)*(f&&~o.indexOf("rad")?Ua:1),d=h-a,m=a+d+"deg",v,T;return f&&(v=o.split("_")[1],v==="short"&&(d%=u,d!==d%(u/2)&&(d+=d<0?u:-u)),v==="cw"&&d<0?d=(d+u*QT)%u-~~(d/u)*u:v==="ccw"&&d>0&&(d=(d-u*QT)%u-~~(d/u)*u)),t._pt=T=new Mn(t._pt,e,i,a,d,yN),T.e=m,T.u="deg",t._props.push(i),T},tE=function(t,e){for(var i in e)t[i]=e[i];return t},kN=function(t,e,i){var a=tE({},i._gsap),o="perspective,force3D,transformOrigin,svgOrigin",u=i.style,f,h,d,m,v,T,y,S;a.svg?(d=i.getAttribute("transform"),i.setAttribute("transform",""),u[pe]=e,f=sc(i,1),ea(i,pe),i.setAttribute("transform",d)):(d=getComputedStyle(i)[pe],u[pe]=e,f=sc(i,1),u[pe]=d);for(h in Yr)d=a[h],m=f[h],d!==m&&o.indexOf(h)<0&&(y=hn(d),S=hn(m),v=y!==S?na(i,h,d,S):parseFloat(d),T=parseFloat(m),t._pt=new Mn(t._pt,f,h,v,T-v,Tg),t._pt.u=S||0,t._props.push(h));tE(f,a)};In("padding,margin,Width,Radius",function(s,t){var e="Top",i="Right",a="Bottom",o="Left",u=(t<3?[e,i,a,o]:[e+o,e+i,a+i,a+o]).map(function(f){return t<2?s+f:"border"+f+s});zh[t>1?"border"+s:s]=function(f,h,d,m,v){var T,y;if(arguments.length<4)return T=u.map(function(S){return Ur(f,S,d)}),y=T.join(" "),y.split(T[0]).length===5?T[0]:y;T=(m+"").split(" "),y={},u.forEach(function(S,E){return y[S]=T[E]=T[E]||T[(E-1)/2|0]}),f.init(h,y,v)}});var ax={name:"css",register:Sg,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,a,o){var u=this._props,f=t.style,h=i.vars.startAt,d,m,v,T,y,S,E,A,O,L,z,B,I,k,b,x,R;Ay||Sg(),this.styles=this.styles||WA(t),x=this.styles.props,this.tween=i;for(E in e)if(E!=="autoRound"&&(m=e[E],!(Fn[E]&&FA(E,e,i,a,t,o)))){if(y=typeof m,S=zh[E],y==="function"&&(m=m.call(i,a,t,o),y=typeof m),y==="string"&&~m.indexOf("random(")&&(m=ec(m)),S)S(this,t,E,m,i)&&(b=1);else if(E.substr(0,2)==="--")d=(getComputedStyle(t).getPropertyValue(E)+"").trim(),m+="",Ys.lastIndex=0,Ys.test(d)||(A=hn(d),O=hn(m),O?A!==O&&(d=na(t,E,d,O)+O):A&&(m+=A)),this.add(f,"setProperty",d,m,a,o,0,0,E),u.push(E),x.push(E,0,f[E]);else if(y!=="undefined"){if(h&&E in h?(d=typeof h[E]=="function"?h[E].call(i,a,t,o):h[E],$e(d)&&~d.indexOf("random(")&&(d=ec(d)),hn(d+"")||d==="auto"||(d+=Yn.units[E]||hn(Ur(t,E))||""),(d+"").charAt(1)==="="&&(d=Ur(t,E))):d=Ur(t,E),T=parseFloat(d),L=y==="string"&&m.charAt(1)==="="&&m.substr(0,2),L&&(m=m.substr(2)),v=parseFloat(m),E in sr&&(E==="autoAlpha"&&(T===1&&Ur(t,"visibility")==="hidden"&&v&&(T=0),x.push("visibility",0,f.visibility),Us(this,f,"visibility",T?"inherit":"hidden",v?"inherit":"hidden",!v)),E!=="scale"&&E!=="transform"&&(E=sr[E],~E.indexOf(",")&&(E=E.split(",")[0]))),z=E in Yr,z){if(this.styles.save(E),R=m,y==="string"&&m.substring(0,6)==="var(--"){if(m=Gn(t,m.substring(4,m.indexOf(")"))),m.substring(0,5)==="calc("){var M=t.style.perspective;t.style.perspective=m,m=Gn(t,"perspective"),M?t.style.perspective=M:ea(t,"perspective")}v=parseFloat(m)}if(B||(I=t._gsap,I.renderTransform&&!e.parseTransform||sc(t,e.parseTransform),k=e.smoothOrigin!==!1&&I.smooth,B=this._pt=new Mn(this._pt,f,pe,0,1,I.renderTransform,I,0,-1),B.dep=1),E==="scale")this._pt=new Mn(this._pt,I,"scaleY",I.scaleY,(L?ll(I.scaleY,L+v):v)-I.scaleY||0,Tg),this._pt.u=0,u.push("scaleY",E),E+="X";else if(E==="transformOrigin"){x.push(Dn,0,f[Dn]),m=DN(m),I.svg?Ag(t,m,0,k,0,this):(O=parseFloat(m.split(" ")[2])||0,O!==I.zOrigin&&Us(this,I,"zOrigin",I.zOrigin,O),Us(this,f,E,Bh(d),Bh(m)));continue}else if(E==="svgOrigin"){Ag(t,m,1,k,0,this);continue}else if(E in ix){VN(this,I,E,T,L?ll(T,L+m):m);continue}else if(E==="smoothOrigin"){Us(this,I,"smooth",I.smooth,m);continue}else if(E==="force3D"){I[E]=m;continue}else if(E==="transform"){kN(this,m,t);continue}}else E in f||(E=Al(E)||E);if(z||(v||v===0)&&(T||T===0)&&!gN.test(m)&&E in f)A=(d+"").substr((T+"").length),v||(v=0),O=hn(m)||(E in Yn.units?Yn.units[E]:A),A!==O&&(T=na(t,E,d,O)),this._pt=new Mn(this._pt,z?I:f,E,T,(L?ll(T,L+v):v)-T,!z&&(O==="px"||E==="zIndex")&&e.autoRound!==!1?TN:Tg),this._pt.u=O||0,z&&R!==m?(this._pt.b=d,this._pt.e=R,this._pt.r=vN):A!==O&&O!=="%"&&(this._pt.b=d,this._pt.r=_N);else if(E in f)MN.call(this,t,E,d,L?L+m:m);else if(E in t)this.add(t,E,d||t[E],L?L+m:m,a,o);else if(E!=="parseTransform"){dy(E,m);continue}z||(E in f?x.push(E,0,f[E]):typeof t[E]=="function"?x.push(E,2,t[E]()):x.push(E,1,d||t[E])),u.push(E)}}b&&KA(this)},render:function(t,e){if(e.tween._time||!xy())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:Ur,aliases:sr,getSetter:function(t,e,i){var a=sr[e];return a&&a.indexOf(",")<0&&(e=a),e in Yr&&e!==Dn&&(t._gsap.x||Ur(t,"x"))?i&&YT===i?e==="scale"?xN:AN:(YT=i||{})&&(e==="scale"?wN:bN):t.style&&!cy(t.style[e])?EN:~e.indexOf("-")?SN:Ey(t,e)},core:{_removeProperty:ea,_getMatrix:by}};On.utils.checkPrefix=Al;On.core.getStyleSaver=WA;(function(s,t,e,i){var a=In(s+","+t+","+e,function(o){Yr[o]=1});In(t,function(o){Yn.units[o]="deg",ix[o]=1}),sr[a[13]]=s+","+t,In(i,function(o){var u=o.split(":");sr[u[1]]=a[u[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");In("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(s){Yn.units[s]="px"});On.registerPlugin(ax);var Qr=On.registerPlugin(ax)||On;Qr.core.Tween;function LN(s,t,e=24){const i=s.offsetWidth/2,a=s.offsetHeight/2,o=Array.from({length:e},()=>{const f=document.createElement("div");return f.style.cssText=`
      position:absolute;
      left:${i}px;
      top:${a}px;
      width:8px;
      height:8px;
      border-radius:50%;
      background:${t};
      pointer-events:none;
      z-index:100;
      transform:translate(-50%,-50%);
    `,s.appendChild(f),f}),u=Qr.timeline({onComplete:()=>o.forEach(f=>f.remove())});return o.forEach((f,h)=>{const d=h/e*Math.PI*2,m=150+Math.random()*250;u.to(f,{x:Math.cos(d)*m,y:Math.sin(d)*m,opacity:0,scale:Math.random()*2+.5,duration:.8,ease:"power2.out"},0)}),u}function UN({children:s,categoryId:t,categoryName:e,categoryAccent:i="#7cb518",onTransitionComplete:a}){const o=mt.useRef(null),u=mt.useRef(null),f=mt.useRef(null),h=mt.useRef(null),d=mt.useRef(!0),m=mt.useRef(null);return mt.useEffect(()=>{if(d.current){if(d.current=!1,h.current=t,u.current){const E=Qr.fromTo(u.current.children,{opacity:0,scale:.5,y:60},{opacity:1,scale:1,y:0,duration:.9,stagger:.06,ease:"back.out(1.4)"});m.current=E}return}if(t===h.current)return;h.current=t;const v=o.current,T=u.current,y=f.current;if(!v||!T)return;m.current&&(m.current.kill(),m.current=null);const S=Qr.timeline({onComplete:()=>{a?.()}});return m.current=S,S.to(Array.from(T.children),{scale:.1,opacity:0,x:()=>(Math.random()-.5)*60,y:()=>(Math.random()-.5)*60,duration:.45,stagger:{each:.04,from:"random"},ease:"power3.in"}),S.add(()=>{LN(v,i)}),y&&(S.fromTo(y,{x:-120,opacity:0,scale:.8},{x:0,opacity:1,scale:1,duration:.5,ease:"back.out(1.6)"}),S.to(y,{opacity:0,duration:.3,delay:.4})),S.set(Array.from(T.children),{scale:0,opacity:0,x:0,y:0}),S.to(Array.from(T.children),{scale:1,opacity:1,duration:.6,stagger:{each:.07,from:"start"},ease:"back.out(1.4)"}),()=>{m.current&&(m.current.kill(),m.current=null)}},[t,i,a]),F.jsxs("div",{ref:o,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden"},children:[F.jsx("div",{ref:f,style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",zIndex:50,opacity:0},children:F.jsx("span",{style:{fontFamily:"var(--font-display)",fontWeight:900,fontSize:"clamp(3rem, 8vw, 7rem)",color:i,textShadow:`0 0 40px ${i}, 0 0 80px ${i}44`,letterSpacing:"-0.02em"},children:e})}),F.jsx("div",{ref:u,style:{width:"100%",height:"100%"},children:s})]})}const eE=["main","stats","terpenes"],zN=7e3;function ld(s){return s==null?"":`$${Number(s).toFixed(2)}`}function BN({product:s,size:t,layer:e}){const i=t||180;return F.jsx("div",{className:"pc-circle glass-card pc-glow-rim",style:{width:i,height:i},children:F.jsxs("div",{className:"pc-circle__inner",children:[e==="main"&&F.jsxs("div",{className:"pc-layer pc-layer--main",children:[s.imageUrl&&F.jsx("img",{src:s.imageUrl,alt:s.name,className:"pc-img pc-img--circle"}),F.jsx("p",{className:"pc-name",children:s.name}),F.jsx("p",{className:"pc-price",children:ld(s.price)})]}),e==="stats"&&F.jsxs("div",{className:"pc-layer pc-layer--stats",children:[s.thc!=null&&F.jsxs("div",{className:"pc-stat",children:[F.jsx("span",{className:"pc-stat__label",children:"THC"}),F.jsxs("span",{className:"pc-stat__value",children:[s.thc,"%"]})]}),s.cbd!=null&&F.jsxs("div",{className:"pc-stat",children:[F.jsx("span",{className:"pc-stat__label",children:"CBD"}),F.jsxs("span",{className:"pc-stat__value",children:[s.cbd,"%"]})]}),s.strainType&&F.jsx("span",{className:"pc-badge",children:s.strainType})]}),e==="terpenes"&&F.jsxs("div",{className:"pc-layer pc-layer--terpenes",children:[s.terpenes?.length>0&&F.jsx("p",{className:"pc-terpenes",children:s.terpenes.join("  ")}),s.effects?.length>0&&F.jsx("p",{className:"pc-effects",children:s.effects.join("  ")})]})]})})}function jN({product:s,size:t,layer:e}){const i=t||160;return F.jsx("div",{className:"pc-hex-wrapper",style:{width:i,height:i*1.15},children:F.jsx("div",{className:"pc-hex glass-card pc-glow-rim",children:F.jsxs("div",{className:"pc-hex__inner",children:[e==="main"&&F.jsxs("div",{className:"pc-layer pc-layer--main",children:[s.imageUrl&&F.jsx("img",{src:s.imageUrl,alt:s.name,className:"pc-img pc-img--hex"}),F.jsx("p",{className:"pc-name pc-name--sm",children:s.name}),F.jsx("p",{className:"pc-price",children:ld(s.price)})]}),e==="stats"&&F.jsxs("div",{className:"pc-layer pc-layer--stats",children:[s.thc!=null&&F.jsxs("div",{className:"pc-stat",children:[F.jsx("span",{className:"pc-stat__label",children:"THC"}),F.jsxs("span",{className:"pc-stat__value",children:[s.thc,"%"]})]}),s.cbd!=null&&F.jsxs("div",{className:"pc-stat",children:[F.jsx("span",{className:"pc-stat__label",children:"CBD"}),F.jsxs("span",{className:"pc-stat__value",children:[s.cbd,"%"]})]})]}),e==="terpenes"&&F.jsx("div",{className:"pc-layer pc-layer--terpenes",children:s.effects?.slice(0,3).map(a=>F.jsx("span",{className:"pc-badge",children:a},a))})]})})})}function FN({product:s,size:t,layer:e}){const i=t||160;return F.jsxs("div",{className:"pc-vertical glass-card pc-glow-rim",style:{width:i,minHeight:i*1.6},children:[e==="main"&&F.jsxs("div",{className:"pc-layer pc-layer--main pc-vertical__main",children:[s.imageUrl&&F.jsx("img",{src:s.imageUrl,alt:s.name,className:"pc-img pc-img--vertical"}),F.jsx("p",{className:"pc-name",children:s.name}),F.jsx("p",{className:"pc-price",children:ld(s.price)})]}),e==="stats"&&F.jsxs("div",{className:"pc-layer pc-layer--stats pc-vertical__stats",children:[s.thc!=null&&F.jsxs("div",{className:"pc-stat",children:[F.jsx("span",{className:"pc-stat__label",children:"THC"}),F.jsxs("span",{className:"pc-stat__value",children:[s.thc,"%"]})]}),s.cbd!=null&&F.jsxs("div",{className:"pc-stat",children:[F.jsx("span",{className:"pc-stat__label",children:"CBD"}),F.jsxs("span",{className:"pc-stat__value",children:[s.cbd,"%"]})]}),s.strainType&&F.jsx("span",{className:"pc-badge",children:s.strainType}),s.weight&&F.jsx("p",{className:"pc-effects",children:s.weight})]}),e==="terpenes"&&F.jsxs("div",{className:"pc-layer pc-layer--terpenes",children:[s.terpenes?.length>0&&F.jsx("p",{className:"pc-terpenes",children:s.terpenes.join("  ")}),s.effects?.length>0&&F.jsx("p",{className:"pc-effects",children:s.effects.join("  ")})]})]})}function HN({product:s,size:t,layer:e}){const i=t||240;return F.jsxs("div",{className:"pc-standard glass-card pc-glow-rim",style:{width:i},children:[e==="main"&&F.jsxs("div",{className:"pc-layer pc-layer--main",children:[s.imageUrl&&F.jsx("img",{src:s.imageUrl,alt:s.name,className:"pc-img pc-img--standard"}),F.jsxs("div",{className:"pc-standard__info",children:[F.jsx("p",{className:"pc-name",children:s.name}),s.brand&&F.jsx("p",{className:"pc-brand",children:s.brand}),F.jsx("p",{className:"pc-price",children:ld(s.price)})]})]}),e==="stats"&&F.jsxs("div",{className:"pc-layer pc-layer--stats",children:[s.thc!=null&&F.jsxs("div",{className:"pc-stat pc-stat--lg",children:[F.jsx("span",{className:"pc-stat__label",children:"THC"}),F.jsxs("span",{className:"pc-stat__value",children:[s.thc,"%"]})]}),s.cbd!=null&&F.jsxs("div",{className:"pc-stat",children:[F.jsx("span",{className:"pc-stat__label",children:"CBD"}),F.jsxs("span",{className:"pc-stat__value",children:[s.cbd,"%"]})]}),s.strainType&&F.jsx("span",{className:"pc-badge",children:s.strainType})]}),e==="terpenes"&&F.jsxs("div",{className:"pc-layer pc-layer--terpenes",children:[s.terpenes?.length>0&&F.jsx("p",{className:"pc-terpenes",children:s.terpenes.join("  ")}),s.effects?.length>0&&F.jsx("p",{className:"pc-effects",children:s.effects.join("  ")})]})]})}function ac({product:s,size:t,variant:e="standard"}){const[i,a]=mt.useState(0),[o,u]=mt.useState(!1),f=mt.useRef(null);mt.useEffect(()=>{let m=null;return f.current=setInterval(()=>{u(!0),m=setTimeout(()=>{a(v=>(v+1)%eE.length),u(!1)},400)},zN),()=>{clearInterval(f.current),m&&clearTimeout(m)}},[]);const h=eE[i],d={product:s,size:t,layer:h};return F.jsxs("div",{className:`pc-wrapper pc-wrapper--${e} ${o?"pc-wrapper--animating":""}`,children:[e==="circle"&&F.jsx(BN,{...d}),e==="hex"&&F.jsx(jN,{...d}),e==="vertical"&&F.jsx(FN,{...d}),e==="standard"&&F.jsx(HN,{...d})]})}function qN(s){if(!s)return null;if(s?.seconds)return s.seconds*1e3+(s.nanoseconds||0)/1e6;if(s instanceof Date)return s.getTime();const t=new Date(s).getTime();return isNaN(t)?null:t}function Pp(s){const t=Date.now(),e=Math.max(0,s-t),i=Math.floor(e/36e5),a=Math.floor(e%36e5/6e4),o=Math.floor(e%6e4/1e3);return{total:e,hours:i,minutes:a,seconds:o}}function GN({endTime:s,compact:t=!1}){const e=qN(s),[i,a]=mt.useState(()=>e?Pp(e):null),o=mt.useRef(null);if(mt.useEffect(()=>{if(!e){a(null);return}return a(Pp(e)),o.current=setInterval(()=>{const h=Pp(e);a(h),h.total<=0&&clearInterval(o.current)},1e3),()=>clearInterval(o.current)},[e]),!e||!i||i.total<=0)return null;const u=i.total<30*6e4,f=h=>String(h).padStart(2,"0");return F.jsxs("div",{className:`countdown-timer ${u?"countdown-timer--urgent":""} ${t?"countdown-timer--compact":""}`,children:[i.hours>0&&F.jsxs(F.Fragment,{children:[F.jsx("span",{className:"countdown-timer__unit",children:f(i.hours)}),F.jsx("span",{className:"countdown-timer__sep",children:"h"})]}),F.jsx("span",{className:"countdown-timer__unit",children:f(i.minutes)}),F.jsx("span",{className:"countdown-timer__sep",children:"m"}),F.jsx("span",{className:"countdown-timer__unit",children:f(i.seconds)}),F.jsx("span",{className:"countdown-timer__sep",children:"s"})]})}const nE={BOGO:{label:" BOGO",color:"#ff3300"},PERCENT:{label:"% OFF",color:"#ff6600"},DOLLAR:{label:"$ OFF",color:"#ff9900"},BUNDLE:{label:" BUNDLE",color:"#9900ff"},FLASH:{label:" FLASH",color:"#0066ff"},DAILY:{label:" TODAY",color:"#00aa44"}};function ox(s){return s==null?null:`$${Number(s).toFixed(2)}`}function YN(s){const{type:t,originalPrice:e,dealPrice:i,savingsAmount:a,savingsPercent:o}=s;if(t==="BOGO")return"Get 2nd FREE";const u=[];if(a!=null&&a>0)u.push(`Save $${Number(a).toFixed(2)}`);else if(e!=null&&i!=null){const f=Number(e)-Number(i);f>0&&u.push(`Save $${f.toFixed(2)}`)}return o!=null&&o>0?u.push(`${Number(o).toFixed(0)}% off`):t==="PERCENT"&&s.discountValue&&u.push(`${s.discountValue}% off`),u.length>0?u.join(" / "):null}function QN(s){const{type:t,dealPrice:e,discountValue:i}=s;return t==="BOGO"?"BUY 1 GET 1":t==="PERCENT"&&i?`${i}% OFF`:t==="DOLLAR"&&i?`$${i} OFF`:e!=null?ox(e):null}function jh({deal:s,isHero:t=!1,isSide:e=!1,index:i=0}){const a=nE[s.type]||nE.DOLLAR,o=YN(s),u=QN(s),f=ox(s.originalPrice),h=["deal-card",t?"deal-card--hero":"",e?"deal-card--side":"",!t&&!e?"deal-card--grid":""].filter(Boolean).join(" ");return F.jsxs("div",{className:h,"data-index":i,children:[F.jsxs("div",{className:"deal-card__top-row",children:[F.jsx("span",{className:"deal-card__badge",style:{background:a.color},children:s.type==="PERCENT"&&s.discountValue?`${s.discountValue}% OFF`:s.type==="DOLLAR"&&s.discountValue?`$${s.discountValue} OFF`:a.label}),s.endTime&&F.jsxs("div",{className:"deal-card__timer countdown-timer-wrapper",children:[F.jsx("span",{className:"deal-card__ends-label",children:"ENDS IN"}),F.jsx(GN,{endTime:s.endTime,compact:!0})]})]}),s.imageUrl&&F.jsx("div",{className:"deal-card__img-wrap",children:F.jsx("img",{src:s.imageUrl,alt:s.title,className:"deal-card__img",loading:"lazy"})}),F.jsxs("div",{className:"deal-card__info",children:[F.jsx("h3",{className:"deal-card__title",children:s.title}),s.description&&F.jsx("p",{className:"deal-card__desc",children:s.description}),F.jsxs("div",{className:"deal-card__prices",children:[f&&F.jsx("span",{className:"deal-card__original",children:f}),u&&F.jsx("span",{className:"deal-card__price",children:u})]}),o&&F.jsx("div",{className:"deal-card__savings",children:o})]})]})}const iE=70,KN=3,XN=1,$N=2.5,ZN=.004,JN=.009;function Is(s,t){return s+Math.random()*(t-s)}function rE(s,t){return{x:Is(0,s),y:t+Is(0,30),vy:Is(ZN,JN)*t,vx:Is(-.4,.4),radius:Is(XN,$N),hue:Is(20,30),lightness:Is(50,70),alpha:1,life:0}}function WN(){const s=mt.useRef(null),t=mt.useRef(null),e=mt.useRef([]);return mt.useEffect(()=>{const i=s.current;if(!i)return;const a=i.getContext("2d");let o=0,u=0;function f(){o=i.width=i.offsetWidth,u=i.height=i.offsetHeight}f();const h=new ResizeObserver(f);h.observe(i),e.current=Array.from({length:iE},()=>{const m=rE(o,u);return m.y=Is(0,u),m});function d(){a.clearRect(0,0,o,u);for(let m=0;m<KN;m++)e.current.length<iE*1.5&&e.current.push(rE(o,u));e.current=e.current.filter(m=>m.alpha>.01);for(const m of e.current)m.y-=m.vy,m.x+=m.vx,m.life=1-m.y/u,m.alpha=Math.max(0,1-m.life),a.beginPath(),a.arc(m.x,m.y,m.radius,0,Math.PI*2),a.fillStyle=`hsla(${m.hue}, 100%, ${m.lightness}%, ${m.alpha})`,a.fill();t.current=requestAnimationFrame(d)}return t.current=requestAnimationFrame(d),()=>{cancelAnimationFrame(t.current),h.disconnect()}},[]),F.jsx("canvas",{ref:s,className:"ember-canvas",style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",opacity:0,zIndex:0}})}function t4(s){if(s.active===!1)return!1;if(s.endTime){const t=s.endTime?.seconds?s.endTime.seconds*1e3:new Date(s.endTime).getTime();if(!isNaN(t)&&t<Date.now())return!1}return!0}function e4(){return F.jsxs("div",{className:"vault-no-deals",children:[F.jsxs("div",{className:"vault-no-deals__art",children:[F.jsx("div",{className:"vault-no-deals__ring vault-no-deals__ring--1"}),F.jsx("div",{className:"vault-no-deals__ring vault-no-deals__ring--2"}),F.jsx("div",{className:"vault-no-deals__ring vault-no-deals__ring--3"}),F.jsx("span",{className:"vault-no-deals__icon",children:""})]}),F.jsx("h2",{className:"vault-no-deals__heading",children:"The Vault is Resting"}),F.jsx("p",{className:"vault-no-deals__sub",children:"New deals dropping soon  check back shortly"}),F.jsxs("div",{className:"vault-no-deals__loyalty",children:[F.jsx("span",{className:"vault-no-deals__loyalty-icon",children:""}),F.jsx("span",{className:"vault-no-deals__loyalty-text",children:"Ask about our Loyalty Program  earn points on every purchase"})]})]})}function n4({deals:s}){return F.jsx("div",{className:"vault-layout vault-layout--hero",children:F.jsx(jh,{deal:s[0],isHero:!0,index:0})})}function i4({deals:s}){const[t,...e]=s;return F.jsxs("div",{className:"vault-layout vault-layout--hero-side",children:[F.jsx("div",{className:"vault-hero-pane",children:F.jsx(jh,{deal:t,isHero:!0,index:0})}),F.jsx("div",{className:"vault-side-pane",children:e.map((i,a)=>F.jsx(jh,{deal:i,isSide:!0,index:a+1},i.id))})]})}function r4({deals:s}){return F.jsx("div",{className:"vault-layout vault-layout--grid",children:s.map((t,e)=>F.jsx(jh,{deal:t,index:e},t.id))})}function s4(){const[s,t]=mt.useState([]),[e,i]=mt.useState(!0),a=mt.useRef(null),o=mt.useRef(!1);mt.useEffect(()=>{const f=Jg(Nh,"deals"),h=xh(f,d=>{const m=d.docs.map(v=>({id:v.id,...v.data()})).filter(t4);t(m),i(!1)},d=>{console.error("[DealsLayout] Firestore error:",d),i(!1)});return()=>h()},[]),mt.useEffect(()=>{if(e||o.current)return;o.current=!0;const f=Qr.context(()=>{const h=Qr.timeline({defaults:{ease:"power3.out"}});h.from(".vault-rings .vault-ring",{scale:0,opacity:0,duration:.5,stagger:.08,ease:"power4.out"}),h.to(".ember-canvas",{opacity:1,duration:.3},"-=0.2"),h.from(".deals-header",{y:-100,opacity:0,duration:.4,ease:"back.out(1.7)"},"-=0.1"),h.from(".deal-card",{y:-200,opacity:0,stagger:.15,duration:.5,ease:"bounce.out"},"-=0.2"),h.from(".countdown-timer",{scale:0,opacity:0,duration:.3,ease:"elastic.out(1, 0.3)"},"-=0.1"),h.from(".deal-card",{boxShadow:"none",duration:.4},"-=0.1")},a);return()=>f.revert()},[e]);function u(){return e?null:s.length===0?F.jsx(e4,{}):s.length===1?F.jsx(n4,{deals:s}):s.length<=3?F.jsx(i4,{deals:s}):F.jsx(r4,{deals:s.slice(0,6)})}return F.jsxs("div",{ref:a,className:"vault-scene",children:[F.jsx(WN,{}),F.jsx("div",{className:"vault-rings","aria-hidden":"true",children:[1,2,3,4,5].map(f=>F.jsx("div",{className:`vault-ring vault-ring--${f}`},f))}),F.jsxs("header",{className:"deals-header",children:[F.jsx("span",{className:"deals-header__flame",children:""}),F.jsx("span",{className:"deals-header__text",children:"DEALS"}),F.jsx("span",{className:"deals-header__flame",children:""})]}),F.jsx("div",{className:"vault-content",children:u()})]})}var mh={exports:{}};var a4=mh.exports,sE;function o4(){return sE||(sE=1,(function(s,t){(function(i,a){s.exports=a()})(a4,function(){return(function(e){var i={};function a(o){if(i[o])return i[o].exports;var u=i[o]={i:o,l:!1,exports:{}};return e[o].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=e,a.c=i,a.d=function(o,u,f){a.o(o,u)||Object.defineProperty(o,u,{enumerable:!0,get:f})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,u){if(u&1&&(o=a(o)),u&8||u&4&&typeof o=="object"&&o&&o.__esModule)return o;var f=Object.create(null);if(a.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:o}),u&2&&typeof o!="string")for(var h in o)a.d(f,h,(function(d){return o[d]}).bind(null,h));return f},a.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(u,"a",u),u},a.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},a.p="",a(a.s=20)})([(function(e,i){var a={};e.exports=a,(function(){a._baseDelta=1e3/60,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(u,f){var h,d;typeof f=="boolean"?(h=2,d=f):(h=1,d=!0);for(var m=h;m<arguments.length;m++){var v=arguments[m];if(v)for(var T in v)d&&v[T]&&v[T].constructor===Object&&(!u[T]||u[T].constructor===Object)?(u[T]=u[T]||{},a.extend(u[T],d,v[T])):u[T]=v[T]}return u},a.clone=function(u,f){return a.extend({},f,u)},a.keys=function(u){if(Object.keys)return Object.keys(u);var f=[];for(var h in u)f.push(h);return f},a.values=function(u){var f=[];if(Object.keys){for(var h=Object.keys(u),d=0;d<h.length;d++)f.push(u[h[d]]);return f}for(var m in u)f.push(u[m]);return f},a.get=function(u,f,h,d){f=f.split(".").slice(h,d);for(var m=0;m<f.length;m+=1)u=u[f[m]];return u},a.set=function(u,f,h,d,m){var v=f.split(".").slice(d,m);return a.get(u,f,0,-1)[v[v.length-1]]=h,h},a.shuffle=function(u){for(var f=u.length-1;f>0;f--){var h=Math.floor(a.random()*(f+1)),d=u[f];u[f]=u[h],u[h]=d}return u},a.choose=function(u){return u[Math.floor(a.random()*u.length)]},a.isElement=function(u){return typeof HTMLElement<"u"?u instanceof HTMLElement:!!(u&&u.nodeType&&u.nodeName)},a.isArray=function(u){return Object.prototype.toString.call(u)==="[object Array]"},a.isFunction=function(u){return typeof u=="function"},a.isPlainObject=function(u){return typeof u=="object"&&u.constructor===Object},a.isString=function(u){return toString.call(u)==="[object String]"},a.clamp=function(u,f,h){return u<f?f:u>h?h:u},a.sign=function(u){return u<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(u,f){return u=typeof u<"u"?u:0,f=typeof f<"u"?f:1,u+o()*(f-u)};var o=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(u){return u=u.replace("#",""),u.length==3&&(u=u.charAt(0)+u.charAt(0)+u.charAt(1)+u.charAt(1)+u.charAt(2)+u.charAt(2)),parseInt(u,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var u=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[u]||(a.warn(u),a._warnedOnce[u]=!0)},a.deprecated=function(u,f,h){u[f]=a.chain(function(){a.warnOnce(" deprecated ",h)},u[f])},a.nextId=function(){return a._nextId++},a.indexOf=function(u,f){if(u.indexOf)return u.indexOf(f);for(var h=0;h<u.length;h++)if(u[h]===f)return h;return-1},a.map=function(u,f){if(u.map)return u.map(f);for(var h=[],d=0;d<u.length;d+=1)h.push(f(u[d]));return h},a.topologicalSort=function(u){var f=[],h=[],d=[];for(var m in u)!h[m]&&!d[m]&&a._topologicalSort(m,h,d,u,f);return f},a._topologicalSort=function(u,f,h,d,m){var v=d[u]||[];h[u]=!0;for(var T=0;T<v.length;T+=1){var y=v[T];h[y]||f[y]||a._topologicalSort(y,f,h,d,m)}h[u]=!1,f[u]=!0,m.push(u)},a.chain=function(){for(var u=[],f=0;f<arguments.length;f+=1){var h=arguments[f];h._chained?u.push.apply(u,h._chained):u.push(h)}var d=function(){for(var m,v=new Array(arguments.length),T=0,y=arguments.length;T<y;T++)v[T]=arguments[T];for(T=0;T<u.length;T+=1){var S=u[T].apply(m,v);typeof S<"u"&&(m=S)}return m};return d._chained=u,d},a.chainPathBefore=function(u,f,h){return a.set(u,f,a.chain(h,a.get(u,f)))},a.chainPathAfter=function(u,f,h){return a.set(u,f,a.chain(a.get(u,f),h))},a.setDecomp=function(u){a._decomp=u},a.getDecomp=function(){var u=a._decomp;try{!u&&typeof window<"u"&&(u=window.decomp),!u&&typeof Q0<"u"&&(u=Q0.decomp)}catch{u=null}return u}})()}),(function(e,i){var a={};e.exports=a,(function(){a.create=function(o){var u={min:{x:0,y:0},max:{x:0,y:0}};return o&&a.update(u,o),u},a.update=function(o,u,f){o.min.x=1/0,o.max.x=-1/0,o.min.y=1/0,o.max.y=-1/0;for(var h=0;h<u.length;h++){var d=u[h];d.x>o.max.x&&(o.max.x=d.x),d.x<o.min.x&&(o.min.x=d.x),d.y>o.max.y&&(o.max.y=d.y),d.y<o.min.y&&(o.min.y=d.y)}f&&(f.x>0?o.max.x+=f.x:o.min.x+=f.x,f.y>0?o.max.y+=f.y:o.min.y+=f.y)},a.contains=function(o,u){return u.x>=o.min.x&&u.x<=o.max.x&&u.y>=o.min.y&&u.y<=o.max.y},a.overlaps=function(o,u){return o.min.x<=u.max.x&&o.max.x>=u.min.x&&o.max.y>=u.min.y&&o.min.y<=u.max.y},a.translate=function(o,u){o.min.x+=u.x,o.max.x+=u.x,o.min.y+=u.y,o.max.y+=u.y},a.shift=function(o,u){var f=o.max.x-o.min.x,h=o.max.y-o.min.y;o.min.x=u.x,o.max.x=u.x+f,o.min.y=u.y,o.max.y=u.y+h}})()}),(function(e,i){var a={};e.exports=a,(function(){a.create=function(o,u){return{x:o||0,y:u||0}},a.clone=function(o){return{x:o.x,y:o.y}},a.magnitude=function(o){return Math.sqrt(o.x*o.x+o.y*o.y)},a.magnitudeSquared=function(o){return o.x*o.x+o.y*o.y},a.rotate=function(o,u,f){var h=Math.cos(u),d=Math.sin(u);f||(f={});var m=o.x*h-o.y*d;return f.y=o.x*d+o.y*h,f.x=m,f},a.rotateAbout=function(o,u,f,h){var d=Math.cos(u),m=Math.sin(u);h||(h={});var v=f.x+((o.x-f.x)*d-(o.y-f.y)*m);return h.y=f.y+((o.x-f.x)*m+(o.y-f.y)*d),h.x=v,h},a.normalise=function(o){var u=a.magnitude(o);return u===0?{x:0,y:0}:{x:o.x/u,y:o.y/u}},a.dot=function(o,u){return o.x*u.x+o.y*u.y},a.cross=function(o,u){return o.x*u.y-o.y*u.x},a.cross3=function(o,u,f){return(u.x-o.x)*(f.y-o.y)-(u.y-o.y)*(f.x-o.x)},a.add=function(o,u,f){return f||(f={}),f.x=o.x+u.x,f.y=o.y+u.y,f},a.sub=function(o,u,f){return f||(f={}),f.x=o.x-u.x,f.y=o.y-u.y,f},a.mult=function(o,u){return{x:o.x*u,y:o.y*u}},a.div=function(o,u){return{x:o.x/u,y:o.y/u}},a.perp=function(o,u){return u=u===!0?-1:1,{x:u*-o.y,y:u*o.x}},a.neg=function(o){return{x:-o.x,y:-o.y}},a.angle=function(o,u){return Math.atan2(u.y-o.y,u.x-o.x)},a._temp=[a.create(),a.create(),a.create(),a.create(),a.create(),a.create()]})()}),(function(e,i,a){var o={};e.exports=o;var u=a(2),f=a(0);(function(){o.create=function(h,d){for(var m=[],v=0;v<h.length;v++){var T=h[v],y={x:T.x,y:T.y,index:v,body:d,isInternal:!1};m.push(y)}return m},o.fromPath=function(h,d){var m=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,v=[];return h.replace(m,function(T,y,S){v.push({x:parseFloat(y),y:parseFloat(S)})}),o.create(v,d)},o.centre=function(h){for(var d=o.area(h,!0),m={x:0,y:0},v,T,y,S=0;S<h.length;S++)y=(S+1)%h.length,v=u.cross(h[S],h[y]),T=u.mult(u.add(h[S],h[y]),v),m=u.add(m,T);return u.div(m,6*d)},o.mean=function(h){for(var d={x:0,y:0},m=0;m<h.length;m++)d.x+=h[m].x,d.y+=h[m].y;return u.div(d,h.length)},o.area=function(h,d){for(var m=0,v=h.length-1,T=0;T<h.length;T++)m+=(h[v].x-h[T].x)*(h[v].y+h[T].y),v=T;return d?m/2:Math.abs(m)/2},o.inertia=function(h,d){for(var m=0,v=0,T=h,y,S,E=0;E<T.length;E++)S=(E+1)%T.length,y=Math.abs(u.cross(T[S],T[E])),m+=y*(u.dot(T[S],T[S])+u.dot(T[S],T[E])+u.dot(T[E],T[E])),v+=y;return d/6*(m/v)},o.translate=function(h,d,m){m=typeof m<"u"?m:1;var v=h.length,T=d.x*m,y=d.y*m,S;for(S=0;S<v;S++)h[S].x+=T,h[S].y+=y;return h},o.rotate=function(h,d,m){if(d!==0){var v=Math.cos(d),T=Math.sin(d),y=m.x,S=m.y,E=h.length,A,O,L,z;for(z=0;z<E;z++)A=h[z],O=A.x-y,L=A.y-S,A.x=y+(O*v-L*T),A.y=S+(O*T+L*v);return h}},o.contains=function(h,d){for(var m=d.x,v=d.y,T=h.length,y=h[T-1],S,E=0;E<T;E++){if(S=h[E],(m-y.x)*(S.y-y.y)+(v-y.y)*(y.x-S.x)>0)return!1;y=S}return!0},o.scale=function(h,d,m,v){if(d===1&&m===1)return h;v=v||o.centre(h);for(var T,y,S=0;S<h.length;S++)T=h[S],y=u.sub(T,v),h[S].x=v.x+y.x*d,h[S].y=v.y+y.y*m;return h},o.chamfer=function(h,d,m,v,T){typeof d=="number"?d=[d]:d=d||[8],m=typeof m<"u"?m:-1,v=v||2,T=T||14;for(var y=[],S=0;S<h.length;S++){var E=h[S-1>=0?S-1:h.length-1],A=h[S],O=h[(S+1)%h.length],L=d[S<d.length?S:d.length-1];if(L===0){y.push(A);continue}var z=u.normalise({x:A.y-E.y,y:E.x-A.x}),B=u.normalise({x:O.y-A.y,y:A.x-O.x}),I=Math.sqrt(2*Math.pow(L,2)),k=u.mult(f.clone(z),L),b=u.normalise(u.mult(u.add(z,B),.5)),x=u.sub(A,u.mult(b,I)),R=m;m===-1&&(R=Math.pow(L,.32)*1.75),R=f.clamp(R,v,T),R%2===1&&(R+=1);for(var M=Math.acos(u.dot(z,B)),N=M/R,P=0;P<R;P++)y.push(u.add(u.rotate(k,N*P),x))}return y},o.clockwiseSort=function(h){var d=o.mean(h);return h.sort(function(m,v){return u.angle(d,m)-u.angle(d,v)}),h},o.isConvex=function(h){var d=0,m=h.length,v,T,y,S;if(m<3)return null;for(v=0;v<m;v++)if(T=(v+1)%m,y=(v+2)%m,S=(h[T].x-h[v].x)*(h[y].y-h[T].y),S-=(h[T].y-h[v].y)*(h[y].x-h[T].x),S<0?d|=1:S>0&&(d|=2),d===3)return!1;return d!==0?!0:null},o.hull=function(h){var d=[],m=[],v,T;for(h=h.slice(0),h.sort(function(y,S){var E=y.x-S.x;return E!==0?E:y.y-S.y}),T=0;T<h.length;T+=1){for(v=h[T];m.length>=2&&u.cross3(m[m.length-2],m[m.length-1],v)<=0;)m.pop();m.push(v)}for(T=h.length-1;T>=0;T-=1){for(v=h[T];d.length>=2&&u.cross3(d[d.length-2],d[d.length-1],v)<=0;)d.pop();d.push(v)}return d.pop(),m.pop(),d.concat(m)}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(3),f=a(2),h=a(7),d=a(0),m=a(1),v=a(11);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=1e3/60,o.create=function(y){var S={id:d.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:u.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},E=d.extend(S,y);return T(E,y),E},o.nextGroup=function(y){return y?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var T=function(y,S){S=S||{},o.set(y,{bounds:y.bounds||m.create(y.vertices),positionPrev:y.positionPrev||f.clone(y.position),anglePrev:y.anglePrev||y.angle,vertices:y.vertices,parts:y.parts||[y],isStatic:y.isStatic,isSleeping:y.isSleeping,parent:y.parent||y}),u.rotate(y.vertices,y.angle,y.position),v.rotate(y.axes,y.angle),m.update(y.bounds,y.vertices,y.velocity),o.set(y,{axes:S.axes||y.axes,area:S.area||y.area,mass:S.mass||y.mass,inertia:S.inertia||y.inertia});var E=y.isStatic?"#14151f":d.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),A=y.isStatic?"#555":"#ccc",O=y.isStatic&&y.render.fillStyle===null?1:0;y.render.fillStyle=y.render.fillStyle||E,y.render.strokeStyle=y.render.strokeStyle||A,y.render.lineWidth=y.render.lineWidth||O,y.render.sprite.xOffset+=-(y.bounds.min.x-y.position.x)/(y.bounds.max.x-y.bounds.min.x),y.render.sprite.yOffset+=-(y.bounds.min.y-y.position.y)/(y.bounds.max.y-y.bounds.min.y)};o.set=function(y,S,E){var A;typeof S=="string"&&(A=S,S={},S[A]=E);for(A in S)if(Object.prototype.hasOwnProperty.call(S,A))switch(E=S[A],A){case"isStatic":o.setStatic(y,E);break;case"isSleeping":h.set(y,E);break;case"mass":o.setMass(y,E);break;case"density":o.setDensity(y,E);break;case"inertia":o.setInertia(y,E);break;case"vertices":o.setVertices(y,E);break;case"position":o.setPosition(y,E);break;case"angle":o.setAngle(y,E);break;case"velocity":o.setVelocity(y,E);break;case"angularVelocity":o.setAngularVelocity(y,E);break;case"speed":o.setSpeed(y,E);break;case"angularSpeed":o.setAngularSpeed(y,E);break;case"parts":o.setParts(y,E);break;case"centre":o.setCentre(y,E);break;default:y[A]=E}},o.setStatic=function(y,S){for(var E=0;E<y.parts.length;E++){var A=y.parts[E];S?(A.isStatic||(A._original={restitution:A.restitution,friction:A.friction,mass:A.mass,inertia:A.inertia,density:A.density,inverseMass:A.inverseMass,inverseInertia:A.inverseInertia}),A.restitution=0,A.friction=1,A.mass=A.inertia=A.density=1/0,A.inverseMass=A.inverseInertia=0,A.positionPrev.x=A.position.x,A.positionPrev.y=A.position.y,A.anglePrev=A.angle,A.angularVelocity=0,A.speed=0,A.angularSpeed=0,A.motion=0):A._original&&(A.restitution=A._original.restitution,A.friction=A._original.friction,A.mass=A._original.mass,A.inertia=A._original.inertia,A.density=A._original.density,A.inverseMass=A._original.inverseMass,A.inverseInertia=A._original.inverseInertia,A._original=null),A.isStatic=S}},o.setMass=function(y,S){var E=y.inertia/(y.mass/6);y.inertia=E*(S/6),y.inverseInertia=1/y.inertia,y.mass=S,y.inverseMass=1/y.mass,y.density=y.mass/y.area},o.setDensity=function(y,S){o.setMass(y,S*y.area),y.density=S},o.setInertia=function(y,S){y.inertia=S,y.inverseInertia=1/y.inertia},o.setVertices=function(y,S){S[0].body===y?y.vertices=S:y.vertices=u.create(S,y),y.axes=v.fromVertices(y.vertices),y.area=u.area(y.vertices),o.setMass(y,y.density*y.area);var E=u.centre(y.vertices);u.translate(y.vertices,E,-1),o.setInertia(y,o._inertiaScale*u.inertia(y.vertices,y.mass)),u.translate(y.vertices,y.position),m.update(y.bounds,y.vertices,y.velocity)},o.setParts=function(y,S,E){var A;for(S=S.slice(0),y.parts.length=0,y.parts.push(y),y.parent=y,A=0;A<S.length;A++){var O=S[A];O!==y&&(O.parent=y,y.parts.push(O))}if(y.parts.length!==1){if(E=typeof E<"u"?E:!0,E){var L=[];for(A=0;A<S.length;A++)L=L.concat(S[A].vertices);u.clockwiseSort(L);var z=u.hull(L),B=u.centre(z);o.setVertices(y,z),u.translate(y.vertices,B)}var I=o._totalProperties(y);y.area=I.area,y.parent=y,y.position.x=I.centre.x,y.position.y=I.centre.y,y.positionPrev.x=I.centre.x,y.positionPrev.y=I.centre.y,o.setMass(y,I.mass),o.setInertia(y,I.inertia),o.setPosition(y,I.centre)}},o.setCentre=function(y,S,E){E?(y.positionPrev.x+=S.x,y.positionPrev.y+=S.y,y.position.x+=S.x,y.position.y+=S.y):(y.positionPrev.x=S.x-(y.position.x-y.positionPrev.x),y.positionPrev.y=S.y-(y.position.y-y.positionPrev.y),y.position.x=S.x,y.position.y=S.y)},o.setPosition=function(y,S,E){var A=f.sub(S,y.position);E?(y.positionPrev.x=y.position.x,y.positionPrev.y=y.position.y,y.velocity.x=A.x,y.velocity.y=A.y,y.speed=f.magnitude(A)):(y.positionPrev.x+=A.x,y.positionPrev.y+=A.y);for(var O=0;O<y.parts.length;O++){var L=y.parts[O];L.position.x+=A.x,L.position.y+=A.y,u.translate(L.vertices,A),m.update(L.bounds,L.vertices,y.velocity)}},o.setAngle=function(y,S,E){var A=S-y.angle;E?(y.anglePrev=y.angle,y.angularVelocity=A,y.angularSpeed=Math.abs(A)):y.anglePrev+=A;for(var O=0;O<y.parts.length;O++){var L=y.parts[O];L.angle+=A,u.rotate(L.vertices,A,y.position),v.rotate(L.axes,A),m.update(L.bounds,L.vertices,y.velocity),O>0&&f.rotateAbout(L.position,A,y.position,L.position)}},o.setVelocity=function(y,S){var E=y.deltaTime/o._baseDelta;y.positionPrev.x=y.position.x-S.x*E,y.positionPrev.y=y.position.y-S.y*E,y.velocity.x=(y.position.x-y.positionPrev.x)/E,y.velocity.y=(y.position.y-y.positionPrev.y)/E,y.speed=f.magnitude(y.velocity)},o.getVelocity=function(y){var S=o._baseDelta/y.deltaTime;return{x:(y.position.x-y.positionPrev.x)*S,y:(y.position.y-y.positionPrev.y)*S}},o.getSpeed=function(y){return f.magnitude(o.getVelocity(y))},o.setSpeed=function(y,S){o.setVelocity(y,f.mult(f.normalise(o.getVelocity(y)),S))},o.setAngularVelocity=function(y,S){var E=y.deltaTime/o._baseDelta;y.anglePrev=y.angle-S*E,y.angularVelocity=(y.angle-y.anglePrev)/E,y.angularSpeed=Math.abs(y.angularVelocity)},o.getAngularVelocity=function(y){return(y.angle-y.anglePrev)*o._baseDelta/y.deltaTime},o.getAngularSpeed=function(y){return Math.abs(o.getAngularVelocity(y))},o.setAngularSpeed=function(y,S){o.setAngularVelocity(y,d.sign(o.getAngularVelocity(y))*S)},o.translate=function(y,S,E){o.setPosition(y,f.add(y.position,S),E)},o.rotate=function(y,S,E,A){if(!E)o.setAngle(y,y.angle+S,A);else{var O=Math.cos(S),L=Math.sin(S),z=y.position.x-E.x,B=y.position.y-E.y;o.setPosition(y,{x:E.x+(z*O-B*L),y:E.y+(z*L+B*O)},A),o.setAngle(y,y.angle+S,A)}},o.scale=function(y,S,E,A){var O=0,L=0;A=A||y.position;for(var z=0;z<y.parts.length;z++){var B=y.parts[z];u.scale(B.vertices,S,E,A),B.axes=v.fromVertices(B.vertices),B.area=u.area(B.vertices),o.setMass(B,y.density*B.area),u.translate(B.vertices,{x:-B.position.x,y:-B.position.y}),o.setInertia(B,o._inertiaScale*u.inertia(B.vertices,B.mass)),u.translate(B.vertices,{x:B.position.x,y:B.position.y}),z>0&&(O+=B.area,L+=B.inertia),B.position.x=A.x+(B.position.x-A.x)*S,B.position.y=A.y+(B.position.y-A.y)*E,m.update(B.bounds,B.vertices,y.velocity)}y.parts.length>1&&(y.area=O,y.isStatic||(o.setMass(y,y.density*O),o.setInertia(y,L))),y.circleRadius&&(S===E?y.circleRadius*=S:y.circleRadius=null)},o.update=function(y,S){S=(typeof S<"u"?S:1e3/60)*y.timeScale;var E=S*S,A=o._timeCorrection?S/(y.deltaTime||S):1,O=1-y.frictionAir*(S/d._baseDelta),L=(y.position.x-y.positionPrev.x)*A,z=(y.position.y-y.positionPrev.y)*A;y.velocity.x=L*O+y.force.x/y.mass*E,y.velocity.y=z*O+y.force.y/y.mass*E,y.positionPrev.x=y.position.x,y.positionPrev.y=y.position.y,y.position.x+=y.velocity.x,y.position.y+=y.velocity.y,y.deltaTime=S,y.angularVelocity=(y.angle-y.anglePrev)*O*A+y.torque/y.inertia*E,y.anglePrev=y.angle,y.angle+=y.angularVelocity;for(var B=0;B<y.parts.length;B++){var I=y.parts[B];u.translate(I.vertices,y.velocity),B>0&&(I.position.x+=y.velocity.x,I.position.y+=y.velocity.y),y.angularVelocity!==0&&(u.rotate(I.vertices,y.angularVelocity,y.position),v.rotate(I.axes,y.angularVelocity),B>0&&f.rotateAbout(I.position,y.angularVelocity,y.position,I.position)),m.update(I.bounds,I.vertices,y.velocity)}},o.updateVelocities=function(y){var S=o._baseDelta/y.deltaTime,E=y.velocity;E.x=(y.position.x-y.positionPrev.x)*S,E.y=(y.position.y-y.positionPrev.y)*S,y.speed=Math.sqrt(E.x*E.x+E.y*E.y),y.angularVelocity=(y.angle-y.anglePrev)*S,y.angularSpeed=Math.abs(y.angularVelocity)},o.applyForce=function(y,S,E){var A={x:S.x-y.position.x,y:S.y-y.position.y};y.force.x+=E.x,y.force.y+=E.y,y.torque+=A.x*E.y-A.y*E.x},o._totalProperties=function(y){for(var S={mass:0,area:0,inertia:0,centre:{x:0,y:0}},E=y.parts.length===1?0:1;E<y.parts.length;E++){var A=y.parts[E],O=A.mass!==1/0?A.mass:1;S.mass+=O,S.area+=A.area,S.inertia+=A.inertia,S.centre=f.add(S.centre,f.mult(A.position,O))}return S.centre=f.div(S.centre,S.mass),S}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(0);(function(){o.on=function(f,h,d){for(var m=h.split(" "),v,T=0;T<m.length;T++)v=m[T],f.events=f.events||{},f.events[v]=f.events[v]||[],f.events[v].push(d);return d},o.off=function(f,h,d){if(!h){f.events={};return}typeof h=="function"&&(d=h,h=u.keys(f.events).join(" "));for(var m=h.split(" "),v=0;v<m.length;v++){var T=f.events[m[v]],y=[];if(d&&T)for(var S=0;S<T.length;S++)T[S]!==d&&y.push(T[S]);f.events[m[v]]=y}},o.trigger=function(f,h,d){var m,v,T,y,S=f.events;if(S&&u.keys(S).length>0){d||(d={}),m=h.split(" ");for(var E=0;E<m.length;E++)if(v=m[E],T=S[v],T){y=u.clone(d,!1),y.name=v,y.source=f;for(var A=0;A<T.length;A++)T[A].apply(f,[y])}}}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(5),f=a(0),h=a(1),d=a(4);(function(){o.create=function(m){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},m)},o.setModified=function(m,v,T,y){if(m.isModified=v,v&&m.cache&&(m.cache.allBodies=null,m.cache.allConstraints=null,m.cache.allComposites=null),T&&m.parent&&o.setModified(m.parent,v,T,y),y)for(var S=0;S<m.composites.length;S++){var E=m.composites[S];o.setModified(E,v,T,y)}},o.add=function(m,v){var T=[].concat(v);u.trigger(m,"beforeAdd",{object:v});for(var y=0;y<T.length;y++){var S=T[y];switch(S.type){case"body":if(S.parent!==S){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(m,S);break;case"constraint":o.addConstraint(m,S);break;case"composite":o.addComposite(m,S);break;case"mouseConstraint":o.addConstraint(m,S.constraint);break}}return u.trigger(m,"afterAdd",{object:v}),m},o.remove=function(m,v,T){var y=[].concat(v);u.trigger(m,"beforeRemove",{object:v});for(var S=0;S<y.length;S++){var E=y[S];switch(E.type){case"body":o.removeBody(m,E,T);break;case"constraint":o.removeConstraint(m,E,T);break;case"composite":o.removeComposite(m,E,T);break;case"mouseConstraint":o.removeConstraint(m,E.constraint);break}}return u.trigger(m,"afterRemove",{object:v}),m},o.addComposite=function(m,v){return m.composites.push(v),v.parent=m,o.setModified(m,!0,!0,!1),m},o.removeComposite=function(m,v,T){var y=f.indexOf(m.composites,v);if(y!==-1){var S=o.allBodies(v);o.removeCompositeAt(m,y);for(var E=0;E<S.length;E++)S[E].sleepCounter=0}if(T)for(var E=0;E<m.composites.length;E++)o.removeComposite(m.composites[E],v,!0);return m},o.removeCompositeAt=function(m,v){return m.composites.splice(v,1),o.setModified(m,!0,!0,!1),m},o.addBody=function(m,v){return m.bodies.push(v),o.setModified(m,!0,!0,!1),m},o.removeBody=function(m,v,T){var y=f.indexOf(m.bodies,v);if(y!==-1&&(o.removeBodyAt(m,y),v.sleepCounter=0),T)for(var S=0;S<m.composites.length;S++)o.removeBody(m.composites[S],v,!0);return m},o.removeBodyAt=function(m,v){return m.bodies.splice(v,1),o.setModified(m,!0,!0,!1),m},o.addConstraint=function(m,v){return m.constraints.push(v),o.setModified(m,!0,!0,!1),m},o.removeConstraint=function(m,v,T){var y=f.indexOf(m.constraints,v);if(y!==-1&&o.removeConstraintAt(m,y),T)for(var S=0;S<m.composites.length;S++)o.removeConstraint(m.composites[S],v,!0);return m},o.removeConstraintAt=function(m,v){return m.constraints.splice(v,1),o.setModified(m,!0,!0,!1),m},o.clear=function(m,v,T){if(T)for(var y=0;y<m.composites.length;y++)o.clear(m.composites[y],v,!0);return v?m.bodies=m.bodies.filter(function(S){return S.isStatic}):m.bodies.length=0,m.constraints.length=0,m.composites.length=0,o.setModified(m,!0,!0,!1),m},o.allBodies=function(m){if(m.cache&&m.cache.allBodies)return m.cache.allBodies;for(var v=[].concat(m.bodies),T=0;T<m.composites.length;T++)v=v.concat(o.allBodies(m.composites[T]));return m.cache&&(m.cache.allBodies=v),v},o.allConstraints=function(m){if(m.cache&&m.cache.allConstraints)return m.cache.allConstraints;for(var v=[].concat(m.constraints),T=0;T<m.composites.length;T++)v=v.concat(o.allConstraints(m.composites[T]));return m.cache&&(m.cache.allConstraints=v),v},o.allComposites=function(m){if(m.cache&&m.cache.allComposites)return m.cache.allComposites;for(var v=[].concat(m.composites),T=0;T<m.composites.length;T++)v=v.concat(o.allComposites(m.composites[T]));return m.cache&&(m.cache.allComposites=v),v},o.get=function(m,v,T){var y,S;switch(T){case"body":y=o.allBodies(m);break;case"constraint":y=o.allConstraints(m);break;case"composite":y=o.allComposites(m).concat(m);break}return y?(S=y.filter(function(E){return E.id.toString()===v.toString()}),S.length===0?null:S[0]):null},o.move=function(m,v,T){return o.remove(m,v),o.add(T,v),m},o.rebase=function(m){for(var v=o.allBodies(m).concat(o.allConstraints(m)).concat(o.allComposites(m)),T=0;T<v.length;T++)v[T].id=f.nextId();return m},o.translate=function(m,v,T){for(var y=T?o.allBodies(m):m.bodies,S=0;S<y.length;S++)d.translate(y[S],v);return m},o.rotate=function(m,v,T,y){for(var S=Math.cos(v),E=Math.sin(v),A=y?o.allBodies(m):m.bodies,O=0;O<A.length;O++){var L=A[O],z=L.position.x-T.x,B=L.position.y-T.y;d.setPosition(L,{x:T.x+(z*S-B*E),y:T.y+(z*E+B*S)}),d.rotate(L,v)}return m},o.scale=function(m,v,T,y,S){for(var E=S?o.allBodies(m):m.bodies,A=0;A<E.length;A++){var O=E[A],L=O.position.x-y.x,z=O.position.y-y.y;d.setPosition(O,{x:y.x+L*v,y:y.y+z*T}),d.scale(O,v,T)}return m},o.bounds=function(m){for(var v=o.allBodies(m),T=[],y=0;y<v.length;y+=1){var S=v[y];T.push(S.bounds.min,S.bounds.max)}return h.create(T)}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(4),f=a(5),h=a(0);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(d,m){for(var v=m/h._baseDelta,T=o._motionSleepThreshold,y=0;y<d.length;y++){var S=d[y],E=u.getSpeed(S),A=u.getAngularSpeed(S),O=E*E+A*A;if(S.force.x!==0||S.force.y!==0){o.set(S,!1);continue}var L=Math.min(S.motion,O),z=Math.max(S.motion,O);S.motion=o._minBias*L+(1-o._minBias)*z,S.sleepThreshold>0&&S.motion<T?(S.sleepCounter+=1,S.sleepCounter>=S.sleepThreshold/v&&o.set(S,!0)):S.sleepCounter>0&&(S.sleepCounter-=1)}},o.afterCollisions=function(d){for(var m=o._motionSleepThreshold,v=0;v<d.length;v++){var T=d[v];if(T.isActive){var y=T.collision,S=y.bodyA.parent,E=y.bodyB.parent;if(!(S.isSleeping&&E.isSleeping||S.isStatic||E.isStatic)&&(S.isSleeping||E.isSleeping)){var A=S.isSleeping&&!S.isStatic?S:E,O=A===S?E:S;!A.isStatic&&O.motion>m&&o.set(A,!1)}}}},o.set=function(d,m){var v=d.isSleeping;m?(d.isSleeping=!0,d.sleepCounter=d.sleepThreshold,d.positionImpulse.x=0,d.positionImpulse.y=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.speed=0,d.angularSpeed=0,d.motion=0,v||f.trigger(d,"sleepStart")):(d.isSleeping=!1,d.sleepCounter=0,v&&f.trigger(d,"sleepEnd"))}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(3),f=a(9);(function(){var h=[],d={overlap:0,axis:null},m={overlap:0,axis:null};o.create=function(v,T){return{pair:null,collided:!1,bodyA:v,bodyB:T,parentA:v.parent,parentB:T.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},o.collides=function(v,T,y){if(o._overlapAxes(d,v.vertices,T.vertices,v.axes),d.overlap<=0||(o._overlapAxes(m,T.vertices,v.vertices,T.axes),m.overlap<=0))return null;var S=y&&y.table[f.id(v,T)],E;S?E=S.collision:(E=o.create(v,T),E.collided=!0,E.bodyA=v.id<T.id?v:T,E.bodyB=v.id<T.id?T:v,E.parentA=E.bodyA.parent,E.parentB=E.bodyB.parent),v=E.bodyA,T=E.bodyB;var A;d.overlap<m.overlap?A=d:A=m;var O=E.normal,L=E.tangent,z=E.penetration,B=E.supports,I=A.overlap,k=A.axis,b=k.x,x=k.y,R=T.position.x-v.position.x,M=T.position.y-v.position.y;b*R+x*M>=0&&(b=-b,x=-x),O.x=b,O.y=x,L.x=-x,L.y=b,z.x=b*I,z.y=x*I,E.depth=I;var N=o._findSupports(v,T,O,1),P=0;if(u.contains(v.vertices,N[0])&&(B[P++]=N[0]),u.contains(v.vertices,N[1])&&(B[P++]=N[1]),P<2){var V=o._findSupports(T,v,O,-1);u.contains(T.vertices,V[0])&&(B[P++]=V[0]),P<2&&u.contains(T.vertices,V[1])&&(B[P++]=V[1])}return P===0&&(B[P++]=N[0]),E.supportCount=P,E},o._overlapAxes=function(v,T,y,S){var E=T.length,A=y.length,O=T[0].x,L=T[0].y,z=y[0].x,B=y[0].y,I=S.length,k=Number.MAX_VALUE,b=0,x,R,M,N,P,V;for(P=0;P<I;P++){var nt=S[P],it=nt.x,G=nt.y,X=O*it+L*G,lt=z*it+B*G,pt=X,Et=lt;for(V=1;V<E;V+=1)N=T[V].x*it+T[V].y*G,N>pt?pt=N:N<X&&(X=N);for(V=1;V<A;V+=1)N=y[V].x*it+y[V].y*G,N>Et?Et=N:N<lt&&(lt=N);if(R=pt-lt,M=Et-X,x=R<M?R:M,x<k&&(k=x,b=P,x<=0))break}v.axis=S[b],v.overlap=k},o._findSupports=function(v,T,y,S){var E=T.vertices,A=E.length,O=v.position.x,L=v.position.y,z=y.x*S,B=y.y*S,I=E[0],k=I,b=z*(O-k.x)+B*(L-k.y),x,R,M;for(M=1;M<A;M+=1)k=E[M],R=z*(O-k.x)+B*(L-k.y),R<b&&(b=R,I=k);return x=E[(A+I.index-1)%A],b=z*(O-x.x)+B*(L-x.y),k=E[(I.index+1)%A],z*(O-k.x)+B*(L-k.y)<b?(h[0]=I,h[1]=k,h):(h[0]=I,h[1]=x,h)}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(16);(function(){o.create=function(f,h){var d=f.bodyA,m=f.bodyB,v={id:o.id(d,m),bodyA:d,bodyB:m,collision:f,contacts:[u.create(),u.create()],contactCount:0,separation:0,isActive:!0,isSensor:d.isSensor||m.isSensor,timeCreated:h,timeUpdated:h,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(v,f,h),v},o.update=function(f,h,d){var m=h.supports,v=h.supportCount,T=f.contacts,y=h.parentA,S=h.parentB;f.isActive=!0,f.timeUpdated=d,f.collision=h,f.separation=h.depth,f.inverseMass=y.inverseMass+S.inverseMass,f.friction=y.friction<S.friction?y.friction:S.friction,f.frictionStatic=y.frictionStatic>S.frictionStatic?y.frictionStatic:S.frictionStatic,f.restitution=y.restitution>S.restitution?y.restitution:S.restitution,f.slop=y.slop>S.slop?y.slop:S.slop,f.contactCount=v,h.pair=f;var E=m[0],A=T[0],O=m[1],L=T[1];(L.vertex===E||A.vertex===O)&&(T[1]=A,T[0]=A=L,L=T[1]),A.vertex=E,L.vertex=O},o.setActive=function(f,h,d){h?(f.isActive=!0,f.timeUpdated=d):(f.isActive=!1,f.contactCount=0)},o.id=function(f,h){return f.id<h.id?f.id.toString(36)+":"+h.id.toString(36):h.id.toString(36)+":"+f.id.toString(36)}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(3),f=a(2),h=a(7),d=a(1),m=a(11),v=a(0);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(T){var y=T;y.bodyA&&!y.pointA&&(y.pointA={x:0,y:0}),y.bodyB&&!y.pointB&&(y.pointB={x:0,y:0});var S=y.bodyA?f.add(y.bodyA.position,y.pointA):y.pointA,E=y.bodyB?f.add(y.bodyB.position,y.pointB):y.pointB,A=f.magnitude(f.sub(S,E));y.length=typeof y.length<"u"?y.length:A,y.id=y.id||v.nextId(),y.label=y.label||"Constraint",y.type="constraint",y.stiffness=y.stiffness||(y.length>0?1:.7),y.damping=y.damping||0,y.angularStiffness=y.angularStiffness||0,y.angleA=y.bodyA?y.bodyA.angle:y.angleA,y.angleB=y.bodyB?y.bodyB.angle:y.angleB,y.plugin={};var O={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return y.length===0&&y.stiffness>.1?(O.type="pin",O.anchors=!1):y.stiffness<.9&&(O.type="spring"),y.render=v.extend(O,y.render),y},o.preSolveAll=function(T){for(var y=0;y<T.length;y+=1){var S=T[y],E=S.constraintImpulse;S.isStatic||E.x===0&&E.y===0&&E.angle===0||(S.position.x+=E.x,S.position.y+=E.y,S.angle+=E.angle)}},o.solveAll=function(T,y){for(var S=v.clamp(y/v._baseDelta,0,1),E=0;E<T.length;E+=1){var A=T[E],O=!A.bodyA||A.bodyA&&A.bodyA.isStatic,L=!A.bodyB||A.bodyB&&A.bodyB.isStatic;(O||L)&&o.solve(T[E],S)}for(E=0;E<T.length;E+=1)A=T[E],O=!A.bodyA||A.bodyA&&A.bodyA.isStatic,L=!A.bodyB||A.bodyB&&A.bodyB.isStatic,!O&&!L&&o.solve(T[E],S)},o.solve=function(T,y){var S=T.bodyA,E=T.bodyB,A=T.pointA,O=T.pointB;if(!(!S&&!E)){S&&!S.isStatic&&(f.rotate(A,S.angle-T.angleA,A),T.angleA=S.angle),E&&!E.isStatic&&(f.rotate(O,E.angle-T.angleB,O),T.angleB=E.angle);var L=A,z=O;if(S&&(L=f.add(S.position,A)),E&&(z=f.add(E.position,O)),!(!L||!z)){var B=f.sub(L,z),I=f.magnitude(B);I<o._minLength&&(I=o._minLength);var k=(I-T.length)/I,b=T.stiffness>=1||T.length===0,x=b?T.stiffness*y:T.stiffness*y*y,R=T.damping*y,M=f.mult(B,k*x),N=(S?S.inverseMass:0)+(E?E.inverseMass:0),P=(S?S.inverseInertia:0)+(E?E.inverseInertia:0),V=N+P,nt,it,G,X,lt;if(R>0){var pt=f.create();G=f.div(B,I),lt=f.sub(E&&f.sub(E.position,E.positionPrev)||pt,S&&f.sub(S.position,S.positionPrev)||pt),X=f.dot(G,lt)}S&&!S.isStatic&&(it=S.inverseMass/N,S.constraintImpulse.x-=M.x*it,S.constraintImpulse.y-=M.y*it,S.position.x-=M.x*it,S.position.y-=M.y*it,R>0&&(S.positionPrev.x-=R*G.x*X*it,S.positionPrev.y-=R*G.y*X*it),nt=f.cross(A,M)/V*o._torqueDampen*S.inverseInertia*(1-T.angularStiffness),S.constraintImpulse.angle-=nt,S.angle-=nt),E&&!E.isStatic&&(it=E.inverseMass/N,E.constraintImpulse.x+=M.x*it,E.constraintImpulse.y+=M.y*it,E.position.x+=M.x*it,E.position.y+=M.y*it,R>0&&(E.positionPrev.x+=R*G.x*X*it,E.positionPrev.y+=R*G.y*X*it),nt=f.cross(O,M)/V*o._torqueDampen*E.inverseInertia*(1-T.angularStiffness),E.constraintImpulse.angle+=nt,E.angle+=nt)}}},o.postSolveAll=function(T){for(var y=0;y<T.length;y++){var S=T[y],E=S.constraintImpulse;if(!(S.isStatic||E.x===0&&E.y===0&&E.angle===0)){h.set(S,!1);for(var A=0;A<S.parts.length;A++){var O=S.parts[A];u.translate(O.vertices,E),A>0&&(O.position.x+=E.x,O.position.y+=E.y),E.angle!==0&&(u.rotate(O.vertices,E.angle,S.position),m.rotate(O.axes,E.angle),A>0&&f.rotateAbout(O.position,E.angle,S.position,O.position)),d.update(O.bounds,O.vertices,S.velocity)}E.angle*=o._warming,E.x*=o._warming,E.y*=o._warming}}},o.pointAWorld=function(T){return{x:(T.bodyA?T.bodyA.position.x:0)+(T.pointA?T.pointA.x:0),y:(T.bodyA?T.bodyA.position.y:0)+(T.pointA?T.pointA.y:0)}},o.pointBWorld=function(T){return{x:(T.bodyB?T.bodyB.position.x:0)+(T.pointB?T.pointB.x:0),y:(T.bodyB?T.bodyB.position.y:0)+(T.pointB?T.pointB.y:0)}},o.currentLength=function(T){var y=(T.bodyA?T.bodyA.position.x:0)+(T.pointA?T.pointA.x:0),S=(T.bodyA?T.bodyA.position.y:0)+(T.pointA?T.pointA.y:0),E=(T.bodyB?T.bodyB.position.x:0)+(T.pointB?T.pointB.x:0),A=(T.bodyB?T.bodyB.position.y:0)+(T.pointB?T.pointB.y:0),O=y-E,L=S-A;return Math.sqrt(O*O+L*L)}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(2),f=a(0);(function(){o.fromVertices=function(h){for(var d={},m=0;m<h.length;m++){var v=(m+1)%h.length,T=u.normalise({x:h[v].y-h[m].y,y:h[m].x-h[v].x}),y=T.y===0?1/0:T.x/T.y;y=y.toFixed(3).toString(),d[y]=T}return f.values(d)},o.rotate=function(h,d){if(d!==0)for(var m=Math.cos(d),v=Math.sin(d),T=0;T<h.length;T++){var y=h[T],S;S=y.x*m-y.y*v,y.y=y.x*v+y.y*m,y.x=S}}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(3),f=a(0),h=a(4),d=a(1),m=a(2);(function(){o.rectangle=function(v,T,y,S,E){E=E||{};var A={label:"Rectangle Body",position:{x:v,y:T},vertices:u.fromPath("L 0 0 L "+y+" 0 L "+y+" "+S+" L 0 "+S)};if(E.chamfer){var O=E.chamfer;A.vertices=u.chamfer(A.vertices,O.radius,O.quality,O.qualityMin,O.qualityMax),delete E.chamfer}return h.create(f.extend({},A,E))},o.trapezoid=function(v,T,y,S,E,A){A=A||{},E>=1&&f.warn("Bodies.trapezoid: slope parameter must be < 1."),E*=.5;var O=(1-E*2)*y,L=y*E,z=L+O,B=z+L,I;E<.5?I="L 0 0 L "+L+" "+-S+" L "+z+" "+-S+" L "+B+" 0":I="L 0 0 L "+z+" "+-S+" L "+B+" 0";var k={label:"Trapezoid Body",position:{x:v,y:T},vertices:u.fromPath(I)};if(A.chamfer){var b=A.chamfer;k.vertices=u.chamfer(k.vertices,b.radius,b.quality,b.qualityMin,b.qualityMax),delete A.chamfer}return h.create(f.extend({},k,A))},o.circle=function(v,T,y,S,E){S=S||{};var A={label:"Circle Body",circleRadius:y};E=E||25;var O=Math.ceil(Math.max(10,Math.min(E,y)));return O%2===1&&(O+=1),o.polygon(v,T,O,y,f.extend({},A,S))},o.polygon=function(v,T,y,S,E){if(E=E||{},y<3)return o.circle(v,T,S,E);for(var A=2*Math.PI/y,O="",L=A*.5,z=0;z<y;z+=1){var B=L+z*A,I=Math.cos(B)*S,k=Math.sin(B)*S;O+="L "+I.toFixed(3)+" "+k.toFixed(3)+" "}var b={label:"Polygon Body",position:{x:v,y:T},vertices:u.fromPath(O)};if(E.chamfer){var x=E.chamfer;b.vertices=u.chamfer(b.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete E.chamfer}return h.create(f.extend({},b,E))},o.fromVertices=function(v,T,y,S,E,A,O,L){var z=f.getDecomp(),B,I,k,b,x,R,M,N,P,V,nt;for(B=!!(z&&z.quickDecomp),S=S||{},k=[],E=typeof E<"u"?E:!1,A=typeof A<"u"?A:.01,O=typeof O<"u"?O:10,L=typeof L<"u"?L:.01,f.isArray(y[0])||(y=[y]),V=0;V<y.length;V+=1)if(R=y[V],b=u.isConvex(R),x=!b,x&&!B&&f.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),b||!B)b?R=u.clockwiseSort(R):R=u.hull(R),k.push({position:{x:v,y:T},vertices:R});else{var it=R.map(function(dt){return[dt.x,dt.y]});z.makeCCW(it),A!==!1&&z.removeCollinearPoints(it,A),L!==!1&&z.removeDuplicatePoints&&z.removeDuplicatePoints(it,L);var G=z.quickDecomp(it);for(M=0;M<G.length;M++){var X=G[M],lt=X.map(function(dt){return{x:dt[0],y:dt[1]}});O>0&&u.area(lt)<O||k.push({position:u.centre(lt),vertices:lt})}}for(M=0;M<k.length;M++)k[M]=h.create(f.extend(k[M],S));if(E){var pt=5;for(M=0;M<k.length;M++){var Et=k[M];for(N=M+1;N<k.length;N++){var q=k[N];if(d.overlaps(Et.bounds,q.bounds)){var tt=Et.vertices,ut=q.vertices;for(P=0;P<Et.vertices.length;P++)for(nt=0;nt<q.vertices.length;nt++){var ct=m.magnitudeSquared(m.sub(tt[(P+1)%tt.length],ut[nt])),yt=m.magnitudeSquared(m.sub(tt[P],ut[(nt+1)%ut.length]));ct<pt&&yt<pt&&(tt[P].isInternal=!0,ut[nt].isInternal=!0)}}}}}return k.length>1?(I=h.create(f.extend({parts:k.slice(0)},S)),h.setPosition(I,{x:v,y:T}),I):k[0]}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(0),f=a(8);(function(){o.create=function(h){var d={bodies:[],collisions:[],pairs:null};return u.extend(d,h)},o.setBodies=function(h,d){h.bodies=d.slice(0)},o.clear=function(h){h.bodies=[],h.collisions=[]},o.collisions=function(h){var d=h.pairs,m=h.bodies,v=m.length,T=o.canCollide,y=f.collides,S=h.collisions,E=0,A,O;for(m.sort(o._compareBoundsX),A=0;A<v;A++){var L=m[A],z=L.bounds,B=L.bounds.max.x,I=L.bounds.max.y,k=L.bounds.min.y,b=L.isStatic||L.isSleeping,x=L.parts.length,R=x===1;for(O=A+1;O<v;O++){var M=m[O],N=M.bounds;if(N.min.x>B)break;if(!(I<N.min.y||k>N.max.y)&&!(b&&(M.isStatic||M.isSleeping))&&T(L.collisionFilter,M.collisionFilter)){var P=M.parts.length;if(R&&P===1){var V=y(L,M,d);V&&(S[E++]=V)}else for(var nt=x>1?1:0,it=P>1?1:0,G=nt;G<x;G++)for(var X=L.parts[G],z=X.bounds,lt=it;lt<P;lt++){var pt=M.parts[lt],N=pt.bounds;if(!(z.min.x>N.max.x||z.max.x<N.min.x||z.max.y<N.min.y||z.min.y>N.max.y)){var V=y(X,pt,d);V&&(S[E++]=V)}}}}}return S.length!==E&&(S.length=E),S},o.canCollide=function(h,d){return h.group===d.group&&h.group!==0?h.group>0:(h.mask&d.category)!==0&&(d.mask&h.category)!==0},o._compareBoundsX=function(h,d){return h.bounds.min.x-d.bounds.min.x}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(0);(function(){o.create=function(f){var h={};return f||u.log("Mouse.create: element was undefined, defaulting to document.body","warn"),h.element=f||document.body,h.absolute={x:0,y:0},h.position={x:0,y:0},h.mousedownPosition={x:0,y:0},h.mouseupPosition={x:0,y:0},h.offset={x:0,y:0},h.scale={x:1,y:1},h.wheelDelta=0,h.button=-1,h.pixelRatio=parseInt(h.element.getAttribute("data-pixel-ratio"),10)||1,h.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},h.mousemove=function(d){var m=o._getRelativeMousePosition(d,h.element,h.pixelRatio),v=d.changedTouches;v&&(h.button=0,d.preventDefault()),h.absolute.x=m.x,h.absolute.y=m.y,h.position.x=h.absolute.x*h.scale.x+h.offset.x,h.position.y=h.absolute.y*h.scale.y+h.offset.y,h.sourceEvents.mousemove=d},h.mousedown=function(d){var m=o._getRelativeMousePosition(d,h.element,h.pixelRatio),v=d.changedTouches;v?(h.button=0,d.preventDefault()):h.button=d.button,h.absolute.x=m.x,h.absolute.y=m.y,h.position.x=h.absolute.x*h.scale.x+h.offset.x,h.position.y=h.absolute.y*h.scale.y+h.offset.y,h.mousedownPosition.x=h.position.x,h.mousedownPosition.y=h.position.y,h.sourceEvents.mousedown=d},h.mouseup=function(d){var m=o._getRelativeMousePosition(d,h.element,h.pixelRatio),v=d.changedTouches;v&&d.preventDefault(),h.button=-1,h.absolute.x=m.x,h.absolute.y=m.y,h.position.x=h.absolute.x*h.scale.x+h.offset.x,h.position.y=h.absolute.y*h.scale.y+h.offset.y,h.mouseupPosition.x=h.position.x,h.mouseupPosition.y=h.position.y,h.sourceEvents.mouseup=d},h.mousewheel=function(d){h.wheelDelta=Math.max(-1,Math.min(1,d.wheelDelta||-d.detail)),d.preventDefault(),h.sourceEvents.mousewheel=d},o.setElement(h,h.element),h},o.setElement=function(f,h){f.element=h,h.addEventListener("mousemove",f.mousemove,{passive:!0}),h.addEventListener("mousedown",f.mousedown,{passive:!0}),h.addEventListener("mouseup",f.mouseup,{passive:!0}),h.addEventListener("wheel",f.mousewheel,{passive:!1}),h.addEventListener("touchmove",f.mousemove,{passive:!1}),h.addEventListener("touchstart",f.mousedown,{passive:!1}),h.addEventListener("touchend",f.mouseup,{passive:!1})},o.clearSourceEvents=function(f){f.sourceEvents.mousemove=null,f.sourceEvents.mousedown=null,f.sourceEvents.mouseup=null,f.sourceEvents.mousewheel=null,f.wheelDelta=0},o.setOffset=function(f,h){f.offset.x=h.x,f.offset.y=h.y,f.position.x=f.absolute.x*f.scale.x+f.offset.x,f.position.y=f.absolute.y*f.scale.y+f.offset.y},o.setScale=function(f,h){f.scale.x=h.x,f.scale.y=h.y,f.position.x=f.absolute.x*f.scale.x+f.offset.x,f.position.y=f.absolute.y*f.scale.y+f.offset.y},o._getRelativeMousePosition=function(f,h,d){var m=h.getBoundingClientRect(),v=document.documentElement||document.body.parentNode||document.body,T=window.pageXOffset!==void 0?window.pageXOffset:v.scrollLeft,y=window.pageYOffset!==void 0?window.pageYOffset:v.scrollTop,S=f.changedTouches,E,A;return S?(E=S[0].pageX-m.left-T,A=S[0].pageY-m.top-y):(E=f.pageX-m.left-T,A=f.pageY-m.top-y),{x:E/(h.clientWidth/(h.width||h.clientWidth)*d),y:A/(h.clientHeight/(h.height||h.clientHeight)*d)}}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(0);(function(){o._registry={},o.register=function(f){if(o.isPlugin(f)||u.warn("Plugin.register:",o.toString(f),"does not implement all required fields."),f.name in o._registry){var h=o._registry[f.name],d=o.versionParse(f.version).number,m=o.versionParse(h.version).number;d>m?(u.warn("Plugin.register:",o.toString(h),"was upgraded to",o.toString(f)),o._registry[f.name]=f):d<m?u.warn("Plugin.register:",o.toString(h),"can not be downgraded to",o.toString(f)):f!==h&&u.warn("Plugin.register:",o.toString(f),"is already registered to different plugin object")}else o._registry[f.name]=f;return f},o.resolve=function(f){return o._registry[o.dependencyParse(f).name]},o.toString=function(f){return typeof f=="string"?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},o.isPlugin=function(f){return f&&f.name&&f.version&&f.install},o.isUsed=function(f,h){return f.used.indexOf(h)>-1},o.isFor=function(f,h){var d=f.for&&o.dependencyParse(f.for);return!f.for||h.name===d.name&&o.versionSatisfies(h.version,d.range)},o.use=function(f,h){if(f.uses=(f.uses||[]).concat(h||[]),f.uses.length===0){u.warn("Plugin.use:",o.toString(f),"does not specify any dependencies to install.");return}for(var d=o.dependencies(f),m=u.topologicalSort(d),v=[],T=0;T<m.length;T+=1)if(m[T]!==f.name){var y=o.resolve(m[T]);if(!y){v.push(" "+m[T]);continue}o.isUsed(f,y.name)||(o.isFor(y,f)||(u.warn("Plugin.use:",o.toString(y),"is for",y.for,"but installed on",o.toString(f)+"."),y._warned=!0),y.install?y.install(f):(u.warn("Plugin.use:",o.toString(y),"does not specify an install function."),y._warned=!0),y._warned?(v.push(" "+o.toString(y)),delete y._warned):v.push(" "+o.toString(y)),f.used.push(y.name))}v.length>0&&u.info(v.join("  "))},o.dependencies=function(f,h){var d=o.dependencyParse(f),m=d.name;if(h=h||{},!(m in h)){f=o.resolve(f)||f,h[m]=u.map(f.uses||[],function(T){o.isPlugin(T)&&o.register(T);var y=o.dependencyParse(T),S=o.resolve(T);return S&&!o.versionSatisfies(S.version,y.range)?(u.warn("Plugin.dependencies:",o.toString(S),"does not satisfy",o.toString(y),"used by",o.toString(d)+"."),S._warned=!0,f._warned=!0):S||(u.warn("Plugin.dependencies:",o.toString(T),"used by",o.toString(d),"could not be resolved."),f._warned=!0),y.name});for(var v=0;v<h[m].length;v+=1)o.dependencies(h[m][v],h);return h}},o.dependencyParse=function(f){if(u.isString(f)){var h=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return h.test(f)||u.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}}return{name:f.name,range:f.range||f.version}},o.versionParse=function(f){var h=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;h.test(f)||u.warn("Plugin.versionParse:",f,"is not a valid version or range.");var d=h.exec(f),m=Number(d[4]),v=Number(d[5]),T=Number(d[6]);return{isRange:!!(d[1]||d[2]),version:d[3],range:f,operator:d[1]||d[2]||"",major:m,minor:v,patch:T,parts:[m,v,T],prerelease:d[7],number:m*1e8+v*1e4+T}},o.versionSatisfies=function(f,h){h=h||"*";var d=o.versionParse(h),m=o.versionParse(f);if(d.isRange){if(d.operator==="*"||f==="*")return!0;if(d.operator===">")return m.number>d.number;if(d.operator===">=")return m.number>=d.number;if(d.operator==="~")return m.major===d.major&&m.minor===d.minor&&m.patch>=d.patch;if(d.operator==="^")return d.major>0?m.major===d.major&&m.number>=d.number:d.minor>0?m.minor===d.minor&&m.patch>=d.patch:m.patch===d.patch}return f===h||f==="*"}})()}),(function(e,i){var a={};e.exports=a,(function(){a.create=function(o){return{vertex:o,normalImpulse:0,tangentImpulse:0}}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(7),f=a(18),h=a(13),d=a(19),m=a(5),v=a(6),T=a(10),y=a(0),S=a(4);(function(){o._deltaMax=1e3/60,o.create=function(E){E=E||{};var A={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},O=y.extend(A,E);return O.world=E.world||v.create({label:"World"}),O.pairs=E.pairs||d.create(),O.detector=E.detector||h.create(),O.detector.pairs=O.pairs,O.grid={buckets:[]},O.world.gravity=O.gravity,O.broadphase=O.grid,O.metrics={},O},o.update=function(E,A){var O=y.now(),L=E.world,z=E.detector,B=E.pairs,I=E.timing,k=I.timestamp,b;A>o._deltaMax&&y.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",o._deltaMax.toFixed(3),"ms."),A=typeof A<"u"?A:y._baseDelta,A*=I.timeScale,I.timestamp+=A,I.lastDelta=A;var x={timestamp:I.timestamp,delta:A};m.trigger(E,"beforeUpdate",x);var R=v.allBodies(L),M=v.allConstraints(L);for(L.isModified&&(h.setBodies(z,R),v.setModified(L,!1,!1,!0)),E.enableSleeping&&u.update(R,A),o._bodiesApplyGravity(R,E.gravity),A>0&&o._bodiesUpdate(R,A),m.trigger(E,"beforeSolve",x),T.preSolveAll(R),b=0;b<E.constraintIterations;b++)T.solveAll(M,A);T.postSolveAll(R);var N=h.collisions(z);d.update(B,N,k),E.enableSleeping&&u.afterCollisions(B.list),B.collisionStart.length>0&&m.trigger(E,"collisionStart",{pairs:B.collisionStart,timestamp:I.timestamp,delta:A});var P=y.clamp(20/E.positionIterations,0,1);for(f.preSolvePosition(B.list),b=0;b<E.positionIterations;b++)f.solvePosition(B.list,A,P);for(f.postSolvePosition(R),T.preSolveAll(R),b=0;b<E.constraintIterations;b++)T.solveAll(M,A);for(T.postSolveAll(R),f.preSolveVelocity(B.list),b=0;b<E.velocityIterations;b++)f.solveVelocity(B.list,A);return o._bodiesUpdateVelocities(R),B.collisionActive.length>0&&m.trigger(E,"collisionActive",{pairs:B.collisionActive,timestamp:I.timestamp,delta:A}),B.collisionEnd.length>0&&m.trigger(E,"collisionEnd",{pairs:B.collisionEnd,timestamp:I.timestamp,delta:A}),o._bodiesClearForces(R),m.trigger(E,"afterUpdate",x),E.timing.lastElapsed=y.now()-O,E},o.merge=function(E,A){if(y.extend(E,A),A.world){E.world=A.world,o.clear(E);for(var O=v.allBodies(E.world),L=0;L<O.length;L++){var z=O[L];u.set(z,!1),z.id=y.nextId()}}},o.clear=function(E){d.clear(E.pairs),h.clear(E.detector)},o._bodiesClearForces=function(E){for(var A=E.length,O=0;O<A;O++){var L=E[O];L.force.x=0,L.force.y=0,L.torque=0}},o._bodiesApplyGravity=function(E,A){var O=typeof A.scale<"u"?A.scale:.001,L=E.length;if(!(A.x===0&&A.y===0||O===0))for(var z=0;z<L;z++){var B=E[z];B.isStatic||B.isSleeping||(B.force.y+=B.mass*A.y*O,B.force.x+=B.mass*A.x*O)}},o._bodiesUpdate=function(E,A){for(var O=E.length,L=0;L<O;L++){var z=E[L];z.isStatic||z.isSleeping||S.update(z,A)}},o._bodiesUpdateVelocities=function(E){for(var A=E.length,O=0;O<A;O++)S.updateVelocities(E[O])}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(3),f=a(0),h=a(1);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(d){var m,v,T,y=d.length;for(m=0;m<y;m++)v=d[m],v.isActive&&(T=v.contactCount,v.collision.parentA.totalContacts+=T,v.collision.parentB.totalContacts+=T)},o.solvePosition=function(d,m,v){var T,y,S,E,A,O,L,z,B=o._positionDampen*(v||1),I=f.clamp(m/f._baseDelta,0,1),k=d.length;for(T=0;T<k;T++)y=d[T],!(!y.isActive||y.isSensor)&&(S=y.collision,E=S.parentA,A=S.parentB,O=S.normal,y.separation=S.depth+O.x*(A.positionImpulse.x-E.positionImpulse.x)+O.y*(A.positionImpulse.y-E.positionImpulse.y));for(T=0;T<k;T++)y=d[T],!(!y.isActive||y.isSensor)&&(S=y.collision,E=S.parentA,A=S.parentB,O=S.normal,z=y.separation-y.slop*I,(E.isStatic||A.isStatic)&&(z*=2),E.isStatic||E.isSleeping||(L=B/E.totalContacts,E.positionImpulse.x+=O.x*z*L,E.positionImpulse.y+=O.y*z*L),A.isStatic||A.isSleeping||(L=B/A.totalContacts,A.positionImpulse.x-=O.x*z*L,A.positionImpulse.y-=O.y*z*L))},o.postSolvePosition=function(d){for(var m=o._positionWarming,v=d.length,T=u.translate,y=h.update,S=0;S<v;S++){var E=d[S],A=E.positionImpulse,O=A.x,L=A.y,z=E.velocity;if(E.totalContacts=0,O!==0||L!==0){for(var B=0;B<E.parts.length;B++){var I=E.parts[B];T(I.vertices,A),y(I.bounds,I.vertices,z),I.position.x+=O,I.position.y+=L}E.positionPrev.x+=O,E.positionPrev.y+=L,O*z.x+L*z.y<0?(A.x=0,A.y=0):(A.x*=m,A.y*=m)}}},o.preSolveVelocity=function(d){var m=d.length,v,T;for(v=0;v<m;v++){var y=d[v];if(!(!y.isActive||y.isSensor)){var S=y.contacts,E=y.contactCount,A=y.collision,O=A.parentA,L=A.parentB,z=A.normal,B=A.tangent;for(T=0;T<E;T++){var I=S[T],k=I.vertex,b=I.normalImpulse,x=I.tangentImpulse;if(b!==0||x!==0){var R=z.x*b+B.x*x,M=z.y*b+B.y*x;O.isStatic||O.isSleeping||(O.positionPrev.x+=R*O.inverseMass,O.positionPrev.y+=M*O.inverseMass,O.anglePrev+=O.inverseInertia*((k.x-O.position.x)*M-(k.y-O.position.y)*R)),L.isStatic||L.isSleeping||(L.positionPrev.x-=R*L.inverseMass,L.positionPrev.y-=M*L.inverseMass,L.anglePrev-=L.inverseInertia*((k.x-L.position.x)*M-(k.y-L.position.y)*R))}}}}},o.solveVelocity=function(d,m){var v=m/f._baseDelta,T=v*v,y=T*v,S=-o._restingThresh*v,E=o._restingThreshTangent,A=o._frictionNormalMultiplier*v,O=o._frictionMaxStatic,L=d.length,z,B,I,k;for(I=0;I<L;I++){var b=d[I];if(!(!b.isActive||b.isSensor)){var x=b.collision,R=x.parentA,M=x.parentB,N=x.normal.x,P=x.normal.y,V=x.tangent.x,nt=x.tangent.y,it=b.inverseMass,G=b.friction*b.frictionStatic*A,X=b.contacts,lt=b.contactCount,pt=1/lt,Et=R.position.x-R.positionPrev.x,q=R.position.y-R.positionPrev.y,tt=R.angle-R.anglePrev,ut=M.position.x-M.positionPrev.x,ct=M.position.y-M.positionPrev.y,yt=M.angle-M.anglePrev;for(k=0;k<lt;k++){var dt=X[k],bt=dt.vertex,Vt=bt.x-R.position.x,Xt=bt.y-R.position.y,qe=bt.x-M.position.x,Ze=bt.y-M.position.y,Ee=Et-Xt*tt,Kr=q+Vt*tt,Xn=ut-Ze*yt,ra=ct+qe*yt,Ii=Ee-Xn,Xr=Kr-ra,gr=N*Ii+P*Xr,$t=V*Ii+nt*Xr,ye=b.separation+gr,$n=Math.min(ye,1);$n=ye<0?0:$n;var io=$n*G;$t<-io||$t>io?(B=$t>0?$t:-$t,z=b.friction*($t>0?1:-1)*y,z<-B?z=-B:z>B&&(z=B)):(z=$t,B=O);var sa=Vt*P-Xt*N,Ge=qe*P-Ze*N,Mi=pt/(it+R.inverseInertia*sa*sa+M.inverseInertia*Ge*Ge),Di=(1+b.restitution)*gr*Mi;if(z*=Mi,gr<S)dt.normalImpulse=0;else{var aa=dt.normalImpulse;dt.normalImpulse+=Di,dt.normalImpulse>0&&(dt.normalImpulse=0),Di=dt.normalImpulse-aa}if($t<-E||$t>E)dt.tangentImpulse=0;else{var Oi=dt.tangentImpulse;dt.tangentImpulse+=z,dt.tangentImpulse<-B&&(dt.tangentImpulse=-B),dt.tangentImpulse>B&&(dt.tangentImpulse=B),z=dt.tangentImpulse-Oi}var $r=N*Di+V*z,yr=P*Di+nt*z;R.isStatic||R.isSleeping||(R.positionPrev.x+=$r*R.inverseMass,R.positionPrev.y+=yr*R.inverseMass,R.anglePrev+=(Vt*yr-Xt*$r)*R.inverseInertia),M.isStatic||M.isSleeping||(M.positionPrev.x-=$r*M.inverseMass,M.positionPrev.y-=yr*M.inverseMass,M.anglePrev-=(qe*yr-Ze*$r)*M.inverseInertia)}}}}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(9),f=a(0);(function(){o.create=function(h){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},h)},o.update=function(h,d,m){var v=u.update,T=u.create,y=u.setActive,S=h.table,E=h.list,A=E.length,O=A,L=h.collisionStart,z=h.collisionEnd,B=h.collisionActive,I=d.length,k=0,b=0,x=0,R,M,N;for(N=0;N<I;N++)R=d[N],M=R.pair,M?(M.isActive&&(B[x++]=M),v(M,R,m)):(M=T(R,m),S[M.id]=M,L[k++]=M,E[O++]=M);for(O=0,A=E.length,N=0;N<A;N++)M=E[N],M.timeUpdated>=m?E[O++]=M:(y(M,!1,m),M.collision.bodyA.sleepCounter>0&&M.collision.bodyB.sleepCounter>0?E[O++]=M:(z[b++]=M,delete S[M.id]));E.length!==O&&(E.length=O),L.length!==k&&(L.length=k),z.length!==b&&(z.length=b),B.length!==x&&(B.length=x)},o.clear=function(h){return h.table={},h.list.length=0,h.collisionStart.length=0,h.collisionActive.length=0,h.collisionEnd.length=0,h}})()}),(function(e,i,a){var o=e.exports=a(21);o.Axes=a(11),o.Bodies=a(12),o.Body=a(4),o.Bounds=a(1),o.Collision=a(8),o.Common=a(0),o.Composite=a(6),o.Composites=a(22),o.Constraint=a(10),o.Contact=a(16),o.Detector=a(13),o.Engine=a(17),o.Events=a(5),o.Grid=a(23),o.Mouse=a(14),o.MouseConstraint=a(24),o.Pair=a(9),o.Pairs=a(19),o.Plugin=a(15),o.Query=a(25),o.Render=a(26),o.Resolver=a(18),o.Runner=a(27),o.SAT=a(28),o.Sleeping=a(7),o.Svg=a(29),o.Vector=a(2),o.Vertices=a(3),o.World=a(30),o.Engine.run=o.Runner.run,o.Common.deprecated(o.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")}),(function(e,i,a){var o={};e.exports=o;var u=a(15),f=a(0);(function(){o.name="matter-js",o.version="0.20.0",o.uses=[],o.used=[],o.use=function(){u.use(o,Array.prototype.slice.call(arguments))},o.before=function(h,d){return h=h.replace(/^Matter./,""),f.chainPathBefore(o,h,d)},o.after=function(h,d){return h=h.replace(/^Matter./,""),f.chainPathAfter(o,h,d)}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(6),f=a(10),h=a(0),d=a(4),m=a(12),v=h.deprecated;(function(){o.stack=function(T,y,S,E,A,O,L){for(var z=u.create({label:"Stack"}),B=T,I=y,k,b=0,x=0;x<E;x++){for(var R=0,M=0;M<S;M++){var N=L(B,I,M,x,k,b);if(N){var P=N.bounds.max.y-N.bounds.min.y,V=N.bounds.max.x-N.bounds.min.x;P>R&&(R=P),d.translate(N,{x:V*.5,y:P*.5}),B=N.bounds.max.x+A,u.addBody(z,N),k=N,b+=1}else B+=A}I+=R+O,B=T}return z},o.chain=function(T,y,S,E,A,O){for(var L=T.bodies,z=1;z<L.length;z++){var B=L[z-1],I=L[z],k=B.bounds.max.y-B.bounds.min.y,b=B.bounds.max.x-B.bounds.min.x,x=I.bounds.max.y-I.bounds.min.y,R=I.bounds.max.x-I.bounds.min.x,M={bodyA:B,pointA:{x:b*y,y:k*S},bodyB:I,pointB:{x:R*E,y:x*A}},N=h.extend(M,O);u.addConstraint(T,f.create(N))}return T.label+=" Chain",T},o.mesh=function(T,y,S,E,A){var O=T.bodies,L,z,B,I,k;for(L=0;L<S;L++){for(z=1;z<y;z++)B=O[z-1+L*y],I=O[z+L*y],u.addConstraint(T,f.create(h.extend({bodyA:B,bodyB:I},A)));if(L>0)for(z=0;z<y;z++)B=O[z+(L-1)*y],I=O[z+L*y],u.addConstraint(T,f.create(h.extend({bodyA:B,bodyB:I},A))),E&&z>0&&(k=O[z-1+(L-1)*y],u.addConstraint(T,f.create(h.extend({bodyA:k,bodyB:I},A)))),E&&z<y-1&&(k=O[z+1+(L-1)*y],u.addConstraint(T,f.create(h.extend({bodyA:k,bodyB:I},A))))}return T.label+=" Mesh",T},o.pyramid=function(T,y,S,E,A,O,L){return o.stack(T,y,S,E,A,O,function(z,B,I,k,b,x){var R=Math.min(E,Math.ceil(S/2)),M=b?b.bounds.max.x-b.bounds.min.x:0;if(!(k>R)){k=R-k;var N=k,P=S-1-k;if(!(I<N||I>P)){x===1&&d.translate(b,{x:(I+(S%2===1?1:-1))*M,y:0});var V=b?I*M:0;return L(T+V+I*A,B,I,k,b,x)}}})},o.newtonsCradle=function(T,y,S,E,A){for(var O=u.create({label:"Newtons Cradle"}),L=0;L<S;L++){var z=1.9,B=m.circle(T+L*(E*z),y+A,E,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),I=f.create({pointA:{x:T+L*(E*z),y},bodyB:B});u.addBody(O,B),u.addConstraint(O,I)}return O},v(o,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example"),o.car=function(T,y,S,E,A){var O=d.nextGroup(!0),L=20,z=-S*.5+L,B=S*.5-L,I=0,k=u.create({label:"Car"}),b=m.rectangle(T,y,S,E,{collisionFilter:{group:O},chamfer:{radius:E*.5},density:2e-4}),x=m.circle(T+z,y+I,A,{collisionFilter:{group:O},friction:.8}),R=m.circle(T+B,y+I,A,{collisionFilter:{group:O},friction:.8}),M=f.create({bodyB:b,pointB:{x:z,y:I},bodyA:x,stiffness:1,length:0}),N=f.create({bodyB:b,pointB:{x:B,y:I},bodyA:R,stiffness:1,length:0});return u.addBody(k,b),u.addBody(k,x),u.addBody(k,R),u.addConstraint(k,M),u.addConstraint(k,N),k},v(o,"car","Composites.car  moved to car example"),o.softBody=function(T,y,S,E,A,O,L,z,B,I){B=h.extend({inertia:1/0},B),I=h.extend({stiffness:.2,render:{type:"line",anchors:!1}},I);var k=o.stack(T,y,S,E,A,O,function(b,x){return m.circle(b,x,z,B)});return o.mesh(k,S,E,L,I),k.label="Soft Body",k},v(o,"softBody","Composites.softBody  moved to softBody and cloth examples")})()}),(function(e,i,a){var o={};e.exports=o;var u=a(9),f=a(0),h=f.deprecated;(function(){o.create=function(d){var m={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return f.extend(m,d)},o.update=function(d,m,v,T){var y,S,E,A=v.world,O=d.buckets,L,z,B=!1;for(y=0;y<m.length;y++){var I=m[y];if(!(I.isSleeping&&!T)&&!(A.bounds&&(I.bounds.max.x<A.bounds.min.x||I.bounds.min.x>A.bounds.max.x||I.bounds.max.y<A.bounds.min.y||I.bounds.min.y>A.bounds.max.y))){var k=o._getRegion(d,I);if(!I.region||k.id!==I.region.id||T){(!I.region||T)&&(I.region=k);var b=o._regionUnion(k,I.region);for(S=b.startCol;S<=b.endCol;S++)for(E=b.startRow;E<=b.endRow;E++){z=o._getBucketId(S,E),L=O[z];var x=S>=k.startCol&&S<=k.endCol&&E>=k.startRow&&E<=k.endRow,R=S>=I.region.startCol&&S<=I.region.endCol&&E>=I.region.startRow&&E<=I.region.endRow;!x&&R&&R&&L&&o._bucketRemoveBody(d,L,I),(I.region===k||x&&!R||T)&&(L||(L=o._createBucket(O,z)),o._bucketAddBody(d,L,I))}I.region=k,B=!0}}}B&&(d.pairsList=o._createActivePairsList(d))},h(o,"update","Grid.update  replaced by Matter.Detector"),o.clear=function(d){d.buckets={},d.pairs={},d.pairsList=[]},h(o,"clear","Grid.clear  replaced by Matter.Detector"),o._regionUnion=function(d,m){var v=Math.min(d.startCol,m.startCol),T=Math.max(d.endCol,m.endCol),y=Math.min(d.startRow,m.startRow),S=Math.max(d.endRow,m.endRow);return o._createRegion(v,T,y,S)},o._getRegion=function(d,m){var v=m.bounds,T=Math.floor(v.min.x/d.bucketWidth),y=Math.floor(v.max.x/d.bucketWidth),S=Math.floor(v.min.y/d.bucketHeight),E=Math.floor(v.max.y/d.bucketHeight);return o._createRegion(T,y,S,E)},o._createRegion=function(d,m,v,T){return{id:d+","+m+","+v+","+T,startCol:d,endCol:m,startRow:v,endRow:T}},o._getBucketId=function(d,m){return"C"+d+"R"+m},o._createBucket=function(d,m){var v=d[m]=[];return v},o._bucketAddBody=function(d,m,v){var T=d.pairs,y=u.id,S=m.length,E;for(E=0;E<S;E++){var A=m[E];if(!(v.id===A.id||v.isStatic&&A.isStatic)){var O=y(v,A),L=T[O];L?L[2]+=1:T[O]=[v,A,1]}}m.push(v)},o._bucketRemoveBody=function(d,m,v){var T=d.pairs,y=u.id,S;m.splice(f.indexOf(m,v),1);var E=m.length;for(S=0;S<E;S++){var A=T[y(v,m[S])];A&&(A[2]-=1)}},o._createActivePairsList=function(d){var m,v=d.pairs,T=f.keys(v),y=T.length,S=[],E;for(E=0;E<y;E++)m=v[T[E]],m[2]>0?S.push(m):delete v[T[E]];return S}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(3),f=a(7),h=a(14),d=a(5),m=a(13),v=a(10),T=a(6),y=a(0),S=a(1);(function(){o.create=function(E,A){var O=(E?E.mouse:null)||(A?A.mouse:null);O||(E&&E.render&&E.render.canvas?O=h.create(E.render.canvas):A&&A.element?O=h.create(A.element):(O=h.create(),y.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var L=v.create({label:"Mouse Constraint",pointA:O.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),z={type:"mouseConstraint",mouse:O,element:null,body:null,constraint:L,collisionFilter:{category:1,mask:4294967295,group:0}},B=y.extend(z,A);return d.on(E,"beforeUpdate",function(){var I=T.allBodies(E.world);o.update(B,I),o._triggerEvents(B)}),B},o.update=function(E,A){var O=E.mouse,L=E.constraint,z=E.body;if(O.button===0){if(L.bodyB)f.set(L.bodyB,!1),L.pointA=O.position;else for(var B=0;B<A.length;B++)if(z=A[B],S.contains(z.bounds,O.position)&&m.canCollide(z.collisionFilter,E.collisionFilter))for(var I=z.parts.length>1?1:0;I<z.parts.length;I++){var k=z.parts[I];if(u.contains(k.vertices,O.position)){L.pointA=O.position,L.bodyB=E.body=z,L.pointB={x:O.position.x-z.position.x,y:O.position.y-z.position.y},L.angleB=z.angle,f.set(z,!1),d.trigger(E,"startdrag",{mouse:O,body:z});break}}}else L.bodyB=E.body=null,L.pointB=null,z&&d.trigger(E,"enddrag",{mouse:O,body:z})},o._triggerEvents=function(E){var A=E.mouse,O=A.sourceEvents;O.mousemove&&d.trigger(E,"mousemove",{mouse:A}),O.mousedown&&d.trigger(E,"mousedown",{mouse:A}),O.mouseup&&d.trigger(E,"mouseup",{mouse:A}),h.clearSourceEvents(A)}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(2),f=a(8),h=a(1),d=a(12),m=a(3);(function(){o.collides=function(v,T){for(var y=[],S=T.length,E=v.bounds,A=f.collides,O=h.overlaps,L=0;L<S;L++){var z=T[L],B=z.parts.length,I=B===1?0:1;if(O(z.bounds,E))for(var k=I;k<B;k++){var b=z.parts[k];if(O(b.bounds,E)){var x=A(b,v);if(x){y.push(x);break}}}}return y},o.ray=function(v,T,y,S){S=S||1e-100;for(var E=u.angle(T,y),A=u.magnitude(u.sub(T,y)),O=(y.x+T.x)*.5,L=(y.y+T.y)*.5,z=d.rectangle(O,L,A,S,{angle:E}),B=o.collides(z,v),I=0;I<B.length;I+=1){var k=B[I];k.body=k.bodyB=k.bodyA}return B},o.region=function(v,T,y){for(var S=[],E=0;E<v.length;E++){var A=v[E],O=h.overlaps(A.bounds,T);(O&&!y||!O&&y)&&S.push(A)}return S},o.point=function(v,T){for(var y=[],S=0;S<v.length;S++){var E=v[S];if(h.contains(E.bounds,T))for(var A=E.parts.length===1?0:1;A<E.parts.length;A++){var O=E.parts[A];if(h.contains(O.bounds,T)&&m.contains(O.vertices,T)){y.push(E);break}}}return y}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(4),f=a(0),h=a(6),d=a(1),m=a(5),v=a(2),T=a(14);(function(){var y,S;typeof window<"u"&&(y=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(I){window.setTimeout(function(){I(f.now())},1e3/60)},S=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o._goodFps=30,o._goodDelta=1e3/60,o.create=function(I){var k={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!I.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},b=f.extend(k,I);return b.canvas&&(b.canvas.width=b.options.width||b.canvas.width,b.canvas.height=b.options.height||b.canvas.height),b.mouse=I.mouse,b.engine=I.engine,b.canvas=b.canvas||O(b.options.width,b.options.height),b.context=b.canvas.getContext("2d"),b.textures={},b.bounds=b.bounds||{min:{x:0,y:0},max:{x:b.canvas.width,y:b.canvas.height}},b.controller=o,b.options.showBroadphase=!1,b.options.pixelRatio!==1&&o.setPixelRatio(b,b.options.pixelRatio),f.isElement(b.element)&&b.element.appendChild(b.canvas),b},o.run=function(I){(function k(b){I.frameRequestId=y(k),E(I,b),o.world(I,b),I.context.setTransform(I.options.pixelRatio,0,0,I.options.pixelRatio,0,0),(I.options.showStats||I.options.showDebug)&&o.stats(I,I.context,b),(I.options.showPerformance||I.options.showDebug)&&o.performance(I,I.context,b),I.context.setTransform(1,0,0,1,0,0)})()},o.stop=function(I){S(I.frameRequestId)},o.setPixelRatio=function(I,k){var b=I.options,x=I.canvas;k==="auto"&&(k=L(x)),b.pixelRatio=k,x.setAttribute("data-pixel-ratio",k),x.width=b.width*k,x.height=b.height*k,x.style.width=b.width+"px",x.style.height=b.height+"px"},o.setSize=function(I,k,b){I.options.width=k,I.options.height=b,I.bounds.max.x=I.bounds.min.x+k,I.bounds.max.y=I.bounds.min.y+b,I.options.pixelRatio!==1?o.setPixelRatio(I,I.options.pixelRatio):(I.canvas.width=k,I.canvas.height=b)},o.lookAt=function(I,k,b,x){x=typeof x<"u"?x:!0,k=f.isArray(k)?k:[k],b=b||{x:0,y:0};for(var R={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},M=0;M<k.length;M+=1){var N=k[M],P=N.bounds?N.bounds.min:N.min||N.position||N,V=N.bounds?N.bounds.max:N.max||N.position||N;P&&V&&(P.x<R.min.x&&(R.min.x=P.x),V.x>R.max.x&&(R.max.x=V.x),P.y<R.min.y&&(R.min.y=P.y),V.y>R.max.y&&(R.max.y=V.y))}var nt=R.max.x-R.min.x+2*b.x,it=R.max.y-R.min.y+2*b.y,G=I.canvas.height,X=I.canvas.width,lt=X/G,pt=nt/it,Et=1,q=1;pt>lt?q=pt/lt:Et=lt/pt,I.options.hasBounds=!0,I.bounds.min.x=R.min.x,I.bounds.max.x=R.min.x+nt*Et,I.bounds.min.y=R.min.y,I.bounds.max.y=R.min.y+it*q,x&&(I.bounds.min.x+=nt*.5-nt*Et*.5,I.bounds.max.x+=nt*.5-nt*Et*.5,I.bounds.min.y+=it*.5-it*q*.5,I.bounds.max.y+=it*.5-it*q*.5),I.bounds.min.x-=b.x,I.bounds.max.x-=b.x,I.bounds.min.y-=b.y,I.bounds.max.y-=b.y,I.mouse&&(T.setScale(I.mouse,{x:(I.bounds.max.x-I.bounds.min.x)/I.canvas.width,y:(I.bounds.max.y-I.bounds.min.y)/I.canvas.height}),T.setOffset(I.mouse,I.bounds.min))},o.startViewTransform=function(I){var k=I.bounds.max.x-I.bounds.min.x,b=I.bounds.max.y-I.bounds.min.y,x=k/I.options.width,R=b/I.options.height;I.context.setTransform(I.options.pixelRatio/x,0,0,I.options.pixelRatio/R,0,0),I.context.translate(-I.bounds.min.x,-I.bounds.min.y)},o.endViewTransform=function(I){I.context.setTransform(I.options.pixelRatio,0,0,I.options.pixelRatio,0,0)},o.world=function(I,k){var b=f.now(),x=I.engine,R=x.world,M=I.canvas,N=I.context,P=I.options,V=I.timing,nt=h.allBodies(R),it=h.allConstraints(R),G=P.wireframes?P.wireframeBackground:P.background,X=[],lt=[],pt,Et={timestamp:x.timing.timestamp};if(m.trigger(I,"beforeRender",Et),I.currentBackground!==G&&B(I,G),N.globalCompositeOperation="source-in",N.fillStyle="transparent",N.fillRect(0,0,M.width,M.height),N.globalCompositeOperation="source-over",P.hasBounds){for(pt=0;pt<nt.length;pt++){var q=nt[pt];d.overlaps(q.bounds,I.bounds)&&X.push(q)}for(pt=0;pt<it.length;pt++){var tt=it[pt],ut=tt.bodyA,ct=tt.bodyB,yt=tt.pointA,dt=tt.pointB;ut&&(yt=v.add(ut.position,tt.pointA)),ct&&(dt=v.add(ct.position,tt.pointB)),!(!yt||!dt)&&(d.contains(I.bounds,yt)||d.contains(I.bounds,dt))&&lt.push(tt)}o.startViewTransform(I),I.mouse&&(T.setScale(I.mouse,{x:(I.bounds.max.x-I.bounds.min.x)/I.options.width,y:(I.bounds.max.y-I.bounds.min.y)/I.options.height}),T.setOffset(I.mouse,I.bounds.min))}else lt=it,X=nt,I.options.pixelRatio!==1&&I.context.setTransform(I.options.pixelRatio,0,0,I.options.pixelRatio,0,0);!P.wireframes||x.enableSleeping&&P.showSleeping?o.bodies(I,X,N):(P.showConvexHulls&&o.bodyConvexHulls(I,X,N),o.bodyWireframes(I,X,N)),P.showBounds&&o.bodyBounds(I,X,N),(P.showAxes||P.showAngleIndicator)&&o.bodyAxes(I,X,N),P.showPositions&&o.bodyPositions(I,X,N),P.showVelocity&&o.bodyVelocity(I,X,N),P.showIds&&o.bodyIds(I,X,N),P.showSeparations&&o.separations(I,x.pairs.list,N),P.showCollisions&&o.collisions(I,x.pairs.list,N),P.showVertexNumbers&&o.vertexNumbers(I,X,N),P.showMousePosition&&o.mousePosition(I,I.mouse,N),o.constraints(lt,N),P.hasBounds&&o.endViewTransform(I),m.trigger(I,"afterRender",Et),V.lastElapsed=f.now()-b},o.stats=function(I,k,b){for(var x=I.engine,R=x.world,M=h.allBodies(R),N=0,P=55,V=44,nt=0,it=0,G=0;G<M.length;G+=1)N+=M[G].parts.length;var X={Part:N,Body:M.length,Cons:h.allConstraints(R).length,Comp:h.allComposites(R).length,Pair:x.pairs.list.length};k.fillStyle="#0e0f19",k.fillRect(nt,it,P*5.5,V),k.font="12px Arial",k.textBaseline="top",k.textAlign="right";for(var lt in X){var pt=X[lt];k.fillStyle="#aaa",k.fillText(lt,nt+P,it+8),k.fillStyle="#eee",k.fillText(pt,nt+P,it+26),nt+=P}},o.performance=function(I,k){var b=I.engine,x=I.timing,R=x.deltaHistory,M=x.elapsedHistory,N=x.timestampElapsedHistory,P=x.engineDeltaHistory,V=x.engineUpdatesHistory,nt=x.engineElapsedHistory,it=b.timing.lastUpdatesPerFrame,G=b.timing.lastDelta,X=A(R),lt=A(M),pt=A(P),Et=A(V),q=A(nt),tt=A(N),ut=tt/X||0,ct=Math.round(X/G),yt=1e3/X||0,dt=4,bt=12,Vt=60,Xt=34,qe=10,Ze=69;k.fillStyle="#0e0f19",k.fillRect(0,50,bt*5+Vt*6+22,Xt),o.status(k,qe,Ze,Vt,dt,R.length,Math.round(yt)+" fps",yt/o._goodFps,function(Ee){return R[Ee]/X-1}),o.status(k,qe+bt+Vt,Ze,Vt,dt,P.length,G.toFixed(2)+" dt",o._goodDelta/G,function(Ee){return P[Ee]/pt-1}),o.status(k,qe+(bt+Vt)*2,Ze,Vt,dt,V.length,it+" upf",Math.pow(f.clamp(Et/ct||1,0,1),4),function(Ee){return V[Ee]/Et-1}),o.status(k,qe+(bt+Vt)*3,Ze,Vt,dt,nt.length,q.toFixed(2)+" ut",1-it*q/o._goodFps,function(Ee){return nt[Ee]/q-1}),o.status(k,qe+(bt+Vt)*4,Ze,Vt,dt,M.length,lt.toFixed(2)+" rt",1-lt/o._goodFps,function(Ee){return M[Ee]/lt-1}),o.status(k,qe+(bt+Vt)*5,Ze,Vt,dt,N.length,ut.toFixed(2)+" x",ut*ut*ut,function(Ee){return(N[Ee]/R[Ee]/ut||0)-1})},o.status=function(I,k,b,x,R,M,N,P,V){I.strokeStyle="#888",I.fillStyle="#444",I.lineWidth=1,I.fillRect(k,b+7,x,1),I.beginPath(),I.moveTo(k,b+7-R*f.clamp(.4*V(0),-2,2));for(var nt=0;nt<x;nt+=1)I.lineTo(k+nt,b+7-(nt<M?R*f.clamp(.4*V(nt),-2,2):0));I.stroke(),I.fillStyle="hsl("+f.clamp(25+95*P,0,120)+",100%,60%)",I.fillRect(k,b-7,4,4),I.font="12px Arial",I.textBaseline="middle",I.textAlign="right",I.fillStyle="#eee",I.fillText(N,k+x,b-5)},o.constraints=function(I,k){for(var b=k,x=0;x<I.length;x++){var R=I[x];if(!(!R.render.visible||!R.pointA||!R.pointB)){var M=R.bodyA,N=R.bodyB,P,V;if(M?P=v.add(M.position,R.pointA):P=R.pointA,R.render.type==="pin")b.beginPath(),b.arc(P.x,P.y,3,0,2*Math.PI),b.closePath();else{if(N?V=v.add(N.position,R.pointB):V=R.pointB,b.beginPath(),b.moveTo(P.x,P.y),R.render.type==="spring")for(var nt=v.sub(V,P),it=v.perp(v.normalise(nt)),G=Math.ceil(f.clamp(R.length/5,12,20)),X,lt=1;lt<G;lt+=1)X=lt%2===0?1:-1,b.lineTo(P.x+nt.x*(lt/G)+it.x*X*4,P.y+nt.y*(lt/G)+it.y*X*4);b.lineTo(V.x,V.y)}R.render.lineWidth&&(b.lineWidth=R.render.lineWidth,b.strokeStyle=R.render.strokeStyle,b.stroke()),R.render.anchors&&(b.fillStyle=R.render.strokeStyle,b.beginPath(),b.arc(P.x,P.y,3,0,2*Math.PI),b.arc(V.x,V.y,3,0,2*Math.PI),b.closePath(),b.fill())}}},o.bodies=function(I,k,b){var x=b;I.engine;var R=I.options,M=R.showInternalEdges||!R.wireframes,N,P,V,nt;for(V=0;V<k.length;V++)if(N=k[V],!!N.render.visible){for(nt=N.parts.length>1?1:0;nt<N.parts.length;nt++)if(P=N.parts[nt],!!P.render.visible){if(R.showSleeping&&N.isSleeping?x.globalAlpha=.5*P.render.opacity:P.render.opacity!==1&&(x.globalAlpha=P.render.opacity),P.render.sprite&&P.render.sprite.texture&&!R.wireframes){var it=P.render.sprite,G=z(I,it.texture);x.translate(P.position.x,P.position.y),x.rotate(P.angle),x.drawImage(G,G.width*-it.xOffset*it.xScale,G.height*-it.yOffset*it.yScale,G.width*it.xScale,G.height*it.yScale),x.rotate(-P.angle),x.translate(-P.position.x,-P.position.y)}else{if(P.circleRadius)x.beginPath(),x.arc(P.position.x,P.position.y,P.circleRadius,0,2*Math.PI);else{x.beginPath(),x.moveTo(P.vertices[0].x,P.vertices[0].y);for(var X=1;X<P.vertices.length;X++)!P.vertices[X-1].isInternal||M?x.lineTo(P.vertices[X].x,P.vertices[X].y):x.moveTo(P.vertices[X].x,P.vertices[X].y),P.vertices[X].isInternal&&!M&&x.moveTo(P.vertices[(X+1)%P.vertices.length].x,P.vertices[(X+1)%P.vertices.length].y);x.lineTo(P.vertices[0].x,P.vertices[0].y),x.closePath()}R.wireframes?(x.lineWidth=1,x.strokeStyle=I.options.wireframeStrokeStyle,x.stroke()):(x.fillStyle=P.render.fillStyle,P.render.lineWidth&&(x.lineWidth=P.render.lineWidth,x.strokeStyle=P.render.strokeStyle,x.stroke()),x.fill())}x.globalAlpha=1}}},o.bodyWireframes=function(I,k,b){var x=b,R=I.options.showInternalEdges,M,N,P,V,nt;for(x.beginPath(),P=0;P<k.length;P++)if(M=k[P],!!M.render.visible)for(nt=M.parts.length>1?1:0;nt<M.parts.length;nt++){for(N=M.parts[nt],x.moveTo(N.vertices[0].x,N.vertices[0].y),V=1;V<N.vertices.length;V++)!N.vertices[V-1].isInternal||R?x.lineTo(N.vertices[V].x,N.vertices[V].y):x.moveTo(N.vertices[V].x,N.vertices[V].y),N.vertices[V].isInternal&&!R&&x.moveTo(N.vertices[(V+1)%N.vertices.length].x,N.vertices[(V+1)%N.vertices.length].y);x.lineTo(N.vertices[0].x,N.vertices[0].y)}x.lineWidth=1,x.strokeStyle=I.options.wireframeStrokeStyle,x.stroke()},o.bodyConvexHulls=function(I,k,b){var x=b,R,M,N;for(x.beginPath(),M=0;M<k.length;M++)if(R=k[M],!(!R.render.visible||R.parts.length===1)){for(x.moveTo(R.vertices[0].x,R.vertices[0].y),N=1;N<R.vertices.length;N++)x.lineTo(R.vertices[N].x,R.vertices[N].y);x.lineTo(R.vertices[0].x,R.vertices[0].y)}x.lineWidth=1,x.strokeStyle="rgba(255,255,255,0.2)",x.stroke()},o.vertexNumbers=function(I,k,b){var x=b,R,M,N;for(R=0;R<k.length;R++){var P=k[R].parts;for(N=P.length>1?1:0;N<P.length;N++){var V=P[N];for(M=0;M<V.vertices.length;M++)x.fillStyle="rgba(255,255,255,0.2)",x.fillText(R+"_"+M,V.position.x+(V.vertices[M].x-V.position.x)*.8,V.position.y+(V.vertices[M].y-V.position.y)*.8)}}},o.mousePosition=function(I,k,b){var x=b;x.fillStyle="rgba(255,255,255,0.8)",x.fillText(k.position.x+"  "+k.position.y,k.position.x+5,k.position.y-5)},o.bodyBounds=function(I,k,b){var x=b;I.engine;var R=I.options;x.beginPath();for(var M=0;M<k.length;M++){var N=k[M];if(N.render.visible)for(var P=k[M].parts,V=P.length>1?1:0;V<P.length;V++){var nt=P[V];x.rect(nt.bounds.min.x,nt.bounds.min.y,nt.bounds.max.x-nt.bounds.min.x,nt.bounds.max.y-nt.bounds.min.y)}}R.wireframes?x.strokeStyle="rgba(255,255,255,0.08)":x.strokeStyle="rgba(0,0,0,0.1)",x.lineWidth=1,x.stroke()},o.bodyAxes=function(I,k,b){var x=b;I.engine;var R=I.options,M,N,P,V;for(x.beginPath(),N=0;N<k.length;N++){var nt=k[N],it=nt.parts;if(nt.render.visible)if(R.showAxes)for(P=it.length>1?1:0;P<it.length;P++)for(M=it[P],V=0;V<M.axes.length;V++){var G=M.axes[V];x.moveTo(M.position.x,M.position.y),x.lineTo(M.position.x+G.x*20,M.position.y+G.y*20)}else for(P=it.length>1?1:0;P<it.length;P++)for(M=it[P],V=0;V<M.axes.length;V++)x.moveTo(M.position.x,M.position.y),x.lineTo((M.vertices[0].x+M.vertices[M.vertices.length-1].x)/2,(M.vertices[0].y+M.vertices[M.vertices.length-1].y)/2)}R.wireframes?(x.strokeStyle="indianred",x.lineWidth=1):(x.strokeStyle="rgba(255, 255, 255, 0.4)",x.globalCompositeOperation="overlay",x.lineWidth=2),x.stroke(),x.globalCompositeOperation="source-over"},o.bodyPositions=function(I,k,b){var x=b;I.engine;var R=I.options,M,N,P,V;for(x.beginPath(),P=0;P<k.length;P++)if(M=k[P],!!M.render.visible)for(V=0;V<M.parts.length;V++)N=M.parts[V],x.arc(N.position.x,N.position.y,3,0,2*Math.PI,!1),x.closePath();for(R.wireframes?x.fillStyle="indianred":x.fillStyle="rgba(0,0,0,0.5)",x.fill(),x.beginPath(),P=0;P<k.length;P++)M=k[P],M.render.visible&&(x.arc(M.positionPrev.x,M.positionPrev.y,2,0,2*Math.PI,!1),x.closePath());x.fillStyle="rgba(255,165,0,0.8)",x.fill()},o.bodyVelocity=function(I,k,b){var x=b;x.beginPath();for(var R=0;R<k.length;R++){var M=k[R];if(M.render.visible){var N=u.getVelocity(M);x.moveTo(M.position.x,M.position.y),x.lineTo(M.position.x+N.x,M.position.y+N.y)}}x.lineWidth=3,x.strokeStyle="cornflowerblue",x.stroke()},o.bodyIds=function(I,k,b){var x=b,R,M;for(R=0;R<k.length;R++)if(k[R].render.visible){var N=k[R].parts;for(M=N.length>1?1:0;M<N.length;M++){var P=N[M];x.font="12px Arial",x.fillStyle="rgba(255,255,255,0.5)",x.fillText(P.id,P.position.x+10,P.position.y-10)}}},o.collisions=function(I,k,b){var x=b,R=I.options,M,N,P,V;for(x.beginPath(),P=0;P<k.length;P++)if(M=k[P],!!M.isActive)for(N=M.collision,V=0;V<M.contactCount;V++){var nt=M.contacts[V],it=nt.vertex;x.rect(it.x-1.5,it.y-1.5,3.5,3.5)}for(R.wireframes?x.fillStyle="rgba(255,255,255,0.7)":x.fillStyle="orange",x.fill(),x.beginPath(),P=0;P<k.length;P++)if(M=k[P],!!M.isActive&&(N=M.collision,M.contactCount>0)){var G=M.contacts[0].vertex.x,X=M.contacts[0].vertex.y;M.contactCount===2&&(G=(M.contacts[0].vertex.x+M.contacts[1].vertex.x)/2,X=(M.contacts[0].vertex.y+M.contacts[1].vertex.y)/2),N.bodyB===N.supports[0].body||N.bodyA.isStatic===!0?x.moveTo(G-N.normal.x*8,X-N.normal.y*8):x.moveTo(G+N.normal.x*8,X+N.normal.y*8),x.lineTo(G,X)}R.wireframes?x.strokeStyle="rgba(255,165,0,0.7)":x.strokeStyle="orange",x.lineWidth=1,x.stroke()},o.separations=function(I,k,b){var x=b,R=I.options,M,N,P,V,nt;for(x.beginPath(),nt=0;nt<k.length;nt++)if(M=k[nt],!!M.isActive){N=M.collision,P=N.bodyA,V=N.bodyB;var it=1;!V.isStatic&&!P.isStatic&&(it=.5),V.isStatic&&(it=0),x.moveTo(V.position.x,V.position.y),x.lineTo(V.position.x-N.penetration.x*it,V.position.y-N.penetration.y*it),it=1,!V.isStatic&&!P.isStatic&&(it=.5),P.isStatic&&(it=0),x.moveTo(P.position.x,P.position.y),x.lineTo(P.position.x+N.penetration.x*it,P.position.y+N.penetration.y*it)}R.wireframes?x.strokeStyle="rgba(255,165,0,0.5)":x.strokeStyle="orange",x.stroke()},o.inspector=function(I,k){I.engine;var b=I.selected,x=I.render,R=x.options,M;if(R.hasBounds){var N=x.bounds.max.x-x.bounds.min.x,P=x.bounds.max.y-x.bounds.min.y,V=N/x.options.width,nt=P/x.options.height;k.scale(1/V,1/nt),k.translate(-x.bounds.min.x,-x.bounds.min.y)}for(var it=0;it<b.length;it++){var G=b[it].data;switch(k.translate(.5,.5),k.lineWidth=1,k.strokeStyle="rgba(255,165,0,0.9)",k.setLineDash([1,2]),G.type){case"body":M=G.bounds,k.beginPath(),k.rect(Math.floor(M.min.x-3),Math.floor(M.min.y-3),Math.floor(M.max.x-M.min.x+6),Math.floor(M.max.y-M.min.y+6)),k.closePath(),k.stroke();break;case"constraint":var X=G.pointA;G.bodyA&&(X=G.pointB),k.beginPath(),k.arc(X.x,X.y,10,0,2*Math.PI),k.closePath(),k.stroke();break}k.setLineDash([]),k.translate(-.5,-.5)}I.selectStart!==null&&(k.translate(.5,.5),k.lineWidth=1,k.strokeStyle="rgba(255,165,0,0.6)",k.fillStyle="rgba(255,165,0,0.1)",M=I.selectBounds,k.beginPath(),k.rect(Math.floor(M.min.x),Math.floor(M.min.y),Math.floor(M.max.x-M.min.x),Math.floor(M.max.y-M.min.y)),k.closePath(),k.stroke(),k.fill(),k.translate(-.5,-.5)),R.hasBounds&&k.setTransform(1,0,0,1,0,0)};var E=function(I,k){var b=I.engine,x=I.timing,R=x.historySize,M=b.timing.timestamp;x.delta=k-x.lastTime||o._goodDelta,x.lastTime=k,x.timestampElapsed=M-x.lastTimestamp||0,x.lastTimestamp=M,x.deltaHistory.unshift(x.delta),x.deltaHistory.length=Math.min(x.deltaHistory.length,R),x.engineDeltaHistory.unshift(b.timing.lastDelta),x.engineDeltaHistory.length=Math.min(x.engineDeltaHistory.length,R),x.timestampElapsedHistory.unshift(x.timestampElapsed),x.timestampElapsedHistory.length=Math.min(x.timestampElapsedHistory.length,R),x.engineUpdatesHistory.unshift(b.timing.lastUpdatesPerFrame),x.engineUpdatesHistory.length=Math.min(x.engineUpdatesHistory.length,R),x.engineElapsedHistory.unshift(b.timing.lastElapsed),x.engineElapsedHistory.length=Math.min(x.engineElapsedHistory.length,R),x.elapsedHistory.unshift(x.lastElapsed),x.elapsedHistory.length=Math.min(x.elapsedHistory.length,R)},A=function(I){for(var k=0,b=0;b<I.length;b+=1)k+=I[b];return k/I.length||0},O=function(I,k){var b=document.createElement("canvas");return b.width=I,b.height=k,b.oncontextmenu=function(){return!1},b.onselectstart=function(){return!1},b},L=function(I){var k=I.getContext("2d"),b=window.devicePixelRatio||1,x=k.webkitBackingStorePixelRatio||k.mozBackingStorePixelRatio||k.msBackingStorePixelRatio||k.oBackingStorePixelRatio||k.backingStorePixelRatio||1;return b/x},z=function(I,k){var b=I.textures[k];return b||(b=I.textures[k]=new Image,b.src=k,b)},B=function(I,k){var b=k;/(jpg|gif|png)$/.test(k)&&(b="url("+k+")"),I.canvas.style.background=b,I.canvas.style.backgroundSize="contain",I.currentBackground=k}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(5),f=a(17),h=a(0);(function(){o._maxFrameDelta=1e3/15,o._frameDeltaFallback=1e3/60,o._timeBufferMargin=1.5,o._elapsedNextEstimate=1,o._smoothingLowerBound=.1,o._smoothingUpperBound=.9,o.create=function(m){var v={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},T=h.extend(v,m);return T.fps=0,T},o.run=function(m,v){return m.timeBuffer=o._frameDeltaFallback,(function T(y){m.frameRequestId=o._onNextFrame(m,T),y&&m.enabled&&o.tick(m,v,y)})(),m},o.tick=function(m,v,T){var y=h.now(),S=m.delta,E=0,A=T-m.timeLastTick;if((!A||!m.timeLastTick||A>Math.max(o._maxFrameDelta,m.maxFrameTime))&&(A=m.frameDelta||o._frameDeltaFallback),m.frameDeltaSmoothing){m.frameDeltaHistory.push(A),m.frameDeltaHistory=m.frameDeltaHistory.slice(-m.frameDeltaHistorySize);var O=m.frameDeltaHistory.slice(0).sort(),L=m.frameDeltaHistory.slice(O.length*o._smoothingLowerBound,O.length*o._smoothingUpperBound),z=d(L);A=z||A}m.frameDeltaSnapping&&(A=1e3/Math.round(1e3/A)),m.frameDelta=A,m.timeLastTick=T,m.timeBuffer+=m.frameDelta,m.timeBuffer=h.clamp(m.timeBuffer,0,m.frameDelta+S*o._timeBufferMargin),m.lastUpdatesDeferred=0;var B=m.maxUpdates||Math.ceil(m.maxFrameTime/S),I={timestamp:v.timing.timestamp};u.trigger(m,"beforeTick",I),u.trigger(m,"tick",I);for(var k=h.now();S>0&&m.timeBuffer>=S*o._timeBufferMargin;){u.trigger(m,"beforeUpdate",I),f.update(v,S),u.trigger(m,"afterUpdate",I),m.timeBuffer-=S,E+=1;var b=h.now()-y,x=h.now()-k,R=b+o._elapsedNextEstimate*x/E;if(E>=B||R>m.maxFrameTime){m.lastUpdatesDeferred=Math.round(Math.max(0,m.timeBuffer/S-o._timeBufferMargin));break}}v.timing.lastUpdatesPerFrame=E,u.trigger(m,"afterTick",I),m.frameDeltaHistory.length>=100&&(m.lastUpdatesDeferred&&Math.round(m.frameDelta/S)>B?h.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):m.lastUpdatesDeferred&&h.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof m.isFixed<"u"&&h.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(m.deltaMin||m.deltaMax)&&h.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),m.fps!==0&&h.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},o.stop=function(m){o._cancelNextFrame(m)},o._onNextFrame=function(m,v){if(typeof window<"u"&&window.requestAnimationFrame)m.frameRequestId=window.requestAnimationFrame(v);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return m.frameRequestId},o._cancelNextFrame=function(m){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(m.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var d=function(m){for(var v=0,T=m.length,y=0;y<T;y+=1)v+=m[y];return v/T||0}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(8),f=a(0),h=f.deprecated;(function(){o.collides=function(d,m){return u.collides(d,m)},h(o,"collides","SAT.collides  replaced by Collision.collides")})()}),(function(e,i,a){var o={};e.exports=o,a(1);var u=a(0);(function(){o.pathToVertices=function(f,h){typeof window<"u"&&!("SVGPathSeg"in window)&&u.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var d,m,v,T,y,S,E,A,O,L,z=[],B,I,k=0,b=0,x=0;h=h||15;var R=function(N,P,V){var nt=V%2===1&&V>1;if(!O||N!=O.x||P!=O.y){O&&nt?(B=O.x,I=O.y):(B=0,I=0);var it={x:B+N,y:I+P};(nt||!O)&&(O=it),z.push(it),b=B+N,x=I+P}},M=function(N){var P=N.pathSegTypeAsLetter.toUpperCase();if(P!=="Z"){switch(P){case"M":case"L":case"T":case"C":case"S":case"Q":b=N.x,x=N.y;break;case"H":b=N.x;break;case"V":x=N.y;break}R(b,x,N.pathSegType)}};for(o._svgPathToAbsolute(f),v=f.getTotalLength(),S=[],d=0;d<f.pathSegList.numberOfItems;d+=1)S.push(f.pathSegList.getItem(d));for(E=S.concat();k<v;){if(L=f.getPathSegAtLength(k),y=S[L],y!=A){for(;E.length&&E[0]!=y;)M(E.shift());A=y}switch(y.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":T=f.getPointAtLength(k),R(T.x,T.y,0);break}k+=h}for(d=0,m=E.length;d<m;++d)M(E[d]);return z},o._svgPathToAbsolute=function(f){for(var h,d,m,v,T,y,S=f.pathSegList,E=0,A=0,O=S.numberOfItems,L=0;L<O;++L){var z=S.getItem(L),B=z.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(B))"x"in z&&(E=z.x),"y"in z&&(A=z.y);else switch("x1"in z&&(m=E+z.x1),"x2"in z&&(T=E+z.x2),"y1"in z&&(v=A+z.y1),"y2"in z&&(y=A+z.y2),"x"in z&&(E+=z.x),"y"in z&&(A+=z.y),B){case"m":S.replaceItem(f.createSVGPathSegMovetoAbs(E,A),L);break;case"l":S.replaceItem(f.createSVGPathSegLinetoAbs(E,A),L);break;case"h":S.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(E),L);break;case"v":S.replaceItem(f.createSVGPathSegLinetoVerticalAbs(A),L);break;case"c":S.replaceItem(f.createSVGPathSegCurvetoCubicAbs(E,A,m,v,T,y),L);break;case"s":S.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(E,A,T,y),L);break;case"q":S.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(E,A,m,v),L);break;case"t":S.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(E,A),L);break;case"a":S.replaceItem(f.createSVGPathSegArcAbs(E,A,z.r1,z.r2,z.angle,z.largeArcFlag,z.sweepFlag),L);break;case"z":case"Z":E=h,A=d;break}(B=="M"||B=="m")&&(h=E,d=A)}}})()}),(function(e,i,a){var o={};e.exports=o;var u=a(6);a(0),(function(){o.create=u.create,o.add=u.add,o.remove=u.remove,o.clear=u.clear,o.addComposite=u.addComposite,o.addBody=u.addBody,o.addConstraint=u.addConstraint})()})])})})(mh)),mh.exports}var l4=o4();const Du=zw(l4);function aE({products:s,categoryTheme:t}){const e=mt.useRef(null),i=mt.useRef(null),a=mt.useRef(null),[o,u]=mt.useState([]);return mt.useEffect(()=>{if(!e.current||s.length===0)return;const f=Du.Engine,h=Du.Runner,d=Du.World,m=Du.Bodies,v=Du.Body,T=f.create();T.world.gravity.y=0,T.world.gravity.x=0,i.current=T;const y=e.current.clientWidth,S=e.current.clientHeight,O=y*S*.45/s.length,L=Math.min(Math.sqrt(O/Math.PI),160),z=s.map(R=>{const M=(R.badge||"").toLowerCase()==="limited",N=M?L*1.35:L,P=Math.random()*Math.PI*2,V=Math.random()*y*.4+y*.2,nt=y/2+Math.cos(P)*V,it=S/2+Math.sin(P)*V,G=m.circle(nt,it,N,{restitution:.8,friction:.05,frictionAir:.04,density:M?.002:.001,render:{visible:!1}});return G.product=R,G.radius=N,G});d.add(T.world,z);const B={isStatic:!0,render:{visible:!1}};d.add(T.world,[m.rectangle(y/2,-100,y*2,200,B),m.rectangle(y/2,S+100,y*2,200,B),m.rectangle(-100,S/2,200,S*2,B),m.rectangle(y+100,S/2,200,S*2,B)]);const I=h.create();h.run(I,T);const k=y/2,b=S/2,x=()=>{z.forEach(R=>{const M=k-R.position.x,N=b-R.position.y,P=Math.sqrt(M*M+N*N);if(P>10){const nt=15e-6*R.mass,it={x:M/P*nt,y:N/P*nt};v.applyForce(R,R.position,it)}const V={x:(Math.random()-.5)*3e-4,y:(Math.random()-.5)*3e-4};v.applyForce(R,R.position,V)}),u([...z]),a.current=requestAnimationFrame(x)};return x(),()=>{cancelAnimationFrame(a.current),h.stop(I),f.clear(T)}},[s]),F.jsx("div",{className:"cloud-bubbles-container",ref:e,children:o.map(f=>{const h=(f.product.badge||"").toLowerCase()==="limited",d=f.radius/100;return F.jsx("div",{className:"cloud-bubble-wrapper",style:{width:f.radius*2,height:f.radius*2,transform:`translate(${f.position.x-f.radius}px, ${f.position.y-f.radius}px)`,"--theme-primary":t?.primary||"#122418","--theme-accent":t?.accent||"#6ab04c",zIndex:h?10:1},children:F.jsxs("div",{className:`cloud-bubble ${h?"cloud-bubble-limited":""}`,children:[F.jsxs("div",{className:"cloud-bubble-inner",children:[f.product.imageUrl?F.jsx("img",{src:f.product.imageUrl,alt:f.product.name}):F.jsx("div",{className:"cloud-bubble-placeholder",children:""}),F.jsxs("div",{className:"cloud-bubble-info",style:{fontSize:`${Math.max(.7,d)}rem`},children:[F.jsx("h3",{children:f.product.name}),F.jsxs("div",{className:"price",children:["$",Number(f.product.price||0).toFixed(2)]})]})]}),f.product.badge&&F.jsx("div",{className:"cloud-badge",children:f.product.badge})]})},f.product.id)})})}function lx(s,t,e){return s<=1?Math.min(t,e)*.28:s<=3?Math.min(t,e)/3.5:s<=6?Math.min(t,e)/4.5:Math.min(t,e)/Math.max(Math.sqrt(s)*1.8,3)}function u4(s,t,e){if(s===0)return[];const i=lx(s,t,e),a=Math.min(Math.max(i,80),160),o=t/2,u=e/2;if(s===1)return[{x:o,y:u}];const f=a*1.5,h=a*1.6,d=[];if(s<=4){const v=Math.ceil(s/2),T=1*f,y=(v-1)*h;for(let S=0;S<s;S++){const E=S%2,A=Math.floor(S/2);d.push({x:o-T/2+E*f,y:u-y/2+A*h})}}else{d.push({x:o,y:u});const m=a*2.2;let v=1,T=1;for(;v<s;){const y=T*6,S=Math.min(y,s-v),E=T*m,A=Math.min(o-a,u-a)*.85,O=Math.min(E,A);for(let L=0;L<S;L++){const z=L/S*Math.PI*2-Math.PI/6,B=o+Math.cos(z)*O,I=u+Math.sin(z)*O;d.push({x:Math.max(a,Math.min(t-a,B)),y:Math.max(a,Math.min(e-a,I))}),v++}T++}}return d}const c4=40;function f4({accent:s,W:t,H:e}){const i=mt.useRef(null),a=mt.useRef(null);return mt.useEffect(()=>{const o=i.current;if(!o)return;const u=o.getContext("2d"),f=Math.min(window.devicePixelRatio||1,2);o.width=t*f,o.height=e*f,u.scale(f,f);const h=[s,"#e8a0b8","#fff","#c06c84","#d4a0c0"],d=Array.from({length:Math.min(30,c4)},()=>({x:Math.random()*t,y:Math.random()*e,r:Math.random()*2+.8,color:h[Math.floor(Math.random()*h.length)],life:Math.random(),speed:Math.random()*.003+.002,vx:(Math.random()-.5)*.4,vy:-Math.random()*.4-.15}));function m(){u.clearRect(0,0,t,e);for(let v=0;v<d.length;v++){const T=d[v];T.life+=T.speed,T.life>1&&(T.life=0,T.x=Math.random()*t,T.y=e+5),T.x+=T.vx,T.y+=T.vy;const y=Math.sin(T.life*Math.PI)*.35;u.save(),u.globalAlpha=y,u.fillStyle=T.color,u.shadowBlur=4,u.shadowColor=T.color,u.save(),u.translate(T.x,T.y),u.rotate(Math.PI/4),u.fillRect(-T.r,-T.r,T.r*2,T.r*2),u.restore(),u.restore()}a.current=requestAnimationFrame(m)}return m(),()=>cancelAnimationFrame(a.current)},[s,t,e]),F.jsx("canvas",{ref:i,style:{position:"absolute",inset:0,pointerEvents:"none",zIndex:0,width:t,height:e}})}function h4({products:s=[],categoryTheme:t}){const e=t?.accent||"#c06c84",i=window.innerWidth,a=Math.floor(window.innerHeight*.84),o=mt.useMemo(()=>u4(s.length,i,a),[s.length,i,a]),u=lx(s.length,i,a),f=Math.min(Math.max(u,80),160),h=[];return s.length>=2&&s.forEach((d,m)=>{const v=o[m];if(!v)return;s.map((y,S)=>({j:S,dist:Math.hypot((o[S]?.x??0)-v.x,(o[S]?.y??0)-v.y)})).filter(({j:y})=>y!==m).sort((y,S)=>y.dist-S.dist).slice(0,2).forEach(({j:y})=>{y>m&&h.push({x1:v.x,y1:v.y,x2:o[y]?.x??0,y2:o[y]?.y??0,key:`${m}-${y}`})})}),F.jsxs("div",{className:"neural-scene",style:{width:i,height:a,"--accent":e},children:[F.jsx(f4,{accent:e,W:i,H:a}),F.jsxs("svg",{className:"neural-svg",style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1},viewBox:`0 0 ${i} ${a}`,children:[F.jsx("defs",{children:F.jsxs("filter",{id:"neural-glow",children:[F.jsx("feGaussianBlur",{stdDeviation:"1.5",result:"blur"}),F.jsxs("feMerge",{children:[F.jsx("feMergeNode",{in:"blur"}),F.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),h.map((d,m)=>F.jsx("line",{x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,stroke:e,strokeWidth:"1",strokeOpacity:"0.15",filter:"url(#neural-glow)",children:F.jsx("animate",{attributeName:"stroke-opacity",values:"0.08;0.3;0.08",dur:`${2.5+m%5*.7}s`,repeatCount:"indefinite"})},d.key)),h.slice(0,5).map((d,m)=>F.jsx("circle",{r:"2",fill:e,opacity:"0.5",filter:"url(#neural-glow)",children:F.jsx("animateMotion",{dur:`${3.5+m*.5}s`,repeatCount:"indefinite",path:`M${d.x1},${d.y1} L${d.x2},${d.y2}`})},`dot-${d.key}`))]}),s.map((d,m)=>{const v=o[m];return v?F.jsx("div",{className:"neural-node neural-node--in",style:{position:"absolute",left:v.x,top:v.y,transform:"translate(-50%, -50%)",zIndex:2,animationDelay:`${m*.1}s`},children:F.jsx(ac,{product:d,size:f,variant:"hex"})},d.id):null})]})}function d4(s,t,e){if(s===0)return{cards:[],cardW:120,cardH:336};if(s===1){const y=Math.min(Math.floor(t*.18),160),S=Math.min(y*2.5,e*.7);return{cards:[{x:(t-y)/2,y:(e-S)/2,col:0,row:0}],cardW:y,cardH:S}}const i=Math.ceil(Math.sqrt(s*1.5)),a=Math.ceil(s/i),o=Math.floor(e/a)-20;let u=Math.min(Math.max(Math.floor(t*.95/i)-10,45),140),f=u*2.5;f>o&&(f=Math.max(o,70),u=Math.min(u,Math.floor(f/2.5)));const h=i*u,d=Math.max((t-h)/(i+1),10),m=f*.1,v=a*f+m,T=Math.max((e-v)/(a+1),10);return{cards:Array.from({length:s},(y,S)=>{const E=S%i,A=Math.floor(S/i),O=E%2===0?0:m,L=Math.max(d,d+E*(u+d)),z=Math.max(T,T+A*(f+T)+O);return{x:Math.min(L,t-u-5),y:Math.min(z,e-f-5),col:E,row:A}}),cardW:u,cardH:f}}function m4({products:s=[],categoryTheme:t}){const e=t?.accent||"#7c8cf8",i=window.innerWidth,a=Math.floor(window.innerHeight*.84),{cards:o,cardW:u}=d4(s.length||1,i,a);return F.jsxs("div",{className:"neon-grid-scene",style:{width:i,height:a,"--accent":e},children:[F.jsx("div",{className:"neon-scanlines"}),F.jsx("div",{className:"neon-corner neon-corner--tl",style:{"--accent":e}}),F.jsx("div",{className:"neon-corner neon-corner--br",style:{"--accent":e}}),s.map((f,h)=>{const d=o[h]||o[0];return d?F.jsxs("div",{className:"neon-card-wrapper",style:{left:d.x,top:d.y,width:u,"--accent":e,"--delay":`${h*.15}s`,"--spin-delay":`${h*.8}s`},children:[F.jsx("div",{className:"neon-border-glow"}),F.jsx("div",{className:"neon-rotate-stage",children:F.jsx(ac,{product:f,size:u,variant:"vertical"})})]},f.id):null})]})}function p4(s,t,e){if(s===0)return[];if(s===1){const o=Math.min(Math.floor(t*.18),180),u=o*1.4;return[{x:(t-o)/2,y:(e-u)/2,rotate:0,cardW:o,cardH:u,z:1}]}const i=Math.min(Math.max(Math.floor(t*.11),95),165),a=i*1.4;if(s<=8){const o=Math.min((s-1)*16,100),u=-o/2,f=t/2,h=e*.58,d=t*.38;return Array.from({length:s},(m,v)=>{const T=u+o/Math.max(s-1,1)*v,y=T*(Math.PI/180);return{x:f+Math.sin(y)*d-i/2,y:h-Math.cos(y)*d*.32-a/2,rotate:T*.5,cardW:i,cardH:a,z:v}})}else{const o=Math.ceil(Math.sqrt(s*(t/e))),u=Math.ceil(s/o),f=t*.95,h=e*.9;let d=Math.min(i,Math.floor(f/o-15)),m=d*1.4;m>h/u-15&&(m=Math.max(h/u-15,60),d=m/1.4);const v=Math.max((t-o*d)/(o+1),10),T=Math.max((e-u*m)/(u+1),10);return Array.from({length:s},(y,S)=>{const E=S%o,A=Math.floor(S/o);return{x:v+E*(d+v),y:T+A*(m+T),rotate:0,cardW:d,cardH:m,z:1}})}}function g4({product:s,accent:t}){const e=s.extractType||s.strainType||s.category||"Cartridge";return F.jsx("div",{className:"collection-extract-badge",style:{"--accent":t},children:e})}function y4({products:s=[],categoryTheme:t}){const e=t?.accent||"#a8a8a8",i=window.innerWidth,a=Math.floor(window.innerHeight*.84),o=mt.useRef(null),u=mt.useRef(null),f=mt.useMemo(()=>p4(s.length,i,a),[s.length,i,a]);return mt.useEffect(()=>{if(!o.current||!s.length)return;const h=o.current.querySelectorAll(".collection-card");if(h.length)return u.current&&(u.current.kill(),u.current=null),Qr.set(h,{opacity:0,scale:.5,x:i/2,y:a*.6,rotation:0}),u.current=Qr.to(h,{opacity:1,scale:1,x:d=>f[d]?.x??0,y:d=>f[d]?.y??0,rotation:d=>f[d]?.rotate??0,duration:.9,stagger:.08,ease:"back.out(1.4)",delay:.3}),()=>{u.current&&(u.current.kill(),u.current=null)}},[s,f,i,a]),F.jsxs("div",{className:"collection-scene",style:{width:i,height:a,"--accent":e},children:[F.jsx("div",{className:"collection-metal-bg",style:{"--accent":e}}),F.jsx("div",{className:"collection-dust-overlay"}),F.jsx("div",{className:"collection-title",style:{"--accent":e},children:"The Collection"}),F.jsx("div",{ref:o,className:"collection-cards",children:s.map((h,d)=>{const m=f[d];return m?F.jsxs("div",{className:"collection-card",style:{position:"absolute",width:m.cardW,zIndex:m.z+10,transformOrigin:"bottom center"},children:[F.jsx(g4,{product:h,accent:e}),F.jsx(ac,{product:h,size:m.cardW,variant:"standard"})]},h.id):null})})]})}function Vp({index:s,accent:t}){return F.jsx("div",{className:"smoke-wisp",style:{"--delay":`${s*.7}s`,"--x-drift":`${(Math.random()-.5)*25}px`,"--accent":t,left:`${15+s%5*18}%`}})}function _4({products:s=[],categoryTheme:t}){const e=t?.accent||"#b8943e",i=window.innerWidth,a=Math.floor(window.innerHeight*.84),o=mt.useRef(null),u=mt.useRef(null),f=Math.ceil(s.length/2),h=s.slice(0,f),d=s.slice(f),m=Math.max(f,1),v=s.length;let T;const y=i*.95,S=Math.max(y/m-20,50);v===1?T=Math.min(Math.floor(i*.22),200):(v<=3,T=Math.min(S,170));const E=i;return mt.useEffect(()=>{o.current&&(u.current&&(u.current.kill(),u.current=null),Qr.set(o.current,{x:0}))},[s,i,E]),F.jsxs("div",{className:"smoke-scene",style:{width:i,height:a,"--accent":e},children:[F.jsx("div",{className:"smoke-ambient",style:{"--accent":e}}),F.jsx("div",{className:"smoke-perspective-root",children:F.jsxs("div",{ref:o,className:"smoke-shelf-wrapper",style:{width:E},children:[F.jsxs("div",{className:"smoke-shelf smoke-shelf--near",style:{"--accent":e},children:[F.jsx("div",{className:"smoke-shelf__plank"}),F.jsx("div",{className:"smoke-shelf__products smoke-shelf__products--centered",children:h.map((A,O)=>F.jsxs("div",{className:"smoke-slot",style:{"--slot-i":O,"--accent":e},children:[F.jsx(ac,{product:A,size:T,variant:"vertical"}),F.jsx(Vp,{index:O,accent:e}),F.jsx(Vp,{index:O+1,accent:e})]},A.id))})]}),F.jsxs("div",{className:"smoke-shelf smoke-shelf--far",style:{"--accent":e},children:[F.jsx("div",{className:"smoke-shelf__plank"}),F.jsx("div",{className:"smoke-shelf__products smoke-shelf__products--centered",children:d.map((A,O)=>F.jsxs("div",{className:"smoke-slot",style:{"--slot-i":O,"--accent":e},children:[F.jsx(ac,{product:A,size:Math.floor(T*.82),variant:"vertical"}),F.jsx(Vp,{index:O+2,accent:e})]},A.id))})]})]})}),F.jsx("div",{className:"smoke-atmosphere",children:Array.from({length:6}).map((A,O)=>F.jsx("div",{className:"smoke-atm-wisp",style:{"--i":O,"--accent":e}},O))})]})}const oE={flowers:{primary:"#122418",accent:"#6ab04c",particle:"#6ab04c"},edibles:{primary:"#2a1528",accent:"#c06c84",particle:"#c06c84"},vapes:{primary:"#101428",accent:"#7c8cf8",particle:"#7c8cf8"},disposables:{primary:"#101428",accent:"#7c8cf8",particle:"#7c8cf8"},cartridges:{primary:"#161616",accent:"#a8a8a8",particle:"#a8a8a8"},prerolls:{primary:"#1e1408",accent:"#b8943e",particle:"#b8943e"},"pre-rolls":{primary:"#1e1408",accent:"#b8943e",particle:"#b8943e"},deals:{primary:"#221010",accent:"#e55039",particle:"#e55039"}};function v4(s){if(!s)return oE.flowers;const t=(s.id||s.name||"").toLowerCase().replace(/[\s/]+/g,"");for(const[e,i]of Object.entries(oE))if(t.includes(e)||e.includes(t))return i;return{primary:"#122418",accent:"#6ab04c",particle:"#6ab04c"}}function T4({category:s,products:t,theme:e}){if(!s||t.length===0)return F.jsx("div",{className:"app-empty",children:F.jsx("p",{children:"Waiting for products"})});const i=(s.id||"").toLowerCase(),a=e;return i.includes("flower")?F.jsx(aE,{products:t,categoryTheme:a}):i.includes("edible")?F.jsx(h4,{products:t,categoryTheme:a}):i.includes("vape")||i.includes("disposable")?F.jsx(m4,{products:t,categoryTheme:a}):i.includes("cart")?F.jsx(y4,{products:t,categoryTheme:a}):i.includes("pre")?F.jsx(_4,{products:t,categoryTheme:a}):i.includes("deal")?F.jsx(s4,{products:t}):F.jsx(aE,{products:t,categoryTheme:a})}function E4(){const[s,t]=mt.useState(()=>new Date);return mt.useEffect(()=>{const e=setInterval(()=>t(new Date),1e3);return()=>clearInterval(e)},[]),F.jsx("span",{className:"app-clock",children:s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}function S4(){const{currentCategory:s,nextCategory:t,progress:e,jumpTo:i,categories:a,connectionError:o}=gO(),[u,f]=mt.useState([]),[h,d]=mt.useState(!1),m=mt.useRef(0),v=v4(s);mt.useEffect(()=>{if(!s?.id){f([]);return}const y=Jg(Nh,"products",s.id,"items"),S=xh(y,E=>{m.current=0,d(!1);const A=E.docs.map(O=>({id:O.id,...O.data()})).filter(O=>O.active!==!1);f(A)},E=>{console.error("[App] products error:",E),m.current+=1,m.current>=3&&d(!0)});return()=>S()},[s?.id]),mt.useEffect(()=>{const y=document.documentElement;y.style.setProperty("--category-primary",v.primary),y.style.setProperty("--category-accent",v.accent),y.style.setProperty("--category-particle",v.particle)},[v]);const T=o||h;return F.jsxs("div",{className:"app-root",children:[F.jsx(zI,{visible:T}),F.jsx("div",{className:"category-glow-bg"}),F.jsx(_O,{categoryAccent:v.particle}),F.jsxs("header",{className:"app-header",children:[F.jsx("div",{className:"app-logo",children:F.jsx("img",{src:"/appledream_display/main_logo.webp",alt:"Logo",style:{height:"48px",objectFit:"contain"}})}),F.jsx("div",{className:"app-category-name",children:s?.name||"Loading"}),F.jsx("div",{className:"app-header-right",children:F.jsx(E4,{})})]}),F.jsx("main",{className:"app-content",children:F.jsx(UN,{categoryId:s?.id,categoryName:s?.name,categoryAccent:v.accent,children:F.jsx(T4,{category:s,products:u,theme:v})})}),F.jsxs("footer",{className:"app-footer",children:[F.jsx("div",{className:"app-next-preview",children:t&&t.id!==s?.id&&F.jsxs(F.Fragment,{children:[F.jsx("span",{className:"app-next-label",children:"Next:"}),F.jsx("span",{className:"app-next-name",children:t.name})]})}),F.jsx("div",{className:"app-dots",children:a.map((y,S)=>{const E=y.id===s?.id;return F.jsx("button",{className:`app-dot ${E?"app-dot--active":""}`,onClick:()=>i(S),title:y.name,"aria-label":`Jump to ${y.name}`},y.id)})}),F.jsx("div",{className:"app-progress",children:F.jsx("div",{className:"app-progress__bar",style:{transform:`scaleX(${e})`}})})]})]})}class A4 extends mt.Component{constructor(t){super(t),this.state={hasError:!1,error:null},this.retryTimer=null}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("[ErrorBoundary] Caught error:",t,e)}componentDidUpdate(t,e){this.state.hasError&&!e.hasError&&(this.retryTimer=setTimeout(()=>{this.setState({hasError:!1,error:null})},1e4))}componentWillUnmount(){this.retryTimer&&clearTimeout(this.retryTimer)}render(){return this.state.hasError?F.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw",background:"#080f09",color:"#f0ead6",fontFamily:"'Outfit', sans-serif",gap:"24px",textAlign:"center",padding:"40px"},children:[F.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"rgba(232, 92, 43, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px"},children:""}),F.jsx("h1",{style:{fontSize:"clamp(1.5rem, 4vw, 2.5rem)",fontWeight:700,margin:0,color:"#c8a951"},children:"Display Recovering"}),F.jsx("p",{style:{fontSize:"clamp(0.9rem, 2vw, 1.2rem)",color:"#9db89e",maxWidth:"500px",lineHeight:1.6,margin:0},children:"An unexpected error occurred. The display will automatically restart in a few seconds."}),F.jsx("div",{style:{width:"200px",height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px",overflow:"hidden"},children:F.jsx("div",{style:{height:"100%",background:"linear-gradient(90deg, #c8a951, #7cb518)",animation:"error-progress 10s linear forwards"}})}),F.jsx("style",{children:`
                        @keyframes error-progress {
                            from { width: 0%; }
                            to { width: 100%; }
                        }
                    `})]}):this.props.children}}Xw.createRoot(document.getElementById("root")).render(F.jsx(mt.StrictMode,{children:F.jsx(A4,{children:F.jsx(S4,{})})}));
